!function(a){"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],a):"object"==typeof exports?a(require("jquery"),require("load-image")):a(window.jQuery,window.loadImage)}(function(b,a){b.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"}),b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),processActions:{loadVideo:function(g,f){if(f.disabled){return g}var e,c,h=g.files[g.index];return this._videoElement.canPlayType&&this._videoElement.canPlayType(h.type)&&("number"!==b.type(f.maxFileSize)||h.size<=f.maxFileSize)&&(!f.fileTypes||f.fileTypes.test(h.type))&&(e=a.createObjectURL(h))?(c=this._videoElement.cloneNode(!1),c.src=e,c.controls=!1,g.video=c,g):g},setVideo:function(d,c){return d.video&&!c.disabled&&(d.files[d.index][c.name||"preview"]=d.video),d}}})});