(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css";var o='.sender_form{width:400px;display:inline-block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative}.sender_form *{box-sizing:border-box;display:inline-block}.sender_form .grid-row{clear:both;width:100%}.sender_form .sender_form_item_checkbox{position:relative;margin-bottom:9px;display:block}.sender_form .sender_form_checkbox,#ie#fix{position:absolute;clip:rect(0, 0, 0, 0);left:0}.sender_form .sender_form_label_checkbox{display:table;overflow:hidden;padding-left:25px;height:18px;cursor:default}.sender_form .sender_form_label_checkbox:before,#ie#fix{content:"";display:inline;float:left;width:18px;height:18px;background:url(images/sprite2.png) no-repeat -115px -125px;position:absolute;top:50%;margin-left:-25px;margin-top:-9px}.sender_form .sender_form_label_checkbox span{line-height:1.2;vertical-align:middle;display:table-cell}.sender_form .sender_form_checkbox:checked+.sender_form_label_checkbox:before,#ie#fix{background:url(images/sprite2.png) no-repeat -115px -90px}.sender_form .sender_form_item_radio{position:relative;margin-bottom:9px;display:block}.sender_form .sender_form_radio,#ie#fix{position:absolute;clip:rect(0, 0, 0, 0);left:0}.sender_form .sender_form_label_radio{display:table;overflow:hidden;padding-left:25px;height:18px;cursor:default}.sender_form .sender_form_label_radio:before,#ie#fix{content:"";display:inline;float:left;width:18px;height:18px;background:url(images/sprite2.png) no-repeat -80px -125px;position:absolute;top:50%;margin-left:-25px;margin-top:-9px}.sender_form .sender_form_label_radio span{line-height:1.2;vertical-align:middle;display:table-cell}.sender_form .sender_form_radio:checked+.sender_form_label_radio:before,#ie#fix{background:url(images/sprite2.png) no-repeat -80px -90px}.sender_form button{width:100%;margin:0;color:#fff;background:transparent;font-size:16px;padding:5px;border:0 none;text-transform:uppercase;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.sender_form input[type="text"],.sender_form input[type="password"],.sender_form textarea,.sender_form select{margin:0;border:2px solid #a1a1a1;font-family:"opensans_regular",Arial,Verdana,sans-serif;font-size:16px;padding:5px;width:100%;background-color:#fff;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.sender_form input[type="text"]:focus,.sender_form input[type="password"]:focus,.sender_form textarea:focus,.sender_form select:focus{border-color:#261261}.sender_form label{color:#000}.sender_form span{word-wrap:break-word}.sender_form *{vertical-align:top;line-height:1.1}.sender_form input[type="text"]{line-height:normal}.sender_form label input{vertical-align:middle}.sender_form .radio-wrap label,.sender_form .check-wrap label,.sender_form .check-wrap input{cursor:pointer}.sender_form option{display:block !important}.sender_form .font-bold,.sender_form strong,.sender_form b{font-family:\'Open Sans\',sans-serif;font-weight:bold}.sender_form.sf_form_disabled *{cursor:default !important}.sf_form_disabled{opacity:.5}.sf_form_submit{opacity:.5}.sender_form_has_action{cursor:pointer}.flex-container{display:-webkit-box !important;display:-moz-box !important;display:-ms-flexbox !important;display:-webkit-flex !important;display:flex !important;-webkit-flex-flow:row wrap;justify-content:space-around}.flex-item{flex-shrink:0;flex-basis:0;display:flex;flex:1;max-width:100%}.fixed-width{flex-grow:0;flex-basis:auto;flex-shrink:1 !important}.fml-display-none{display:none !important}.fml-display-block{display:block}.fml-view-link{text-decoration:none;opacity:0;position:absolute;width:100%;height:100%;top:0;left:0;right:0;bottom:0;z-index:1000}body{width:100%;height:100%;min-height:100%;box-sizing:border-box;border-radius:6px}.sf_form_submit{opacity:.5;position:relative}.sf_form_submit:before{content:"";font-size:5px;margin:5em auto;width:1em;height:1em;border-radius:50%;position:relative;text-indent:-9999em;-webkit-animation:load4 .8s infinite linear;animation:load4 1.3s infinite linear;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);position:absolute;top:50%;left:50%;margin:-0.5em 0 0 -0.5em}.loader{font-size:5px;margin:5em auto;width:1em;height:1em;border-radius:50%;position:relative;text-indent:-9999em;-webkit-animation:load4 .8s infinite linear;animation:load4 1.3s infinite linear;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0)}@-webkit-keyframes load4{0%,100%{box-shadow:0 -3em 0 .2em #000261,2em -2em 0 0 #000261,3em 0 0 -0.5em #000261,2em 2em 0 -0.5em #000261,0 3em 0 -0.5em #000261,-2em 2em 0 -0.5em #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 0 #000261}12.5%{box-shadow:0 -3em 0 0 #000261,2em -2em 0 .2em #000261,3em 0 0 0 #000261,2em 2em 0 -0.5em #000261,0 3em 0 -0.5em #000261,-2em 2em 0 -0.5em #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 -0.5em #000261}25%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 0 #000261,3em 0 0 .2em #000261,2em 2em 0 0 #000261,0 3em 0 -0.5em #000261,-2em 2em 0 -0.5em #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 -0.5em #000261}37.5%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 -0.5em #000261,3em 0 0 0 #000261,2em 2em 0 .2em #000261,0 3em 0 0 #000261,-2em 2em 0 -0.5em #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 -0.5em #000261}50%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 -0.5em #000261,3em 0 0 -0.5em #000261,2em 2em 0 0 #000261,0 3em 0 .2em #000261,-2em 2em 0 0 #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 -0.5em #000261}62.5%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 -0.5em #000261,3em 0 0 -0.5em #000261,2em 2em 0 -0.5em #000261,0 3em 0 0 #000261,-2em 2em 0 .2em #000261,-3em 0 0 0 #000261,-2em -2em 0 -0.5em #000261}75%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 -0.5em #000261,3em 0 0 -0.5em #000261,2em 2em 0 -0.5em #000261,0 3em 0 -0.5em #000261,-2em 2em 0 0 #000261,-3em 0 0 .2em #000261,-2em -2em 0 0 #000261}87.5%{box-shadow:0 -3em 0 0 #000261,2em -2em 0 -0.5em #000261,3em 0 0 -0.5em #000261,2em 2em 0 -0.5em #000261,0 3em 0 -0.5em #000261,-2em 2em 0 0 #000261,-3em 0 0 0 #000261,-2em -2em 0 .2em #000261}}@keyframes load4{0%,100%{box-shadow:0 -3em 0 .2em #000261,2em -2em 0 0 #000261,3em 0 0 -0.5em #000261,2em 2em 0 -0.5em #000261,0 3em 0 -0.5em #000261,-2em 2em 0 -0.5em #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 0 #000261}12.5%{box-shadow:0 -3em 0 0 #000261,2em -2em 0 .2em #000261,3em 0 0 0 #000261,2em 2em 0 -0.5em #000261,0 3em 0 -0.5em #000261,-2em 2em 0 -0.5em #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 -0.5em #000261}25%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 0 #000261,3em 0 0 .2em #000261,2em 2em 0 0 #000261,0 3em 0 -0.5em #000261,-2em 2em 0 -0.5em #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 -0.5em #000261}37.5%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 -0.5em #000261,3em 0 0 0 #000261,2em 2em 0 .2em #000261,0 3em 0 0 #000261,-2em 2em 0 -0.5em #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 -0.5em #000261}50%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 -0.5em #000261,3em 0 0 -0.5em #000261,2em 2em 0 0 #000261,0 3em 0 .2em #000261,-2em 2em 0 0 #000261,-3em 0 0 -0.5em #000261,-2em -2em 0 -0.5em #000261}62.5%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 -0.5em #000261,3em 0 0 -0.5em #000261,2em 2em 0 -0.5em #000261,0 3em 0 0 #000261,-2em 2em 0 .2em #000261,-3em 0 0 0 #000261,-2em -2em 0 -0.5em #000261}75%{box-shadow:0 -3em 0 -0.5em #000261,2em -2em 0 -0.5em #000261,3em 0 0 -0.5em #000261,2em 2em 0 -0.5em #000261,0 3em 0 -0.5em #000261,-2em 2em 0 0 #000261,-3em 0 0 .2em #000261,-2em -2em 0 0 #000261}87.5%{box-shadow:0 -3em 0 0 #000261,2em -2em 0 -0.5em #000261,3em 0 0 -0.5em #000261,2em 2em 0 -0.5em #000261,0 3em 0 -0.5em #000261,-2em 2em 0 0 #000261,-3em 0 0 0 #000261,-2em -2em 0 .2em #000261}}.emoji,.emoji-standart{width:20px;height:20px;display:inline-block;background-size:585px;vertical-align:middle}.emoji-big{width:50px;height:50px;background-size:1465px;display:block}.loader-ui{position:relative;width:100px;left:calc(50% - 50px);margin-bottom:20px}.loader-ui:before{content:\'\';display:block;padding-top:100%}.circular{animation:rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.path{stroke-dasharray:1,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite;stroke-linecap:round;stroke:#7f80b0}@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}100%{stroke-dasharray:89,200;stroke-dashoffset:-124px}}.widget{z-index:99999;position:relative;-webkit-box-shadow:0 0 8px 0 rgba(0,0,0,0.25);-moz-box-shadow:0 0 8px 0 rgba(0,0,0,0.25);box-shadow:0 0 8px 0 rgba(0,0,0,0.25)}.widget *{font-family:\'Open Sans\',sans-serif;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.widget-fullscreen{width:100%;height:100%;min-height:100%}.widget-hidden{display:none !important}.widget-contact-card{position:absolute;top:36px;right:0;max-width:300px;max-height:300px;z-index:100000}.widget-contact-card-form{width:100% !important;zoom:.8}.widget-contact-card-container{width:100%;height:100%;background:#fff;padding:10px 15px}.widget-header{color:#fff;padding:0 10px 6px 10px;height:36px;width:100%;position:relative;z-index:10001;box-shadow:0 4px 4px 0 rgba(0,0,0,0.24),0 0 4px 0 rgba(0,0,0,0.12)}.widget-header .widget-header-logo{display:inline-block;width:24px;height:24px}.widget-header .widget-header-logo-own{border-radius:50%;background-size:cover}.widget-header-wrapper{display:inline-block;line-height:0;font-size:0}.widget-header-wrapper:nth-child(1){vertical-align:middle;padding-right:10px;padding-top:7px;vertical-align:top}.widget-header-wrapper:nth-child(2){max-width:calc(100% - 133px)}.widget-header-wrapper:nth-child(3){float:right;height:36px}.widget-header-head{overflow:hidden;font-size:16px;line-height:36px;white-space:nowrap;text-overflow:ellipsis}.widget-header-controls{display:table-cell;white-space:nowrap;font-size:0;line-height:0;vertical-align:middle}.widget-header-controls-btn{display:inline-block;cursor:pointer;padding-left:4px;padding-top:6px;height:36px}.widget-header-controls-btn span{width:24px;height:24px;display:inline-block;background-size:24px}.widget-header-controls-btn1 span{background-image:url(\'images/minimize-new.png\')}.widget-header-controls-btn2 span{background-image:url(images/sprite.png);background-position:-68px 0;width:17px;height:17px}.widget-header-controls-btn3 span{background-image:url(\'images/close-new.png\')}.widget-header-controls-btn4 span{background-image:url(\'images/info-icon.png\')}.widget-header-controls-btn4.sender-card-active span{background-image:url(\'images/info-icon-active.png\')}.widget-chat{height:calc(100% - 36px - 90px);overflow-y:auto}.widget-chat-content.widget-chat-content-with-typing{margin-bottom:24px}.widget-chat-history-button{width:64px;height:22px;border-radius:2px;background-color:rgba(97,97,97,0.9);color:#fff;font-size:10px;line-height:22px;text-align:center;cursor:pointer;position:absolute;top:0;left:calc((100% - 64px)/2);z-index:100002}.widget-typing{position:absolute;bottom:4px;left:6px;max-width:100%;height:24px;line-height:24px;background:#fff;font-size:14px;color:#b4b4b4;overflow:hidden;text-overflow:ellipsis;padding-left:10px;border-radius:9px;font-style:italic}.widget-footer{padding:0 20px;position:absolute;width:100%;bottom:0;left:0;background-color:#fff}.widget-footer-sound{width:30px;height:30px;background:url(\'images/sound-on.png\') 0 0 no-repeat}.widget-footer-console{padding-bottom:5px;display:table;width:100%}.widget-footer-console-input{display:table-cell;vertical-align:middle;position:relative;overflow:hidden}.widget-footer-console-input-content{width:calc(100% + 34px);background-color:#fff;border:0 none;padding:0;font-size:14px;line-height:18px;height:18px;max-height:54px;font-weight:300;resize:none;display:block;outline:none;padding-right:18px}.widget-footer-console-input-content::-webkit-input-placeholder{color:#444;opacity:1}.widget-footer-console-input-content:-moz-placeholder{color:#444;opacity:1}.widget-footer-console-input-content::-moz-placeholder{color:#444;opacity:1}.widget-footer-console-input-content:-ms-input-placeholder{color:#444;opacity:1}.widget-footer-console-input textarea{border-bottom:2px solid #888;height:20px !important;border-radius:0}.widget-footer-console-btn{display:table-cell;width:1px;vertical-align:middle;font-size:0;line-height:0;padding-left:10px}.widget-footer-console-btn:first-child{padding-left:0;padding-right:5px}.widget-footer-console-btn-content{width:20px;height:20px;display:inline-block}.widget-footer-console-btn-content:hover{cursor:pointer}.widget-footer-console-btn-content1{background-image:url(images/sprite.png);background-position:0 -26px;width:20px;height:20px}.widget-footer-console-btn-content2{background-image:url(images/sprite.png);background-position:-22px -26px;width:20px;height:20px}.widget-footer-console-btn-content3{background-image:url(images/sprite.png);background-position:-26px 0;width:20px;height:20px}.widget-footer-console-btn-send{position:absolute;right:0;bottom:4px;width:18px;height:18px}.widget-footer-sendbar{display:table;margin-bottom:5px;background-color:#fff}.widget-robot-search{z-index:100;width:100%;height:100%;max-height:100%;background-color:#fff;overflow:hidden}.widget-smiles-wrapper{height:90px;width:100%}.widget-message-content-form{padding-right:16px;padding-left:16px;margin:0 auto;max-width:400px;margin-bottom:10px}.widget-message-content-form form{width:100%;margin-bottom:3px}.widget-message-content-form .widget-message-content-time{text-align:left;font-size:13px;font-weight:300;color:#898792;text-align:right;clear:both}.widget-message-notify{border-top:1px solid #cad5db;text-align:center;margin:15px 0 15px}.widget-message-notify span{display:block;margin-top:-9px;color:#c6cdd9}.widget-message-notify span em{font-style:normal;font-size:13px;color:#888;background-color:#fff;padding:1px 8px;border-radius:12px}.sf_chat_msg{overflow:hidden;position:relative}.sf_chat_msg_sending{opacity:.54 !important}.sf_chat_msg a{color:#1164cc;text-decoration:none}.sf_chat_msg:last-child{padding-bottom:0}.sf_chat_msg.sf_chat_msg_my .sf_chat_msg_text_content{text-align:right;float:right;padding-left:0}.sf_chat_msg_user_form.sf_chat_msg_form{text-align:left}.sf_chat_msg.sf_chat_msg_form.sf_chat_msg_user_form.sf_chat_msg_my .sf_chat_msg_text_content{padding-right:88px;padding-left:0}.sf_chat_msg.sf_chat_msg_form.sf_chat_msg_user_form.sf_chat_msg_my.sf_chat_msg_first .sf_chat_msg_text_content{padding-right:20px}.sf_chat_msg.sf_chat_msg_my .sf_chat_msg_text{background-color:#ddf;text-align:left;margin-left:0}.sf_chat_msg.sf_chat_msg_oper_only .sf_chat_msg_text{border-color:#ff97a9}.sf_chat_msg.sf_chat_msg_encrypted .sf_chat_msg_text{border-color:#faf2e1;background-color:#faf2e1}.sf_chat_msg.sf_chat_msg_my.sf_chat_msg_encrypted .sf_chat_msg_text{background-color:#fcd9ac;border-color:#fff}.sf_chat_msg_my .sf_chat_msg_content .sf_chat_msg_link_holder{margin:3px 0;text-align:right;color:#1164cc}.sf_chat_msg_first .sf_chat_msg_avatar,.sf_chat_msg_first .sf_chat_msg_username{display:block}.sf_chat_msg_avatar{width:46px;height:46px;display:none;float:left;margin-top:3px;z-index:999;border-radius:50%;border:1px solid #fff}.sf_chat_msg_avatar img{border-radius:50%;width:45px;height:45px}.sf_chat_msg_my .sf_chat_msg_avatar{float:right}.sf_chat_msg_form{text-align:center;position:relative}.sf_chat_msg_form .sf_chat_msg_content{width:400px;margin:0 auto}.sf_chat_msg.sf_chat_msg_form.sf_chat_msg_first .sf_chat_msg_text_content{margin-right:68px}.sf_chat_msg_username{font-size:14px;line-height:24px;color:#7f80b0;display:none;text-align:left}.sf_chat_msg_username--form{padding-left:62px;padding-top:8px}.sf_chat_msg_username span{display:block;overflow:hidden}.sf_chat_msg_my .sf_chat_msg_username{text-align:right;margin-left:0;margin-right:88px}.sf_chat_msg_text_content{padding-left:88px;font-size:15px;line-height:22px;color:#333;display:inline-block;position:relative;box-sizing:border-box;max-width:calc(100% - 60px);padding-bottom:8px}.sf_chat_msg_sticker_content{font-size:16px;line-height:20px;color:#4b586d;display:block;position:relative;padding-bottom:8px}.sf_chat_msg_sticker_content img{max-width:130px !important;max-height:130px !important}.sf_chat_msg_text_content,.sf_chat_msg_file_content,.sf_chat_msg_sticker_content,.sf_chat_msg_audio_content{padding-left:62px}.sf_chat_msg_first .sf_chat_msg_text_content{padding-left:8px;padding-top:11px}.sf_chat_msg_form .sf_chat_msg_text_content{padding-left:0}.sf_chat_msg_form.sf_chat_msg_user_form .sf_chat_msg_text_content{padding-left:62px}.sf_chat_msg_my .sf_chat_msg_text_content,.sf_chat_msg_my .sf_chat_msg_file_content,.sf_chat_msg_my .sf_chat_msg_sticker_content,.sf_chat_msg_my .sf_chat_msg_audio_content{padding-left:0;padding-right:62px}.sf_chat_msg_my.sf_chat_msg_first .sf_chat_msg_text_content{padding-right:8px}.sf_chat_msg_text{word-wrap:break-word;border:1px solid #fff;background:#fff;border-radius:17px;color:#444;padding:6px 13px 5px;display:inline-block;max-width:100%;position:relative;box-sizing:border-box;font-size:16px}.sf_chat_msg_location a{text-decoration:underline;font-size:15px;color:#1164cc}.sf_chat_msg_location span{display:inline-block;background:url(\'images/geolocation.png\') 0 0 no-repeat;width:16px;height:21px;position:relative;top:3px}.sf_chat_msg_info{text-align:left;min-width:40px;display:inline-block;float:left}.sf_chat_msg_my .sf_chat_msg_info,.sf_chat_msg_form_content .sf_chat_msg_info,.sf_chat_msg_text_content .sf_chat_msg_info{text-align:right;float:right}.sf_chat_msg_form_content .sf_chat_msg_info{margin-bottom:8px}.sf_chat_msg_preloader .sf_chat_msg_info{position:relative;margin-right:-15px;right:50%}.sf_chat_msg_image .sf_chat_msg_info{position:absolute;bottom:0;right:0;float:none;background-color:#fff;border-radius:11px;width:46px;text-align:center}.sf_chat_msg_time{font-size:13px;line-height:23px;color:#898792;padding-left:10px}.sf_chat_msg_image_content{padding-left:62px;padding-right:62px;font-size:16px;line-height:20px;color:#4b586d;display:block;position:relative;padding-bottom:8px}.sf_chat_msg_first .sf_chat_msg_image_content,.sf_chat_msg_first .sf_chat_msg_audio_content,.sf_chat_msg_first .sf_chat_msg_video_content,.sf_chat_msg_first .sf_chat_msg_sticker_content{padding-top:11px}.sf_chat_msg_image_holder{overflow:hidden;min-height:36px}.sf_chat_msg_image{float:left;max-width:100%;max-height:100%;position:relative;overflow:hidden;min-width:46px}.sf_chat_msg_my .sf_chat_msg_image{float:right}.sf_chat_msg_sticker_content .sf_chat_msg_image{padding-right:30px}.sf_chat_msg_image>a{cursor:default}.sf_chat_msg_image.sf_chat_msg_image_is_thumb>a:hover{cursor:pointer}.sf_chat_msg_image img{max-width:200px;max-height:200px;display:block;border-radius:17px;border:1px solid white}.sf_chat_msg_sticker_content .sf_chat_msg_image img{border:none}.sf_chat_msg_file_sent_other .sf_chat_msg_file_icon{width:43px;height:57px;background:url(\'images/file-icon.png\') no-repeat;float:left}.sf_chat_msg_file_holder{font-size:16px;line-height:20px;color:#4b586d;display:block;position:relative}.sf_chat_msg_file_name{text-align:center;font-size:16px;color:#808080}.sf_chat_msg_file_sent_other{overflow:hidden}.sf_chat_msg_my .sf_chat_msg_file_sent_other .sf_chat_msg_file_icon{float:right}.sf_chat_msg_file_sent_other .sf_chat_msg_file_name{padding:10px 0 0 60px;text-align:left;min-height:57px}.sf_chat_msg_my .sf_chat_msg_file_sent_other .sf_chat_msg_file_name{padding:10px 60px 0 0;text-align:right}.sf_chat_msg_file_name .sf_chat_msg_text{color:#808080}.widget-popup{width:100%;height:calc(100% - 36px);z-index:100003;position:absolute;top:36px;left:0;background-color:#fff}.widget-restart-dialog{height:100%;z-index:10002;top:0}.widget-modal-title{margin:0 auto;text-align:center;font-size:16px;text-transform:uppercase;color:#6e6e81}.widget-modal-header{width:100%;text-align:center;font-size:20px;color:#3f494d}.widget-modal-radio-wrapper{text-align:center;margin:20px auto 10px auto;color:#3f494d}.widget-modal-icon{width:98px;height:94px;margin:0 auto;margin-bottom:45px;background:url(\'images/sender-logo.png\') 50% 50% no-repeat}.widget-modal-link-submit,.widget-modal-close-submit{width:100px;height:40px;text-align:center;color:#fff;background:none;display:block;background-color:#7f80b0;margin:30px auto 33px auto;border:none;font-size:14px;font-weight:600;text-transform:uppercase;text-decoration:none;line-height:40px}.widget-modal-close-submit{width:190px;cursor:pointer}.widget-modal-restart-dialog{width:205px}.widget-modal-close-field-wrapper{margin:0 10px 10px 10px}.widget-modal-close-input,.widget-modal-close-textarea{box-sizing:border-box;padding:9px 7px 8px;border:1px solid #dadad9;width:100%;resize:none}.widget-modal-close-error{font-size:13px;color:#db2c40}.widget-modal-close-vote,.widget-modal-close-save{margin:0 auto;max-width:360px}.widget-modal-close-question{padding:10px;color:#3f494d}.widget-modal-close-button-wrapper{text-align:center;margin:35px auto 0 auto}.widget-modal-close-button-save,.widget-modal-close-button-back{display:inline-block;height:40px;text-align:center;font-size:13px;font-weight:600;text-transform:uppercase;line-height:40px;min-width:70px;cursor:pointer}.widget-modal-close-button-save{background-color:#7f80b0;color:#fff;padding:0 20px}.widget-modal-close-button-back{background-color:#fff;color:#3f494d;font-weight:500;margin-right:15px;line-height:36px;border:2px solid #dadad9}.widget-modal-field-wrapper{margin:10px 5px}.widget-modal-cancel-button{margin:0 auto;color:#b2b2b2;text-align:center;word-wrap:break-word;margin-top:5px;text-transform:uppercase;cursor:pointer}.widget-modal-overlay{z-index:9999;background-color:#fff;width:100%;height:100%;opacity:.95}.form-byeForm-byeForm{margin-top:20px}.widget-modal-radio-wrapper .sender_form_item_radio:nth-child(1){cursor:pointer;margin-right:20px}.widget-external-link-container,.widget-close-dialog-container{z-index:10000;position:absolute;width:100%;margin:65px auto 0 auto}.widget-close-dialog-container{margin:20px auto;left:0;font-size:14px}.sf_chat_sendbar{width:100%;height:100%}.sf_chat_sendbar_level0,.sf_chat_sendbar_level1{list-style-type:none;padding:0;margin:0;padding-top:11px;padding-left:5px;height:46px;width:auto}.sf_sendbar_chat_level1_wrap{top:-27px;position:absolute}.sf_chat_sendbar_level1{border:1px solid;border-color:rgba(0,2,97,0.2);padding:11px 11px 0 6px;background:#fff}.sf_chat_sendbar_icon{display:inline-block;margin-right:10px;width:30px;height:30px}.sf_chat_sendbar_icon img{width:30px;height:30px;user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-drag:none;-webkit-user-select:none;-ms-user-select:none}.sf_chat_sendbar_icon:hover{cursor:pointer}.sf_chat_sendbar_icon:last-child{margin-right:0}.sf_chat_smiles_list_wrap{position:relative;overflow:scroll;overflow-x:hidden}.sf_chat_smiles_list_wrap.nano-content{padding:0 9px 10px 10px !important}.sf_chat_smiles_list{margin:0;padding:10px;list-style:none;overflow:hidden}.sf_chat_smiles_list li{font-size:14px;line-height:16px;color:#31434c;font-weight:600;padding:5px;float:left}.sf_chat_smiles_list li:hover{cursor:default}.sf_chat_smiles_list_holder{position:absolute}.sf_sticker_big img{width:75px;height:75px}.sf_sticker_small img{width:45px;height:45px}/*! normalize.css v3.0.1 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}';t.styleSheet?t.styleSheet.cssText=o:t.appendChild(document.createTextNode(o)),e.appendChild(t)}();
},{}],2:[function(require,module,exports){
require("../../modules/es6.array.find"),module.exports=require("../../modules/_core").Array.find;
},{"../../modules/_core":18,"../../modules/es6.array.find":74}],3:[function(require,module,exports){
require("../../modules/es6.string.iterator"),require("../../modules/es6.array.from"),module.exports=require("../../modules/_core").Array.from;
},{"../../modules/_core":18,"../../modules/es6.array.from":75,"../../modules/es6.string.iterator":80}],4:[function(require,module,exports){
require("../../modules/es7.array.includes"),module.exports=require("../../modules/_core").Array.includes;
},{"../../modules/_core":18,"../../modules/es7.array.includes":82}],5:[function(require,module,exports){
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.promise"),module.exports=require("../modules/_core").Promise;
},{"../modules/_core":18,"../modules/es6.object.to-string":77,"../modules/es6.promise":78,"../modules/es6.string.iterator":80,"../modules/web.dom.iterable":83}],6:[function(require,module,exports){
require("../../modules/es6.string.includes"),module.exports=require("../../modules/_core").String.includes;
},{"../../modules/_core":18,"../../modules/es6.string.includes":79}],7:[function(require,module,exports){
require("../../modules/es6.string.starts-with"),module.exports=require("../../modules/_core").String.startsWith;
},{"../../modules/_core":18,"../../modules/es6.string.starts-with":81}],8:[function(require,module,exports){
module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o};
},{}],9:[function(require,module,exports){
var UNSCOPABLES=require("./_wks")("unscopables"),ArrayProto=Array.prototype;void 0==ArrayProto[UNSCOPABLES]&&require("./_hide")(ArrayProto,UNSCOPABLES,{}),module.exports=function(r){ArrayProto[UNSCOPABLES][r]=!0};
},{"./_hide":31,"./_wks":72}],10:[function(require,module,exports){
module.exports=function(o,n,r,i){if(!(o instanceof n)||void 0!==i&&i in o)throw TypeError(r+": incorrect invocation!");return o};
},{}],11:[function(require,module,exports){
var isObject=require("./_is-object");module.exports=function(e){if(!isObject(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":38}],12:[function(require,module,exports){
var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toIndex=require("./_to-index");module.exports=function(e){return function(t,r,n){var o,i=toIObject(t),u=toLength(i.length),f=toIndex(n,u);if(e&&r!=r){for(;u>f;)if(o=i[f++],o!=o)return!0}else for(;u>f;f++)if((e||f in i)&&i[f]===r)return e||f||0;return!e&&-1}};
},{"./_to-index":65,"./_to-iobject":67,"./_to-length":68}],13:[function(require,module,exports){
var ctx=require("./_ctx"),IObject=require("./_iobject"),toObject=require("./_to-object"),toLength=require("./_to-length"),asc=require("./_array-species-create");module.exports=function(e,r){var t=1==e,c=2==e,i=3==e,n=4==e,u=6==e,o=5==e||u,s=r||asc;return function(r,a,f){for(var b,h,j=toObject(r),l=IObject(j),q=ctx(a,f,3),_=toLength(l.length),g=0,v=t?s(r,_):c?s(r,0):void 0;_>g;g++)if((o||g in l)&&(b=l[g],h=q(b,g,j),e))if(t)v[g]=h;else if(h)switch(e){case 3:return!0;case 5:return b;case 6:return g;case 2:v.push(b)}else if(n)return!1;return u?-1:i||n?n:v}};
},{"./_array-species-create":15,"./_ctx":20,"./_iobject":35,"./_to-length":68,"./_to-object":69}],14:[function(require,module,exports){
var isObject=require("./_is-object"),isArray=require("./_is-array"),SPECIES=require("./_wks")("species");module.exports=function(r){var e;return isArray(r)&&(e=r.constructor,"function"!=typeof e||e!==Array&&!isArray(e.prototype)||(e=void 0),isObject(e)&&(e=e[SPECIES],null===e&&(e=void 0))),void 0===e?Array:e};
},{"./_is-array":37,"./_is-object":38,"./_wks":72}],15:[function(require,module,exports){
var speciesConstructor=require("./_array-species-constructor");module.exports=function(r,e){return new(speciesConstructor(r))(e)};
},{"./_array-species-constructor":14}],16:[function(require,module,exports){
var cof=require("./_cof"),TAG=require("./_wks")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(t,e){try{return t[e]}catch(t){}};module.exports=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=tryGet(e=Object(t),TAG))?r:ARG?cof(e):"Object"==(n=cof(e))&&"function"==typeof e.callee?"Arguments":n};
},{"./_cof":17,"./_wks":72}],17:[function(require,module,exports){
var toString={}.toString;module.exports=function(t){return toString.call(t).slice(8,-1)};
},{}],18:[function(require,module,exports){
var core=module.exports={version:"2.4.0"};"number"==typeof __e&&(__e=core);
},{}],19:[function(require,module,exports){
"use strict";var $defineProperty=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=function(e,r,t){r in e?$defineProperty.f(e,r,createDesc(0,t)):e[r]=t};
},{"./_object-dp":49,"./_property-desc":54}],20:[function(require,module,exports){
var aFunction=require("./_a-function");module.exports=function(n,r,t){if(aFunction(n),void 0===r)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,u){return n.call(r,t,u)};case 3:return function(t,u,e){return n.call(r,t,u,e)}}return function(){return n.apply(r,arguments)}};
},{"./_a-function":8}],21:[function(require,module,exports){
module.exports=function(o){if(void 0==o)throw TypeError("Can't call method on  "+o);return o};
},{}],22:[function(require,module,exports){
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":27}],23:[function(require,module,exports){
var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(e){return is?document.createElement(e):{}};
},{"./_global":29,"./_is-object":38}],24:[function(require,module,exports){
module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
},{}],25:[function(require,module,exports){
var global=require("./_global"),core=require("./_core"),hide=require("./_hide"),redefine=require("./_redefine"),ctx=require("./_ctx"),PROTOTYPE="prototype",$export=function(e,o,r){var t,x,p,l,i=e&$export.F,$=e&$export.G,c=e&$export.S,a=e&$export.P,n=e&$export.B,P=$?global:c?global[o]||(global[o]={}):(global[o]||{})[PROTOTYPE],u=$?core:core[o]||(core[o]={}),b=u[PROTOTYPE]||(u[PROTOTYPE]={});$&&(r=o);for(t in r)x=!i&&P&&void 0!==P[t],p=(x?P:r)[t],l=n&&x?ctx(p,global):a&&"function"==typeof p?ctx(Function.call,p):p,P&&redefine(P,t,p,e&$export.U),u[t]!=p&&hide(u,t,l),a&&b[t]!=p&&(b[t]=p)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export;
},{"./_core":18,"./_ctx":20,"./_global":29,"./_hide":31,"./_redefine":56}],26:[function(require,module,exports){
var MATCH=require("./_wks")("match");module.exports=function(r){var t=/./;try{"/./"[r](t)}catch(c){try{return t[MATCH]=!1,!"/./"[r](t)}catch(r){}}return!0};
},{"./_wks":72}],27:[function(require,module,exports){
module.exports=function(r){try{return!!r()}catch(r){return!0}};
},{}],28:[function(require,module,exports){
var ctx=require("./_ctx"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),anObject=require("./_an-object"),toLength=require("./_to-length"),getIterFn=require("./core.get-iterator-method"),BREAK={},RETURN={},exports=module.exports=function(e,r,t,o,i){var n,a,R,c,l=i?function(){return e}:getIterFn(e),u=ctx(t,o,r?2:1),E=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(isArrayIter(l)){for(n=toLength(e.length);n>E;E++)if(c=r?u(anObject(a=e[E])[0],a[1]):u(e[E]),c===BREAK||c===RETURN)return c}else for(R=l.call(e);!(a=R.next()).done;)if(c=call(R,u,a.value,r),c===BREAK||c===RETURN)return c};exports.BREAK=BREAK,exports.RETURN=RETURN;
},{"./_an-object":11,"./_ctx":20,"./_is-array-iter":36,"./_iter-call":40,"./_to-length":68,"./core.get-iterator-method":73}],29:[function(require,module,exports){
var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global);
},{}],30:[function(require,module,exports){
var hasOwnProperty={}.hasOwnProperty;module.exports=function(r,e){return hasOwnProperty.call(r,e)};
},{}],31:[function(require,module,exports){
var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(e,r,t){return dP.f(e,r,createDesc(1,t))}:function(e,r,t){return e[r]=t,e};
},{"./_descriptors":22,"./_object-dp":49,"./_property-desc":54}],32:[function(require,module,exports){
module.exports=require("./_global").document&&document.documentElement;
},{"./_global":29}],33:[function(require,module,exports){
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":22,"./_dom-create":23,"./_fails":27}],34:[function(require,module,exports){
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3])}return e.apply(l,r)};
},{}],35:[function(require,module,exports){
var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==cof(e)?e.split(""):Object(e)};
},{"./_cof":17}],36:[function(require,module,exports){
var Iterators=require("./_iterators"),ITERATOR=require("./_wks")("iterator"),ArrayProto=Array.prototype;module.exports=function(r){return void 0!==r&&(Iterators.Array===r||ArrayProto[ITERATOR]===r)};
},{"./_iterators":45,"./_wks":72}],37:[function(require,module,exports){
var cof=require("./_cof");module.exports=Array.isArray||function(r){return"Array"==cof(r)};
},{"./_cof":17}],38:[function(require,module,exports){
module.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o};
},{}],39:[function(require,module,exports){
var isObject=require("./_is-object"),cof=require("./_cof"),MATCH=require("./_wks")("match");module.exports=function(e){var r;return isObject(e)&&(void 0!==(r=e[MATCH])?!!r:"RegExp"==cof(e))};
},{"./_cof":17,"./_is-object":38,"./_wks":72}],40:[function(require,module,exports){
var anObject=require("./_an-object");module.exports=function(r,t,e,a){try{return a?t(anObject(e)[0],e[1]):t(e)}catch(t){var c=r.return;throw void 0!==c&&anObject(c.call(r)),t}};
},{"./_an-object":11}],41:[function(require,module,exports){
"use strict";var create=require("./_object-create"),descriptor=require("./_property-desc"),setToStringTag=require("./_set-to-string-tag"),IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this}),module.exports=function(r,t,e){r.prototype=create(IteratorPrototype,{next:descriptor(1,e)}),setToStringTag(r,t+" Iterator")};
},{"./_hide":31,"./_object-create":48,"./_property-desc":54,"./_set-to-string-tag":58,"./_wks":72}],42:[function(require,module,exports){
"use strict";var LIBRARY=require("./_library"),$export=require("./_export"),redefine=require("./_redefine"),hide=require("./_hide"),has=require("./_has"),Iterators=require("./_iterators"),$iterCreate=require("./_iter-create"),setToStringTag=require("./_set-to-string-tag"),getPrototypeOf=require("./_object-gpo"),ITERATOR=require("./_wks")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(e,r,t,i,n,o,s){$iterCreate(t,r,i);var u,a,T,R=function(e){if(!BUGGY&&e in h)return h[e];switch(e){case KEYS:return function(){return new t(this,e)};case VALUES:return function(){return new t(this,e)}}return function(){return new t(this,e)}},A=r+" Iterator",c=n==VALUES,f=!1,h=e.prototype,E=h[ITERATOR]||h[FF_ITERATOR]||n&&h[n],I=E||R(n),p=n?c?R("entries"):I:void 0,_="Array"==r?h.entries||E:E;if(_&&(T=getPrototypeOf(_.call(new e)),T!==Object.prototype&&(setToStringTag(T,A,!0),LIBRARY||has(T,ITERATOR)||hide(T,ITERATOR,returnThis))),c&&E&&E.name!==VALUES&&(f=!0,I=function(){return E.call(this)}),LIBRARY&&!s||!BUGGY&&!f&&h[ITERATOR]||hide(h,ITERATOR,I),Iterators[r]=I,Iterators[A]=returnThis,n)if(u={values:c?I:R(VALUES),keys:o?I:R(KEYS),entries:p},s)for(a in u)a in h||redefine(h,a,u[a]);else $export($export.P+$export.F*(BUGGY||f),r,u);return u};
},{"./_export":25,"./_has":30,"./_hide":31,"./_iter-create":41,"./_iterators":45,"./_library":46,"./_object-gpo":51,"./_redefine":56,"./_set-to-string-tag":58,"./_wks":72}],43:[function(require,module,exports){
var ITERATOR=require("./_wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(r){}module.exports=function(r,t){if(!t&&!SAFE_CLOSING)return!1;var n=!1;try{var e=[7],u=e[ITERATOR]();u.next=function(){return{done:n=!0}},e[ITERATOR]=function(){return u},r(e)}catch(r){}return n};
},{"./_wks":72}],44:[function(require,module,exports){
module.exports=function(e,n){return{value:n,done:!!e}};
},{}],45:[function(require,module,exports){
module.exports={};
},{}],46:[function(require,module,exports){
module.exports=!1;
},{}],47:[function(require,module,exports){
var global=require("./_global"),macrotask=require("./_task").set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==require("./_cof")(process);module.exports=function(){var e,r,o,s=function(){var s,t;for(isNode&&(s=process.domain)&&s.exit();e;){t=e.fn,e=e.next;try{t()}catch(s){throw e?o():r=void 0,s}}r=void 0,s&&s.enter()};if(isNode)o=function(){process.nextTick(s)};else if(Observer){var t=!0,a=document.createTextNode("");new Observer(s).observe(a,{characterData:!0}),o=function(){a.data=t=!t}}else if(Promise&&Promise.resolve){var i=Promise.resolve();o=function(){i.then(s)}}else o=function(){macrotask.call(global,s)};return function(s){var t={fn:s,next:void 0};r&&(r.next=t),e||(e=t,o()),r=t}};
},{"./_cof":17,"./_global":29,"./_task":64}],48:[function(require,module,exports){
var anObject=require("./_an-object"),dPs=require("./_object-dps"),enumBugKeys=require("./_enum-bug-keys"),IE_PROTO=require("./_shared-key")("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var e,t=require("./_dom-create")("iframe"),r=enumBugKeys.length,c="<",n=">";for(t.style.display="none",require("./_html").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(c+"script"+n+"document.F=Object"+c+"/script"+n),e.close(),createDict=e.F;r--;)delete createDict[PROTOTYPE][enumBugKeys[r]];return createDict()};module.exports=Object.create||function(e,t){var r;return null!==e?(Empty[PROTOTYPE]=anObject(e),r=new Empty,Empty[PROTOTYPE]=null,r[IE_PROTO]=e):r=createDict(),void 0===t?r:dPs(r,t)};
},{"./_an-object":11,"./_dom-create":23,"./_enum-bug-keys":24,"./_html":32,"./_object-dps":50,"./_shared-key":59}],49:[function(require,module,exports){
var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(e,r,t){if(anObject(e),r=toPrimitive(r,!0),anObject(t),IE8_DOM_DEFINE)try{return dP(e,r,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[r]=t.value),e};
},{"./_an-object":11,"./_descriptors":22,"./_ie8-dom-define":33,"./_to-primitive":70}],50:[function(require,module,exports){
var dP=require("./_object-dp"),anObject=require("./_an-object"),getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(e,r){anObject(e);for(var t,o=getKeys(r),c=o.length,i=0;c>i;)dP.f(e,t=o[i++],r[t]);return e};
},{"./_an-object":11,"./_descriptors":22,"./_object-dp":49,"./_object-keys":53}],51:[function(require,module,exports){
var has=require("./_has"),toObject=require("./_to-object"),IE_PROTO=require("./_shared-key")("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(t){return t=toObject(t),has(t,IE_PROTO)?t[IE_PROTO]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ObjectProto:null};
},{"./_has":30,"./_shared-key":59,"./_to-object":69}],52:[function(require,module,exports){
var has=require("./_has"),toIObject=require("./_to-iobject"),arrayIndexOf=require("./_array-includes")(!1),IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(r,e){var a,t=toIObject(r),u=0,O=[];for(a in t)a!=IE_PROTO&&has(t,a)&&O.push(a);for(;e.length>u;)has(t,a=e[u++])&&(~arrayIndexOf(O,a)||O.push(a));return O};
},{"./_array-includes":12,"./_has":30,"./_shared-key":59,"./_to-iobject":67}],53:[function(require,module,exports){
var $keys=require("./_object-keys-internal"),enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function(e){return $keys(e,enumBugKeys)};
},{"./_enum-bug-keys":24,"./_object-keys-internal":52}],54:[function(require,module,exports){
module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};
},{}],55:[function(require,module,exports){
var redefine=require("./_redefine");module.exports=function(e,r,n){for(var i in r)redefine(e,i,r[i],n);return e};
},{"./_redefine":56}],56:[function(require,module,exports){
var global=require("./_global"),hide=require("./_hide"),has=require("./_has"),SRC=require("./_uid")("src"),TO_STRING="toString",$toString=Function[TO_STRING],TPL=(""+$toString).split(TO_STRING);require("./_core").inspectSource=function(e){return $toString.call(e)},(module.exports=function(e,i,t,r){var n="function"==typeof t;n&&(has(t,"name")||hide(t,"name",i)),e[i]!==t&&(n&&(has(t,SRC)||hide(t,SRC,e[i]?""+e[i]:TPL.join(String(i)))),e===global?e[i]=t:r?e[i]?e[i]=t:hide(e,i,t):(delete e[i],hide(e,i,t)))})(Function.prototype,TO_STRING,function(){return"function"==typeof this&&this[SRC]||$toString.call(this)});
},{"./_core":18,"./_global":29,"./_has":30,"./_hide":31,"./_uid":71}],57:[function(require,module,exports){
"use strict";var global=require("./_global"),dP=require("./_object-dp"),DESCRIPTORS=require("./_descriptors"),SPECIES=require("./_wks")("species");module.exports=function(e){var r=global[e];DESCRIPTORS&&r&&!r[SPECIES]&&dP.f(r,SPECIES,{configurable:!0,get:function(){return this}})};
},{"./_descriptors":22,"./_global":29,"./_object-dp":49,"./_wks":72}],58:[function(require,module,exports){
var def=require("./_object-dp").f,has=require("./_has"),TAG=require("./_wks")("toStringTag");module.exports=function(e,r,o){e&&!has(e=o?e:e.prototype,TAG)&&def(e,TAG,{configurable:!0,value:r})};
},{"./_has":30,"./_object-dp":49,"./_wks":72}],59:[function(require,module,exports){
var shared=require("./_shared")("keys"),uid=require("./_uid");module.exports=function(e){return shared[e]||(shared[e]=uid(e))};
},{"./_shared":60,"./_uid":71}],60:[function(require,module,exports){
var global=require("./_global"),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(o){return store[o]||(store[o]={})};
},{"./_global":29}],61:[function(require,module,exports){
var anObject=require("./_an-object"),aFunction=require("./_a-function"),SPECIES=require("./_wks")("species");module.exports=function(e,n){var r,t=anObject(e).constructor;return void 0===t||void 0==(r=anObject(t)[SPECIES])?n:aFunction(r)};
},{"./_a-function":8,"./_an-object":11,"./_wks":72}],62:[function(require,module,exports){
var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(e){return function(r,t){var n,i,d=String(defined(r)),o=toInteger(t),u=d.length;return o<0||o>=u?e?"":void 0:(n=d.charCodeAt(o),n<55296||n>56319||o+1===u||(i=d.charCodeAt(o+1))<56320||i>57343?e?d.charAt(o):n:e?d.slice(o,o+2):(n-55296<<10)+(i-56320)+65536)}};
},{"./_defined":21,"./_to-integer":66}],63:[function(require,module,exports){
var isRegExp=require("./_is-regexp"),defined=require("./_defined");module.exports=function(e,r,i){if(isRegExp(r))throw TypeError("String#"+i+" doesn't accept regex!");return String(defined(e))};
},{"./_defined":21,"./_is-regexp":39}],64:[function(require,module,exports){
var ctx=require("./_ctx"),invoke=require("./_invoke"),html=require("./_html"),cel=require("./_dom-create"),global=require("./_global"),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port,run=function(){var e=+this;if(queue.hasOwnProperty(e)){var n=queue[e];delete queue[e],n()}},listener=function(e){run.call(e.data)};setTask&&clearTask||(setTask=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++]);return queue[++counter]=function(){invoke("function"==typeof e?e:Function(e),n)},defer(counter),counter},clearTask=function(e){delete queue[e]},"process"==require("./_cof")(process)?defer=function(e){process.nextTick(ctx(run,e,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(e){global.postMessage(e+"","*")},global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in cel("script")?function(e){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(e)}}:function(e){setTimeout(ctx(run,e,1),0)}),module.exports={set:setTask,clear:clearTask};
},{"./_cof":17,"./_ctx":20,"./_dom-create":23,"./_global":29,"./_html":32,"./_invoke":34}],65:[function(require,module,exports){
var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(e,t){return e=toInteger(e),e<0?max(e+t,0):min(e,t)};
},{"./_to-integer":66}],66:[function(require,module,exports){
var ceil=Math.ceil,floor=Math.floor;module.exports=function(o){return isNaN(o=+o)?0:(o>0?floor:ceil)(o)};
},{}],67:[function(require,module,exports){
var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(e){return IObject(defined(e))};
},{"./_defined":21,"./_iobject":35}],68:[function(require,module,exports){
var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(e){return e>0?min(toInteger(e),9007199254740991):0};
},{"./_to-integer":66}],69:[function(require,module,exports){
var defined=require("./_defined");module.exports=function(e){return Object(defined(e))};
},{"./_defined":21}],70:[function(require,module,exports){
var isObject=require("./_is-object");module.exports=function(t,e){if(!isObject(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!isObject(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!isObject(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!isObject(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":38}],71:[function(require,module,exports){
var id=0,px=Math.random();module.exports=function(o){return"Symbol(".concat(void 0===o?"":o,")_",(++id+px).toString(36))};
},{}],72:[function(require,module,exports){
var store=require("./_shared")("wks"),uid=require("./_uid"),Symbol=require("./_global").Symbol,USE_SYMBOL="function"==typeof Symbol,$exports=module.exports=function(o){return store[o]||(store[o]=USE_SYMBOL&&Symbol[o]||(USE_SYMBOL?Symbol:uid)("Symbol."+o))};$exports.store=store;
},{"./_global":29,"./_shared":60,"./_uid":71}],73:[function(require,module,exports){
var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(r){if(void 0!=r)return r[ITERATOR]||r["@@iterator"]||Iterators[classof(r)]};
},{"./_classof":16,"./_core":18,"./_iterators":45,"./_wks":72}],74:[function(require,module,exports){
"use strict";var $export=require("./_export"),$find=require("./_array-methods")(5),KEY="find",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function(r){return $find(this,r,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")(KEY);
},{"./_add-to-unscopables":9,"./_array-methods":13,"./_export":25}],75:[function(require,module,exports){
"use strict";var ctx=require("./_ctx"),$export=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export($export.S+$export.F*!require("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var r,t,o,i,a=toObject(e),c="function"==typeof this?this:Array,n=arguments.length,u=n>1?arguments[1]:void 0,l=void 0!==u,y=0,p=getIterFn(a);if(l&&(u=ctx(u,n>2?arguments[2]:void 0,2)),void 0==p||c==Array&&isArrayIter(p))for(r=toLength(a.length),t=new c(r);r>y;y++)createProperty(t,y,l?u(a[y],y):a[y]);else for(i=p.call(a),t=new c;!(o=i.next()).done;y++)createProperty(t,y,l?call(i,u,[o.value,y],!0):o.value);return t.length=y,t}});
},{"./_create-property":19,"./_ctx":20,"./_export":25,"./_is-array-iter":36,"./_iter-call":40,"./_iter-detect":43,"./_to-length":68,"./_to-object":69,"./core.get-iterator-method":73}],76:[function(require,module,exports){
"use strict";var addToUnscopables=require("./_add-to-unscopables"),step=require("./_iter-step"),Iterators=require("./_iterators"),toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(e,t){this._t=toIObject(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,step(1)):"keys"==t?step(0,s):"values"==t?step(0,e[s]):step(0,[s,e[s]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");
},{"./_add-to-unscopables":9,"./_iter-define":42,"./_iter-step":44,"./_iterators":45,"./_to-iobject":67}],77:[function(require,module,exports){
"use strict";var classof=require("./_classof"),test={};test[require("./_wks")("toStringTag")]="z",test+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function(){return"[object "+classof(this)+"]"},!0);
},{"./_classof":16,"./_redefine":56,"./_wks":72}],78:[function(require,module,exports){
"use strict";var LIBRARY=require("./_library"),global=require("./_global"),ctx=require("./_ctx"),classof=require("./_classof"),$export=require("./_export"),isObject=require("./_is-object"),aFunction=require("./_a-function"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),speciesConstructor=require("./_species-constructor"),task=require("./_task").set,microtask=require("./_microtask")(),PROMISE="Promise",TypeError=global.TypeError,process=global.process,$Promise=global[PROMISE],process=global.process,isNode="process"==classof(process),empty=function(){},Internal,GenericPromiseCapability,Wrapper,USE_NATIVE=!!function(){try{var e=$Promise.resolve(1),r=(e.constructor={})[require("./_wks")("species")]=function(e){e(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&e.then(empty)instanceof r}catch(e){}}(),sameConstructor=function(e,r){return e===r||e===$Promise&&r===Wrapper},isThenable=function(e){var r;return!(!isObject(e)||"function"!=typeof(r=e.then))&&r},newPromiseCapability=function(e){return sameConstructor($Promise,e)?new PromiseCapability(e):new GenericPromiseCapability(e)},PromiseCapability=GenericPromiseCapability=function(e){var r,t;this.promise=new e(function(e,o){if(void 0!==r||void 0!==t)throw TypeError("Bad Promise constructor");r=e,t=o}),this.resolve=aFunction(r),this.reject=aFunction(t)},perform=function(e){try{e()}catch(e){return{error:e}}},notify=function(e,r){if(!e._n){e._n=!0;var t=e._c;microtask(function(){for(var o=e._v,i=1==e._s,n=0,s=function(r){var t,n,s=i?r.ok:r.fail,c=r.resolve,a=r.reject,l=r.domain;try{s?(i||(2==e._h&&onHandleUnhandled(e),e._h=1),s===!0?t=o:(l&&l.enter(),t=s(o),l&&l.exit()),t===r.promise?a(TypeError("Promise-chain cycle")):(n=isThenable(t))?n.call(t,c,a):c(t)):a(o)}catch(e){a(e)}};t.length>n;)s(t[n++]);e._c=[],e._n=!1,r&&!e._h&&onUnhandled(e)})}},onUnhandled=function(e){task.call(global,function(){var r,t,o,i=e._v;if(isUnhandled(e)&&(r=perform(function(){isNode?process.emit("unhandledRejection",i,e):(t=global.onunhandledrejection)?t({promise:e,reason:i}):(o=global.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=isNode||isUnhandled(e)?2:1),e._a=void 0,r)throw r.error})},isUnhandled=function(e){if(1==e._h)return!1;for(var r,t=e._a||e._c,o=0;t.length>o;)if(r=t[o++],r.fail||!isUnhandled(r.promise))return!1;return!0},onHandleUnhandled=function(e){task.call(global,function(){var r;isNode?process.emit("rejectionHandled",e):(r=global.onrejectionhandled)&&r({promise:e,reason:e._v})})},$reject=function(e){var r=this;r._d||(r._d=!0,r=r._w||r,r._v=e,r._s=2,r._a||(r._a=r._c.slice()),notify(r,!0))},$resolve=function(e){var r,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw TypeError("Promise can't be resolved itself");(r=isThenable(e))?microtask(function(){var o={_w:t,_d:!1};try{r.call(e,ctx($resolve,o,1),ctx($reject,o,1))}catch(e){$reject.call(o,e)}}):(t._v=e,t._s=1,notify(t,!1))}catch(e){$reject.call({_w:t,_d:!1},e)}}};USE_NATIVE||($Promise=function(e){anInstance(this,$Promise,PROMISE,"_h"),aFunction(e),Internal.call(this);try{e(ctx($resolve,this,1),ctx($reject,this,1))}catch(e){$reject.call(this,e)}},Internal=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=require("./_redefine-all")($Promise.prototype,{then:function(e,r){var t=newPromiseCapability(speciesConstructor(this,$Promise));return t.ok="function"!=typeof e||e,t.fail="function"==typeof r&&r,t.domain=isNode?process.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&notify(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),PromiseCapability=function(){var e=new Internal;this.promise=e,this.resolve=ctx($resolve,e,1),this.reject=ctx($reject,e,1)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),require("./_set-to-string-tag")($Promise,PROMISE),require("./_set-species")(PROMISE),Wrapper=require("./_core")[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function(e){var r=newPromiseCapability(this),t=r.reject;return t(e),r.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function(e){if(e instanceof $Promise&&sameConstructor(e.constructor,this))return e;var r=newPromiseCapability(this),t=r.resolve;return t(e),r.promise}}),$export($export.S+$export.F*!(USE_NATIVE&&require("./_iter-detect")(function(e){$Promise.all(e).catch(empty)})),PROMISE,{all:function(e){var r=this,t=newPromiseCapability(r),o=t.resolve,i=t.reject,n=perform(function(){var t=[],n=0,s=1;forOf(e,!1,function(e){var c=n++,a=!1;t.push(void 0),s++,r.resolve(e).then(function(e){a||(a=!0,t[c]=e,--s||o(t))},i)}),--s||o(t)});return n&&i(n.error),t.promise},race:function(e){var r=this,t=newPromiseCapability(r),o=t.reject,i=perform(function(){forOf(e,!1,function(e){r.resolve(e).then(t.resolve,o)})});return i&&o(i.error),t.promise}});
},{"./_a-function":8,"./_an-instance":10,"./_classof":16,"./_core":18,"./_ctx":20,"./_export":25,"./_for-of":28,"./_global":29,"./_is-object":38,"./_iter-detect":43,"./_library":46,"./_microtask":47,"./_redefine-all":55,"./_set-species":57,"./_set-to-string-tag":58,"./_species-constructor":61,"./_task":64,"./_wks":72}],79:[function(require,module,exports){
"use strict";var $export=require("./_export"),context=require("./_string-context"),INCLUDES="includes";$export($export.P+$export.F*require("./_fails-is-regexp")(INCLUDES),"String",{includes:function(e){return!!~context(this,e,INCLUDES).indexOf(e,arguments.length>1?arguments[1]:void 0)}});
},{"./_export":25,"./_fails-is-regexp":26,"./_string-context":63}],80:[function(require,module,exports){
"use strict";var $at=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,i=this._t,e=this._i;return e>=i.length?{value:void 0,done:!0}:(t=$at(i,e),this._i+=t.length,{value:t,done:!1})});
},{"./_iter-define":42,"./_string-at":62}],81:[function(require,module,exports){
"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),STARTS_WITH="startsWith",$startsWith=""[STARTS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(STARTS_WITH),"String",{startsWith:function(t){var e=context(this,t,STARTS_WITH),r=toLength(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return $startsWith?$startsWith.call(e,i,r):e.slice(r,r+i.length)===i}});
},{"./_export":25,"./_fails-is-regexp":26,"./_string-context":63,"./_to-length":68}],82:[function(require,module,exports){
"use strict";var $export=require("./_export"),$includes=require("./_array-includes")(!0);$export($export.P,"Array",{includes:function(e){return $includes(this,e,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")("includes");
},{"./_add-to-unscopables":9,"./_array-includes":12,"./_export":25}],83:[function(require,module,exports){
for(var $iterators=require("./es6.array.iterator"),redefine=require("./_redefine"),global=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),wks=require("./_wks"),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var NAME=collections[i],Collection=global[NAME],proto=Collection&&Collection.prototype,key;if(proto){proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues;for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}}
},{"./_global":29,"./_hide":31,"./_iterators":45,"./_redefine":56,"./_wks":72,"./es6.array.iterator":76}],84:[function(require,module,exports){
!function(t,n){"object"==typeof exports?module.exports=exports=n():"function"==typeof define&&define.amd?define([],n):t.CryptoJS=n()}(this,function(){var t=t||function(t,n){var i=Object.create||function(){function t(){}return function(n){var i;return t.prototype=n,i=new t,t.prototype=null,i}}(),e={},r=e.lib={},o=r.Base=function(){return{extend:function(t){var n=i(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=r.WordArray=o.extend({init:function(t,i){t=this.words=t||[],i!=n?this.sigBytes=i:this.sigBytes=4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,i=t.words,e=this.sigBytes,r=t.sigBytes;if(this.clamp(),e%4)for(var o=0;o<r;o++){var s=i[o>>>2]>>>24-o%4*8&255;n[e+o>>>2]|=s<<24-(e+o)%4*8}else for(var o=0;o<r;o+=4)n[e+o>>>2]=i[o>>>2];return this.sigBytes+=r,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i,e=[],r=function(n){var n=n,i=987654321,e=4294967295;return function(){i=36969*(65535&i)+(i>>16)&e,n=18e3*(65535&n)+(n>>16)&e;var r=(i<<16)+n&e;return r/=4294967296,r+=.5,r*(t.random()>.5?1:-1)}},o=0;o<n;o+=4){var a=r(4294967296*(i||t.random()));i=987654071*a(),e.push(4294967296*a()|0)}return new s.init(e,n)}}),a=e.enc={},c=a.Hex={stringify:function(t){for(var n=t.words,i=t.sigBytes,e=[],r=0;r<i;r++){var o=n[r>>>2]>>>24-r%4*8&255;e.push((o>>>4).toString(16)),e.push((15&o).toString(16))}return e.join("")},parse:function(t){for(var n=t.length,i=[],e=0;e<n;e+=2)i[e>>>3]|=parseInt(t.substr(e,2),16)<<24-e%8*4;return new s.init(i,n/2)}},u=a.Latin1={stringify:function(t){for(var n=t.words,i=t.sigBytes,e=[],r=0;r<i;r++){var o=n[r>>>2]>>>24-r%4*8&255;e.push(String.fromCharCode(o))}return e.join("")},parse:function(t){for(var n=t.length,i=[],e=0;e<n;e++)i[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new s.init(i,n)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,e=i.words,r=i.sigBytes,o=this.blockSize,a=4*o,c=r/a;c=n?t.ceil(c):t.max((0|c)-this._minBufferSize,0);var u=c*o,f=t.min(4*u,r);if(u){for(var h=0;h<u;h+=o)this._doProcessBlock(e,h);var p=e.splice(0,u);i.sigBytes-=f}return new s.init(p,f)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(r.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var n=this._doFinalize();return n},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new p.HMAC.init(t,i).finalize(n)}}}),e.algo={});return e}(Math);return t});
},{}],85:[function(require,module,exports){
!function(e,r,o){"object"==typeof exports?module.exports=exports=r(require("./core"),require("./sha1"),require("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha1","./hmac"],r):r(e.CryptoJS)}(this,function(e){return e.HmacSHA1});
},{"./core":84,"./hmac":87,"./sha1":88}],86:[function(require,module,exports){
!function(e,r,o){"object"==typeof exports?module.exports=exports=r(require("./core"),require("./sha256"),require("./hmac")):"function"==typeof define&&define.amd?define(["./core","./sha256","./hmac"],r):r(e.CryptoJS)}(this,function(e){return e.HmacSHA256});
},{"./core":84,"./hmac":87,"./sha256":89}],87:[function(require,module,exports){
!function(e,t){"object"==typeof exports?module.exports=exports=t(require("./core")):"function"==typeof define&&define.amd?define(["./core"],t):t(e.CryptoJS)}(this,function(e){!function(){var t=e,i=t.lib,n=i.Base,s=t.enc,r=s.Utf8,o=t.algo;o.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var i=e.blockSize,n=4*i;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),o=this._iKey=t.clone(),a=s.words,f=o.words,c=0;c<i;c++)a[c]^=1549556828,f[c]^=909522486;s.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);t.reset();var n=t.finalize(this._oKey.clone().concat(i));return n}})}()});
},{"./core":84}],88:[function(require,module,exports){
!function(e,t){"object"==typeof exports?module.exports=exports=t(require("./core")):"function"==typeof define&&define.amd?define(["./core"],t):t(e.CryptoJS)}(this,function(e){return function(){var t=e,o=t.lib,r=o.WordArray,n=o.Hasher,s=t.algo,i=[],a=s.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var o=this._hash.words,r=o[0],n=o[1],s=o[2],a=o[3],c=o[4],h=0;h<80;h++){if(h<16)i[h]=0|e[t+h];else{var f=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=f<<1|f>>>31}var l=(r<<5|r>>>27)+c+i[h];l+=h<20?(n&s|~n&a)+1518500249:h<40?(n^s^a)+1859775393:h<60?(n&s|n&a|s&a)-1894007588:(n^s^a)-899497514,c=a,a=s,s=n<<30|n>>>2,n=r,r=l}o[0]=o[0]+r|0,o[1]=o[1]+n|0,o[2]=o[2]+s|0,o[3]=o[3]+a|0,o[4]=o[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,o=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(o/4294967296),t[(r+64>>>9<<4)+15]=o,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=n._createHelper(a),t.HmacSHA1=n._createHmacHelper(a)}(),e.SHA1});
},{"./core":84}],89:[function(require,module,exports){
!function(e,r){"object"==typeof exports?module.exports=exports=r(require("./core")):"function"==typeof define&&define.amd?define(["./core"],r):r(e.CryptoJS)}(this,function(e){return function(r){var t=e,o=t.lib,n=o.WordArray,i=o.Hasher,s=t.algo,a=[],c=[];!function(){function e(e){for(var t=r.sqrt(e),o=2;o<=t;o++)if(!(e%o))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var o=2,n=0;n<64;)e(o)&&(n<8&&(a[n]=t(r.pow(o,.5))),c[n]=t(r.pow(o,1/3)),n++),o++}();var f=[],h=s.SHA256=i.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(e,r){for(var t=this._hash.words,o=t[0],n=t[1],i=t[2],s=t[3],a=t[4],h=t[5],u=t[6],l=t[7],d=0;d<64;d++){if(d<16)f[d]=0|e[r+d];else{var _=f[d-15],p=(_<<25|_>>>7)^(_<<14|_>>>18)^_>>>3,v=f[d-2],H=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;f[d]=p+f[d-7]+H+f[d-16]}var y=a&h^~a&u,w=o&n^o&i^n&i,A=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),S=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),g=l+S+y+c[d]+f[d],m=A+w;l=u,u=h,h=a,a=s+g|0,s=i,i=n,n=o,o=g+m|0}t[0]=t[0]+o|0,t[1]=t[1]+n|0,t[2]=t[2]+i|0,t[3]=t[3]+s|0,t[4]=t[4]+a|0,t[5]=t[5]+h|0,t[6]=t[6]+u|0,t[7]=t[7]+l|0},_doFinalize:function(){var e=this._data,t=e.words,o=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+14]=r.floor(o/4294967296),t[(n+64>>>9<<4)+15]=o,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(h),t.HmacSHA256=i._createHmacHelper(h)}(Math),e.SHA256});
},{"./core":84}],90:[function(require,module,exports){
(function (global){
!function(e,t){"object"==typeof exports?module.exports=t(e):"function"==typeof define&&define.amd?define([],t.bind(e,e)):t(e)}("undefined"!=typeof global?global:this,function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),r=n.length,o=-1,S="",a=n.charCodeAt(0);++o<r;)t=n.charCodeAt(o),S+=0!=t?t>=1&&t<=31||127==t||0==o&&t>=48&&t<=57||1==o&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":(0!=o||1!=r||45!=t)&&(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?n.charAt(o):"\\"+n.charAt(o):"�";return S};return e.CSS||(e.CSS={}),e.CSS.escape=t,t});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],91:[function(require,module,exports){
"use strict";function EE(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function EventEmitter(){}var has=Object.prototype.hasOwnProperty,prefix="function"!=typeof Object.create&&"~";EventEmitter.prototype._events=void 0,EventEmitter.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)has.call(t,e)&&n.push(prefix?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},EventEmitter.prototype.listeners=function(e,t){var n=prefix?prefix+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},EventEmitter.prototype.emit=function(e,t,n,r,i,s){var o=prefix?prefix+e:e;if(!this._events||!this._events[o])return!1;var f,c,v=this._events[o],p=arguments.length;if("function"==typeof v.fn){switch(v.once&&this.removeListener(e,v.fn,void 0,!0),p){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,t),!0;case 3:return v.fn.call(v.context,t,n),!0;case 4:return v.fn.call(v.context,t,n,r),!0;case 5:return v.fn.call(v.context,t,n,r,i),!0;case 6:return v.fn.call(v.context,t,n,r,i,s),!0}for(c=1,f=new Array(p-1);c<p;c++)f[c-1]=arguments[c];v.fn.apply(v.context,f)}else{var h,a=v.length;for(c=0;c<a;c++)switch(v[c].once&&this.removeListener(e,v[c].fn,void 0,!0),p){case 1:v[c].fn.call(v[c].context);break;case 2:v[c].fn.call(v[c].context,t);break;case 3:v[c].fn.call(v[c].context,t,n);break;default:if(!f)for(h=1,f=new Array(p-1);h<p;h++)f[h-1]=arguments[h];v[c].fn.apply(v[c].context,f)}}return!0},EventEmitter.prototype.on=function(e,t,n){var r=new EE(t,n||this),i=prefix?prefix+e:e;return this._events||(this._events=prefix?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):this._events[i]=r,this},EventEmitter.prototype.once=function(e,t,n){var r=new EE(t,n||this,!0),i=prefix?prefix+e:e;return this._events||(this._events=prefix?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):this._events[i]=r,this},EventEmitter.prototype.removeListener=function(e,t,n,r){var i=prefix?prefix+e:e;if(!this._events||!this._events[i])return this;var s=this._events[i],o=[];if(t)if(s.fn)(s.fn!==t||r&&!s.once||n&&s.context!==n)&&o.push(s);else for(var f=0,c=s.length;f<c;f++)(s[f].fn!==t||r&&!s[f].once||n&&s[f].context!==n)&&o.push(s[f]);return o.length?this._events[i]=1===o.length?o[0]:o:delete this._events[i],this},EventEmitter.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[prefix?prefix+e:e]:this._events=prefix?{}:Object.create(null),this):this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.prefixed=prefix,"undefined"!=typeof module&&(module.exports=EventEmitter);
},{}],92:[function(require,module,exports){
!function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,r){t.Backbone=t.Exoskeleton=e(t,r,i,n)});else if("undefined"!=typeof exports){var i,n;try{i=require("underscore")}catch(t){}try{n=require("jquery")}catch(t){}e(t,exports,i,n)}else t.Backbone=t.Exoskeleton=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,i,n){"use strict";var r=t.Backbone,s=t.Exoskeleton,o=e.utils=i=i||{};e.$=n;var a=[],h=(a.push,a.slice),u={}.toString;e.noConflict=function(){return t.Backbone=r,t.Exoskeleton=s,this},e.extend=function(t,e){var n,r=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e);var s=function(){this.constructor=n};return s.prototype=r.prototype,n.prototype=new s,t&&i.extend(n.prototype,t),n.__super__=r.prototype,n};var c=function(){throw new Error('A "url" property or function must be specified')},l=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}},f=function(t){return"function"==typeof i[t]};o.result=function(t,e){var i=t?t[e]:void 0;return"function"==typeof i?t[e]():i},o.defaults=function(t){return h.call(arguments,1).forEach(function(e){for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t},o.extend=function(t){return h.call(arguments,1).forEach(function(e){for(var i in e)t[i]=e[i]}),t};var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};o.escape=function(t){return null==t?"":String(t).replace(/[&<>"']/g,function(t){return d[t]})},o.sortBy=function(t,e,i){var n="function"==typeof e?e:function(t){return t[e]};return t.map(function(t,e,r){return{value:t,index:e,criteria:n.call(i,t,e,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}).map(function(t){return t.value})};var p=0;o.uniqueId=function(t){var e=++p+"";return t?t+e:e},o.has=function(t,e){return Object.hasOwnProperty.call(t,e)};var g=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;var s=u.call(t);if(s!=u.call(e))return!1;switch(s){case"[object String]":return t==String(e);case"[object Number]":return t!==+t?e!==+e:0===t?1/t===1/e:t===+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var a=t.constructor,h=e.constructor;if(a!==h&&!("function"==typeof a&&a instanceof a&&"function"==typeof h&&h instanceof h))return!1;n.push(t),r.push(e);var c=0,l=!0;if("[object Array]"===s){if(c=t.length,l=c===e.length)for(;c--&&(l=g(t[c],e[c],n,r)););}else{for(var f in t)if(i.has(t,f)&&(c++,!(l=i.has(e,f)&&g(t[f],e[f],n,r))))break;if(l){for(f in e)if(i.has(e,f)&&!c--)break;l=!c}}return n.pop(),r.pop(),l};o.isEqual=function(t,e){return g(t,e,[],[])};var v=e.Events={on:function(t,e,i){if(!m(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,i){if(!m(this,"once",t,[e,i])||!e)return this;var n,r=this,s=function(){n||(n=!0,r.off(t,s),e.apply(this,arguments))};return s._callback=e,this.on(t,s,i)},off:function(t,e,i){var n,r,s,o,a,h,u,c;if(!this._events||!m(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(o=t?[t]:Object.keys(this._events),a=0,h=o.length;a<h;a++)if(t=o[a],s=this._events[t]){if(this._events[t]=n=[],e||i)for(u=0,c=s.length;u<c;u++)r=s[u],(e&&e!==r.callback&&e!==r.callback._callback||i&&i!==r.context)&&n.push(r);n.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=h.call(arguments,1);if(!m(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&b(i,e),n&&b(n,arguments),this},stopListening:function(t,e,i){var n=this._listeningTo;if(!n)return this;var r=!e&&!i;i||"object"!=typeof e||(i=this),t&&((n={})[t._listenId]=t);for(var s in n)t=n[s],t.off(e,i,this),!r&&Object.keys(t._events).length||delete this._listeningTo[s];return this}},y=/\s+/,m=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var r in i)t[e].apply(t,[r,i[r]].concat(n));return!1}if(y.test(i)){for(var s=i.split(y),o=0,a=s.length;o<a;o++)t[e].apply(t,[s[o]].concat(n));return!1}return!0},b=function(t,e){var i,n=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o,a);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}},_={listenTo:"on",listenToOnce:"once"};Object.keys(_).forEach(function(t){var e=_[t];v[t]=function(t,n,r){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=i.uniqueId("l"));return s[o]=t,r||"object"!=typeof n||(r=this),t[e](n,r,this),this}}),v.bind=v.on,v.unbind=v.off,i.extend(e,v);var x=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId("c"),this.attributes=Object.create(null),e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed=Object.create(null),this.initialize.apply(this,arguments)};if(i.extend(x.prototype,v,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return i.extend({},this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,s,o,a,h,u,c,l;if(null==t)return this;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;o=n.unset,h=n.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=i.extend(Object.create(null),this.attributes),this.changed={}),l=this.attributes,c=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(r in s)e=s[r],i.isEqual(l[r],e)||a.push(r),i.isEqual(c[r],e)?delete this.changed[r]:this.changed[r]=e,o?delete l[r]:l[r]=e;if(!h){a.length&&(this._pending=n);for(var f=0,d=a.length;f<d;f++)this.trigger("change:"+a[f],this,l[a[f]],n)}if(u)return this;if(!h)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!!Object.keys(this.changed).length:i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.extend(Object.create(null),this.changed);var e,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var s in t)i.isEqual(r[s],e=t[s])||((n||(n={}))[s]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.extend(Object.create(null),this._previousAttributes)},fetch:function(t){t=t?i.extend({},t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(i){return!!e.set(e.parse(i,t),t)&&(n&&n(e,i,t),void e.trigger("sync",e,i,t))},l(this,t),this.sync("read",this,t)},save:function(t,e,n){var r,s,o,a=this.attributes;if(null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,n=i.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=i.extend(Object.create(null),a,r)),void 0===n.parse&&(n.parse=!0);var h=this,u=n.success;return n.success=function(t){h.attributes=a;var e=h.parse(t,n);return n.wait&&(e=i.extend(r||{},e)),!(e&&"object"==typeof e&&!h.set(e,n))&&(u&&u(h,t,n),void h.trigger("sync",h,t,n))},l(this,n),s=this.isNew()?"create":n.patch?"patch":"update","patch"===s&&(n.attrs=r),o=this.sync(s,this,n),r&&n.wait&&(this.attributes=a),o},destroy:function(t){t=t?i.extend({},t):{};var e=this,n=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&r(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;l(this,t);var s=this.sync("delete",this,t);return t.wait||r(),s},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||c();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend(Object.create(null),this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),i.keys){var E=["keys","values","pairs","invert","pick","omit"];E.filter(f).forEach(function(t){x.prototype[t]=function(){var e=h.call(arguments);return e.unshift(this.attributes),i[t].apply(i,e)}})}var w=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},j={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1};if(i.extend(w.prototype,v,{model:"undefined"==typeof x?null:x,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,k))},remove:function(t,e){var i=!Array.isArray(t);t=i?[t]:t.slice(),e||(e={});var n,r,s,o;for(n=0,r=t.length;n<r;n++)o=t[n]=this.get(t[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,e.silent||(e.index=s,o.trigger("remove",o,this,e)),this._removeReference(o,e));return i?t[0]:t},set:function(t,e){e=i.defaults({},e,j),e.parse&&(t=this.parse(t,e));var n=!Array.isArray(t);t=n?t?[t]:[]:t.slice();var r,s,o,a,h,u,c,l=e.at,f=this.model,d=this.comparator&&null==l&&e.sort!==!1,p="string"==typeof this.comparator?this.comparator:null,g=[],v=[],y={},m=e.add,b=e.merge,_=e.remove,E=!(d||!m||!_)&&[];for(r=0,s=t.length;r<s;r++){if(h=t[r]||{},o=h instanceof x?a=h:h[f.prototype.idAttribute||"id"],u=this.get(o))_&&(y[u.cid]=!0),b&&(h=h===a?a.attributes:h,e.parse&&(h=u.parse(h,e)),u.set(h,e),d&&!c&&u.hasChanged(p)&&(c=!0)),t[r]=u;else if(m){if(a=t[r]=this._prepareModel(h,e),!a)continue;g.push(a),this._addReference(a,e)}a=u||a,!E||!a.isNew()&&y[a.id]||E.push(a),y[a.id]=!0}if(_){for(r=0,s=this.length;r<s;++r)y[(a=this.models[r]).cid]||v.push(a);v.length&&this.remove(v,e)}if(g.length||E&&E.length)if(d&&(c=!0),this.length+=g.length,null!=l)for(r=0,s=g.length;r<s;r++)this.models.splice(l+r,0,g[r]);else{E&&(this.models.length=0);var w=E||g;for(r=0,s=w.length;r<s;r++)this.models.push(w[r])}if(c&&this.sort({silent:!0}),!e.silent){for(r=0,s=g.length;r<s;r++)(a=g[r]).trigger("add",a,this,e);(c||E&&E.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return h.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return t&&Object.keys(t).length?this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0}):e?void 0:[]},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),"string"==typeof this.comparator||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(this.comparator.bind(this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.models.map(function(e){return e.get(t)})},fetch:function(t){t=t?i.extend({},t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e(n,i,t),n.trigger("sync",n,i,t)},l(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?i.extend({},e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,r=e.success;return e.success=function(t,i){e.wait&&n.add(t,e),r&&r(t,i,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId=Object.create(null)},_prepareModel:function(t,e){if(t instanceof x)return t;e=i.extend({},e),e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}}),f("each")){var O=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];O.filter(f).forEach(function(t){w.prototype[t]=function(){var e=h.call(arguments);return e.unshift(this.models),i[t].apply(i,e)}});var $=["groupBy","countBy","sortBy"];$.filter(f).forEach(function(t){w.prototype[t]=function(e,n){var r="function"==typeof e?e:function(t){return t.get(e)};return i[t](this.models,r,n)}})}else["forEach","map","filter","some","every","reduce","reduceRight","indexOf","lastIndexOf"].forEach(function(t){w.prototype[t]=function(e,i){return this.models[t](e,i)}}),w.prototype.find=function(t,e){var i;return this.some(function(n,r,s){if(t.call(e,n,r,s))return i=n,!0}),i},["sortBy"].forEach(function(t){w.prototype[t]=function(e,n){var r="function"==typeof e?e:function(t){return t.get(e)};return i[t](this.models,r,n)}});var A=e.View=function(t){this.cid=i.uniqueId("view"),t&&Object.keys(t).forEach(function(e){R.indexOf(e)!==-1&&(this[e]=t[e])},this),this._ensureElement(),this.initialize.apply(this,arguments)},I=/^(\S+)\s*(.*)$/,R=["model","collection","el","id","attributes","className","tagName","events"];i.extend(A.prototype,v,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(!t&&!(t=i.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];"function"!=typeof n&&(n=this[t[e]]);var r=e.match(I);this.delegate(r[1],r[2],n.bind(this))}return this},delegate:function(t,e,i){this.$el.on(t+".delegateEvents"+this.cid,e,i)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){this.$el.off(t+".delegateEvents"+this.cid,e,i)},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){r||(r={});var s=S[t],o={type:s,dataType:"json"};r.url||(o.url=i.result(n,"url")||c()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),"GET"!==o.type&&(o.processData=!1);var a=r.xhr=e.ajax(i.extend(o,r));return n.trigger("request",n,a,r),a};var S={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var N=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,U=/\*\w+/g,q=/[\-{}\[\]+?.,\\\^$|#\s]/g,H=function(t){return!!t&&("object"==typeof t&&"[object RegExp]"===u.call(t))};i.extend(N.prototype,v,{initialize:function(){},route:function(t,i,n){H(t)||(t=this._routeToRegExp(t)),"function"==typeof i&&(n=i,i=""),n||(n=this[i]);var r=this;return e.history.route(t,function(s){var o=r._extractParameters(t,s);r.execute(n,o),r.trigger.apply(r,["route:"+i].concat(o)),r.trigger("route",i,o),e.history.trigger("route",r,i,o)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=Object.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(q,"\\$&").replace(C,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/?]+)"}).replace(U,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return i.map(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var B=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},P=/^[#\/]|\s+$/g,z=/^\/+|\/+$/g,M=/\/$/,L=/[#].*$/;return B.started=!1,i.extend(B.prototype,v,{atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._wantsPushState||!this._wantsHashChange){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(M,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(P,"")},start:function(t){if(B.started)throw new Error("Backbone.history has already been started");B.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState;var e=this.getFragment();this.root=("/"+this.root+"/").replace(z,"/"),this._wantsPushState?window.addEventListener("popstate",this.checkUrl,!1):this._wantsHashChange&&window.addEventListener("hashchange",this.checkUrl,!1),this.fragment=e;var n=this.location;if(this._wantsHashChange&&this._wantsPushState&&this.atRoot()&&n.hash&&(this.fragment=this.getHash().replace(P,""),this.history.replaceState({},document.title,this.root+this.fragment)),!this.options.silent)return this.loadUrl()},stop:function(){window.removeEventListener("popstate",this.checkUrl),window.removeEventListener("hashchange",this.checkUrl),B.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t!==this.fragment&&void this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),this.handlers.some(function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(t,e){if(!B.started)return!1;e&&e!==!0||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(L,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._wantsPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace)}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),["Model","Collection","Router","View","History"].forEach(function(t){var i=e[t];i&&(i.extend=e.extend)}),i.extend(e,v),B&&(e.history=new B),e});
},{"jquery":112,"underscore":130}],93:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r.default=e,r}function create(){var e=new base.HandlebarsEnvironment;return Utils.extend(e,base),e.SafeString=_handlebarsSafeString2.default,e.Exception=_handlebarsException2.default,e.Utils=Utils,e.escapeExpression=Utils.escapeExpression,e.VM=runtime,e.template=function(r){return runtime.template(r,e)},e}exports.__esModule=!0;var _handlebarsBase=require("./handlebars/base"),base=_interopRequireWildcard(_handlebarsBase),_handlebarsSafeString=require("./handlebars/safe-string"),_handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString),_handlebarsException=require("./handlebars/exception"),_handlebarsException2=_interopRequireDefault(_handlebarsException),_handlebarsUtils=require("./handlebars/utils"),Utils=_interopRequireWildcard(_handlebarsUtils),_handlebarsRuntime=require("./handlebars/runtime"),runtime=_interopRequireWildcard(_handlebarsRuntime),_handlebarsNoConflict=require("./handlebars/no-conflict"),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),inst=create();inst.create=create,_handlebarsNoConflict2.default(inst),inst.default=inst,exports.default=inst,module.exports=exports.default;
},{"./handlebars/base":94,"./handlebars/exception":97,"./handlebars/no-conflict":107,"./handlebars/runtime":108,"./handlebars/safe-string":109,"./handlebars/utils":110}],94:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function HandlebarsEnvironment(e,t,r){this.helpers=e||{},this.partials=t||{},this.decorators=r||{},_helpers.registerDefaultHelpers(this),_decorators.registerDefaultDecorators(this)}exports.__esModule=!0,exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=require("./utils"),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_helpers=require("./helpers"),_decorators=require("./decorators"),_logger=require("./logger"),_logger2=_interopRequireDefault(_logger),VERSION="4.0.5";exports.VERSION=VERSION;var COMPILER_REVISION=7;exports.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;var objectType="[object Object]";HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2.default,log:_logger2.default.log,registerHelper:function(e,t){if(_utils.toString.call(e)===objectType){if(t)throw new _exception2.default("Arg not supported with multiple helpers");_utils.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(_utils.toString.call(e)===objectType)_utils.extend(this.partials,e);else{if("undefined"==typeof t)throw new _exception2.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(_utils.toString.call(e)===objectType){if(t)throw new _exception2.default("Arg not supported with multiple decorators");_utils.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var log=_logger2.default.log;exports.log=log,exports.createFrame=_utils.createFrame,exports.logger=_logger2.default;
},{"./decorators":95,"./exception":97,"./helpers":98,"./logger":106,"./utils":110}],95:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function registerDefaultDecorators(e){_decoratorsInline2.default(e)}exports.__esModule=!0,exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=require("./decorators/inline"),_decoratorsInline2=_interopRequireDefault(_decoratorsInline);
},{"./decorators/inline":96}],96:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utils=require("../utils");exports.default=function(r){r.registerDecorator("inline",function(r,t,a,e){var s=r;return t.partials||(t.partials={},s=function(e,s){var i=a.partials;a.partials=_utils.extend({},i,t.partials);var l=r(e,s);return a.partials=i,l}),t.partials[e.args[0]]=e.fn,s})},module.exports=exports.default;
},{"../utils":110}],97:[function(require,module,exports){
"use strict";function Exception(r,e){var t=e&&e.loc,o=void 0,c=void 0;t&&(o=t.start.line,c=t.start.column,r+=" - "+o+":"+c);for(var s=Error.prototype.constructor.call(this,r),i=0;i<errorProps.length;i++)this[errorProps[i]]=s[errorProps[i]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{t&&(this.lineNumber=o,Object.defineProperty?Object.defineProperty(this,"column",{value:c}):this.column=c)}catch(r){}}exports.__esModule=!0;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Exception.prototype=new Error,exports.default=Exception,module.exports=exports.default;
},{}],98:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function registerDefaultHelpers(e){_helpersBlockHelperMissing2.default(e),_helpersEach2.default(e),_helpersHelperMissing2.default(e),_helpersIf2.default(e),_helpersLog2.default(e),_helpersLookup2.default(e),_helpersWith2.default(e)}exports.__esModule=!0,exports.registerDefaultHelpers=registerDefaultHelpers;var _helpersBlockHelperMissing=require("./helpers/block-helper-missing"),_helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing),_helpersEach=require("./helpers/each"),_helpersEach2=_interopRequireDefault(_helpersEach),_helpersHelperMissing=require("./helpers/helper-missing"),_helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing),_helpersIf=require("./helpers/if"),_helpersIf2=_interopRequireDefault(_helpersIf),_helpersLog=require("./helpers/log"),_helpersLog2=_interopRequireDefault(_helpersLog),_helpersLookup=require("./helpers/lookup"),_helpersLookup2=_interopRequireDefault(_helpersLookup),_helpersWith=require("./helpers/with"),_helpersWith2=_interopRequireDefault(_helpersWith);
},{"./helpers/block-helper-missing":99,"./helpers/each":100,"./helpers/helper-missing":101,"./helpers/if":102,"./helpers/log":103,"./helpers/lookup":104,"./helpers/with":105}],99:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utils=require("../utils");exports.default=function(t){t.registerHelper("blockHelperMissing",function(e,r){var i=r.inverse,s=r.fn;if(e===!0)return s(this);if(e===!1||null==e)return i(this);if(_utils.isArray(e))return e.length>0?(r.ids&&(r.ids=[r.name]),t.helpers.each(e,r)):i(this);if(r.data&&r.ids){var a=_utils.createFrame(r.data);a.contextPath=_utils.appendContextPath(r.data.contextPath,r.name),r={data:a}}return s(e,r)})},module.exports=exports.default;
},{"../utils":110}],100:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var _utils=require("../utils"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports.default=function(e){e.registerHelper("each",function(e,t){function i(t,i,a){s&&(s.key=t,s.index=i,s.first=0===i,s.last=!!a,u&&(s.contextPath=u+t)),n+=r(e[t],{data:s,blockParams:_utils.blockParams([e[t],t],[u+t,null])})}if(!t)throw new _exception2.default("Must pass iterator to #each");var r=t.fn,a=t.inverse,o=0,n="",s=void 0,u=void 0;if(t.data&&t.ids&&(u=_utils.appendContextPath(t.data.contextPath,t.ids[0])+"."),_utils.isFunction(e)&&(e=e.call(this)),t.data&&(s=_utils.createFrame(t.data)),e&&"object"==typeof e)if(_utils.isArray(e))for(var l=e.length;o<l;o++)o in e&&i(o,o,o===e.length-1);else{var d=void 0;for(var c in e)e.hasOwnProperty(c)&&(void 0!==d&&i(d,o-1),d=c,o++);void 0!==d&&i(d,o-1,!0)}return 0===o&&(n=a(this)),n})},module.exports=exports.default;
},{"../exception":97,"../utils":110}],101:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new _exception2.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},module.exports=exports.default;
},{"../exception":97}],102:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utils=require("../utils");exports.default=function(e){e.registerHelper("if",function(e,s){return _utils.isFunction(e)&&(e=e.call(this)),!s.hash.includeZero&&!e||_utils.isEmpty(e)?s.inverse(this):s.fn(this)}),e.registerHelper("unless",function(s,t){return e.helpers.if.call(this,s,{fn:t.inverse,inverse:t.fn,hash:t.hash})})},module.exports=exports.default;
},{"../utils":110}],103:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=function(e){e.registerHelper("log",function(){for(var l=[void 0],t=arguments[arguments.length-1],a=0;a<arguments.length-1;a++)l.push(arguments[a]);var o=1;null!=t.hash.level?o=t.hash.level:t.data&&null!=t.data.level&&(o=t.data.level),l[0]=o,e.log.apply(e,l)})},module.exports=exports.default;
},{}],104:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},module.exports=exports.default;
},{}],105:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utils=require("../utils");exports.default=function(t){t.registerHelper("with",function(t,e){_utils.isFunction(t)&&(t=t.call(this));var a=e.fn;if(_utils.isEmpty(t))return e.inverse(this);var s=e.data;return e.data&&e.ids&&(s=_utils.createFrame(e.data),s.contextPath=_utils.appendContextPath(e.data.contextPath,e.ids[0])),a(t,{data:s,blockParams:_utils.blockParams([t],[s&&s.contextPath])})})},module.exports=exports.default;
},{"../utils":110}],106:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utils=require("./utils"),logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var o=_utils.indexOf(logger.methodMap,e.toLowerCase());e=o>=0?o:parseInt(e,10)}return e},log:function(e){if(e=logger.lookupLevel(e),"undefined"!=typeof console&&logger.lookupLevel(logger.level)<=e){var o=logger.methodMap[e];console[o]||(o="log");for(var l=arguments.length,r=Array(l>1?l-1:0),t=1;t<l;t++)r[t-1]=arguments[t];console[o].apply(console,r)}}};exports.default=logger,module.exports=exports.default;
},{"./utils":110}],107:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0,exports.default=function(e){var o="undefined"!=typeof global?global:window,n=o.Handlebars;e.noConflict=function(){return o.Handlebars===e&&(o.Handlebars=n),e}},module.exports=exports.default;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],108:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function checkRevision(e){var t=e&&e[0]||1,r=_base.COMPILER_REVISION;if(t!==r){if(t<r){var a=_base.REVISION_CHANGES[r],n=_base.REVISION_CHANGES[t];throw new _exception2.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+n+").")}throw new _exception2.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function template(e,t){function r(r,a,n){n.hash&&(a=Utils.extend({},a,n.hash),n.ids&&(n.ids[0]=!0)),r=t.VM.resolvePartial.call(this,r,a,n);var o=t.VM.invokePartial.call(this,r,a,n);if(null==o&&t.compile&&(n.partials[n.name]=t.compile(r,e.compilerOptions,t),o=n.partials[n.name](a,n)),null!=o){if(n.indent){for(var i=o.split("\n"),l=0,s=i.length;l<s&&(i[l]||l+1!==s);l++)i[l]=n.indent+i[l];o=i.join("\n")}return o}throw new _exception2.default("The partial "+n.name+" could not be compiled when running in runtime-only mode")}function a(t){function r(t){return""+e.main(n,t,n.helpers,n.partials,i,s,l)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=o.data;a._setup(o),!o.partial&&e.useData&&(i=initData(t,i));var l=void 0,s=e.useBlockParams?[]:void 0;return e.useDepths&&(l=o.depths?t!=o.depths[0]?[t].concat(o.depths):o.depths:[t]),(r=executeDecorators(e.main,r,n,o.depths||[],i,s))(t,o)}if(!t)throw new _exception2.default("No environment passed to template");if(!e||!e.main)throw new _exception2.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n={strict:function(e,t){if(!(t in e))throw new _exception2.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var r=e.length,a=0;a<r;a++)if(e[a]&&null!=e[a][t])return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:Utils.escapeExpression,invokePartial:r,fn:function(t){var r=e[t];return r.decorator=e[t+"_d"],r},programs:[],program:function(e,t,r,a,n){var o=this.programs[e],i=this.fn(e);return t||n||a||r?o=wrapProgram(this,e,i,t,r,a,n):o||(o=this.programs[e]=wrapProgram(this,e,i)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var r=e||t;return e&&t&&e!==t&&(r=Utils.extend({},t,e)),r},noop:t.VM.noop,compilerInfo:e.compiler};return a.isTop=!0,a._setup=function(r){r.partial?(n.helpers=r.helpers,n.partials=r.partials,n.decorators=r.decorators):(n.helpers=n.merge(r.helpers,t.helpers),e.usePartial&&(n.partials=n.merge(r.partials,t.partials)),(e.usePartial||e.useDecorators)&&(n.decorators=n.merge(r.decorators,t.decorators)))},a._child=function(t,r,a,o){if(e.useBlockParams&&!a)throw new _exception2.default("must pass block params");if(e.useDepths&&!o)throw new _exception2.default("must pass parent depths");return wrapProgram(n,t,e[t],r,0,a,o)},a}function wrapProgram(e,t,r,a,n,o,i){function l(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=i;return i&&t!=i[0]&&(l=[t].concat(i)),r(e,t,e.helpers,e.partials,n.data||a,o&&[n.blockParams].concat(o),l)}return l=executeDecorators(r,l,e,i,a,o),l.program=t,l.depth=i?i.length:0,l.blockParams=n||0,l}function resolvePartial(e,t,r){if(e)e.call||r.name||(r.name=e,e=r.partials[e]);else if("@partial-block"===r.name){for(var a=r.data;a["partial-block"]===noop;)a=a._parent;e=a["partial-block"],a["partial-block"]=noop}else e=r.partials[r.name];return e}function invokePartial(e,t,r){r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var a=void 0;if(r.fn&&r.fn!==noop&&(r.data=_base.createFrame(r.data),a=r.data["partial-block"]=r.fn,a.partials&&(r.partials=Utils.extend({},r.partials,a.partials))),void 0===e&&a&&(e=a),void 0===e)throw new _exception2.default("The partial "+r.name+" could not be found");if(e instanceof Function)return e(t,r)}function noop(){return""}function initData(e,t){return t&&"root"in t||(t=t?_base.createFrame(t):{},t.root=e),t}function executeDecorators(e,t,r,a,n,o){if(e.decorator){var i={};t=e.decorator(t,i,r,a&&a[0],n,o,a),Utils.extend(t,i)}return t}exports.__esModule=!0,exports.checkRevision=checkRevision,exports.template=template,exports.wrapProgram=wrapProgram,exports.resolvePartial=resolvePartial,exports.invokePartial=invokePartial,exports.noop=noop;var _utils=require("./utils"),Utils=_interopRequireWildcard(_utils),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_base=require("./base");
},{"./base":94,"./exception":97,"./utils":110}],109:[function(require,module,exports){
"use strict";function SafeString(t){this.string=t}exports.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},exports.default=SafeString,module.exports=exports.default;
},{}],110:[function(require,module,exports){
"use strict";function escapeChar(t){return escape[t]}function extend(t){for(var r=1;r<arguments.length;r++)for(var e in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],e)&&(t[e]=arguments[r][e]);return t}function indexOf(t,r){for(var e=0,n=t.length;e<n;e++)if(t[e]===r)return e;return-1}function escapeExpression(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return possible.test(t)?t.replace(badChars,escapeChar):t}function isEmpty(t){return!t&&0!==t||!(!isArray(t)||0!==t.length)}function createFrame(t){var r=extend({},t);return r._parent=t,r}function blockParams(t,r){return t.path=r,t}function appendContextPath(t,r){return(t?t+".":"")+r}exports.__esModule=!0,exports.extend=extend,exports.indexOf=indexOf,exports.escapeExpression=escapeExpression,exports.isEmpty=isEmpty,exports.createFrame=createFrame,exports.blockParams=blockParams,exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/,toString=Object.prototype.toString;exports.toString=toString;var isFunction=function(t){return"function"==typeof t};isFunction(/x/)&&(exports.isFunction=isFunction=function(t){return"function"==typeof t&&"[object Function]"===toString.call(t)}),exports.isFunction=isFunction;var isArray=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===toString.call(t)};exports.isArray=isArray;
},{}],111:[function(require,module,exports){
module.exports=require("./dist/cjs/handlebars.runtime").default;
},{"./dist/cjs/handlebars.runtime":93}],112:[function(require,module,exports){
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"!==n&&!oe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ge.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return Z.call(t,e)>-1!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(we)||[],function(e,n){t[n]=!0}),t}function s(){G.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s),oe.ready()}function a(){this.expando=oe.expando+a.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(je,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Se.test(n)?oe.parseJSON(n):n)}catch(e){}Ne.set(e,t,n)}else n=void 0;return n}function l(e,t,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return oe.css(e,t,"")},u=a(),l=n&&n[3]||(oe.cssNumber[t]?"":"px"),c=(oe.cssNumber[t]||"px"!==l&&+u)&&Ae.exec(oe.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,oe.style(e,t,c+l);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function c(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function f(e,t){for(var n=0,r=e.length;n<r;n++)Ee.set(e[n],"globalEval",!t||Ee.get(t[n],"globalEval"))}function p(e,t,n,r,i){for(var o,s,a,u,l,p,d=t.createDocumentFragment(),h=[],g=0,v=e.length;g<v;g++)if(o=e[g],o||0===o)if("object"===oe.type(o))oe.merge(h,o.nodeType?[o]:o);else if(Re.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(Oe.exec(o)||["",""])[1].toLowerCase(),u=Pe[a]||Pe._default,s.innerHTML=u[1]+oe.htmlPrefilter(o)+u[2],p=u[0];p--;)s=s.lastChild;oe.merge(h,s.childNodes),s=d.firstChild,s.textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",g=0;o=h[g++];)if(r&&oe.inArray(o,r)>-1)i&&i.push(o);else if(l=oe.contains(o.ownerDocument,o),s=c(d.appendChild(o),"script"),l&&f(s),n)for(p=0;o=s[p++];)Fe.test(o.type||"")&&n.push(o);return d}function d(){return!0}function h(){return!1}function g(){try{return G.activeElement}catch(e){}}function v(e,t,n,r,i,o){var s,a;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(a in t)v(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=h;else if(!i)return e;return 1===o&&(s=i,i=function(e){return oe().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,i,r,n)})}function m(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function x(e){var t=Xe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function b(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(Ee.hasData(e)&&(o=Ee.access(e),s=Ee.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)oe.event.add(t,i,l[i][n])}Ne.hasData(e)&&(a=Ne.access(e),u=oe.extend({},a),Ne.set(t,u))}}function w(e,t){var n=t.nodeName.toLowerCase();"input"===n&&He.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function T(e,t,n,r){t=J.apply([],t);var i,o,s,a,u,l,f=0,d=e.length,h=d-1,g=t[0],v=oe.isFunction(g);if(v||d>1&&"string"==typeof g&&!re.checkClone&&_e.test(g))return e.each(function(i){var o=e.eq(i);v&&(t[0]=g.call(this,i,o.html())),T(o,t,n,r)});if(d&&(i=p(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=oe.map(c(i,"script"),y),a=s.length;f<d;f++)u=i,f!==h&&(u=oe.clone(u,!0,!0),a&&oe.merge(s,c(u,"script"))),n.call(e[f],u,f);if(a)for(l=s[s.length-1].ownerDocument,oe.map(s,x),f=0;f<a;f++)u=s[f],Fe.test(u.type||"")&&!Ee.access(u,"globalEval")&&oe.contains(l,u)&&(u.src?oe._evalUrl&&oe._evalUrl(u.src):oe.globalEval(u.textContent.replace(ze,"")))}return e}function C(e,t,n){for(var r,i=t?oe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||oe.cleanData(c(r)),r.parentNode&&(n&&oe.contains(r.ownerDocument,r)&&f(c(r,"script")),r.parentNode.removeChild(r));return e}function k(e,t){var n=oe(t.createElement(e)).appendTo(t.body),r=oe.css(n[0],"display");return n.detach(),r}function E(e){var t=G,n=Ve[e];return n||(n=k(e,t),"none"!==n&&n||(Ue=(Ue||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ue[0].contentDocument,t.write(),t.close(),n=k(e,t),Ue.detach()),Ve[e]=n),n}function N(e,t,n){var r,i,o,s,a=e.style;return n=n||Qe(e),s=n?n.getPropertyValue(t)||n[t]:void 0,""!==s&&void 0!==s||oe.contains(e.ownerDocument,e)||(s=oe.style(e,t)),n&&!re.pixelMarginRight()&&Ge.test(s)&&Ye.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o),void 0!==s?s+"":s}function S(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function j(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in rt)return e}function D(e,t,n){var r=Ae.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function A(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=oe.css(e,n+qe[o],!0,i)),r?("content"===n&&(s-=oe.css(e,"padding"+qe[o],!0,i)),"margin"!==n&&(s-=oe.css(e,"border"+qe[o]+"Width",!0,i))):(s+=oe.css(e,"padding"+qe[o],!0,i),"padding"!==n&&(s+=oe.css(e,"border"+qe[o]+"Width",!0,i)));return s}function q(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Qe(e),s="border-box"===oe.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=N(e,t,o),(i<0||null==i)&&(i=e.style[t]),Ge.test(i))return i;r=s&&(re.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+A(e,t,n||(s?"border":"content"),r,o)+"px"}function L(e,t){for(var n,r,i,o=[],s=0,a=e.length;s<a;s++)r=e[s],r.style&&(o[s]=Ee.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Le(r)&&(o[s]=Ee.access(r,"olddisplay",E(r.nodeName)))):(i=Le(r),"none"===n&&i||Ee.set(r,"olddisplay",i?n:oe.css(r,"display"))));for(s=0;s<a;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function O(){return e.setTimeout(function(){it=void 0}),it=oe.now()}function F(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=qe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function P(e,t,n){for(var r,i=(I.tweeners[t]||[]).concat(I.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function R(e,t,n){var r,i,o,s,a,u,l,c,f=this,p={},d=e.style,h=e.nodeType&&Le(e),g=Ee.get(e,"fxshow");n.queue||(a=oe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,oe.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=oe.css(e,"display"),c="none"===l?Ee.get(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===oe.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],st.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||oe.style(e,r)}else l=void 0;if(oe.isEmptyObject(p))"inline"===("none"===l?E(e.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(h=g.hidden):g=Ee.access(e,"fxshow",{}),o&&(g.hidden=!h),h?oe(e).show():f.done(function(){oe(e).hide()}),f.done(function(){var t;Ee.remove(e,"fxshow");for(t in p)oe.style(e,t,p[t])});for(r in p)s=P(h?g[r]:0,r,f),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function M(e,t){var n,r,i,o,s;for(n in e)if(r=oe.camelCase(n),i=t[r],o=e[n],oe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=oe.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function I(e,t,n){var r,i,o=0,s=I.prefilters.length,a=oe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=it||O(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),o<1&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||O(),duration:n.duration,tweens:[],createTween:function(t,n){var r=oe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(M(c,l.opts.specialEasing);o<s;o++)if(r=I.prefilters[o].call(l,e,c,l.opts))return oe.isFunction(r.stop)&&(oe._queueHooks(l.elem,l.opts.queue).stop=oe.proxy(r.stop,r)),r;return oe.map(c,P,l),oe.isFunction(l.opts.start)&&l.opts.start.call(e,l),oe.fx.timer(oe.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function W(e){return e.getAttribute&&e.getAttribute("class")||""}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(we)||[];if(oe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function B(e,t,n,r){function i(a){var u;return o[a]=!0,oe.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===Nt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function _(e,t){var n,r,i=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&oe.extend(!0,e,r),e}function X(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function z(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function U(e,t,n,r){var i;if(oe.isArray(t))oe.each(t,function(t,i){n||At.test(e)?r(e,i):U(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==oe.type(t))r(e,t);else for(i in t)U(e+"["+i+"]",t[i],n,r)}function V(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Y=[],G=e.document,Q=Y.slice,J=Y.concat,K=Y.push,Z=Y.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,re={},ie="2.2.4",oe=function(e,t){return new oe.fn.init(e,t)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,ue=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ie,constructor:oe,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:K,sort:Y.sort,splice:Y.splice},oe.extend=oe.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||oe.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(oe.isPlainObject(r)||(i=oe.isArray(r)))?(i?(i=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},s[t]=oe.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},oe.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=G.createElement("script"),t.text=e,G.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ae,"ms-").replace(ue,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;i<r&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(se,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?oe.merge(r,"string"==typeof e?[e]:e):K.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;o<s;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o,s=0,a=[];if(n(e))for(i=e.length;s<i;s++)o=t(e[s],s,r),null!=o&&a.push(o);else for(s in e)o=t(e[s],s,r),null!=o&&a.push(o);return J.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e))return r=Q.call(arguments,2),i=function(){return e.apply(t||this,r.concat(Q.call(arguments)))},i.guid=e.guid=e.guid||oe.guid++,i},now:Date.now,support:re}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=Y[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,d,h=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:W)!==L&&q(t),t=t||L,O)){if(11!==g&&(l=me.exec(e)))if(i=l[1]){if(9===g){if(!(s=t.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(h&&(s=h.getElementById(i))&&M(t,s)&&s.id===i)return n.push(s),n}else{if(l[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(w.qsa&&!z[e+" "]&&(!F||!F.test(e))){if(1!==g)h=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(xe,"\\$&"):t.setAttribute("id",a=I),f=E(e),o=f.length,u=pe.test(a)?"#"+a:"[id='"+a+"']";o--;)f[o]=u+" "+p(f[o]);d=f.join(","),h=ye.test(e)&&c(t.parentNode)||t}if(d)try{return K.apply(n,h.querySelectorAll(d)),n}catch(e){}finally{a===I&&t.removeAttribute("id")}}}return S(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=L.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l,c=[$,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[I]||(t[I]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(a=u[r])&&a[0]===$&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),l&&t.push(a)));return s}function m(e,t,n,i,o,s){return i&&!i[I]&&(i=m(i)),o&&!o[I]&&(o=m(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,m=r||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?m:v(m,p,e,a,u),x=n?o||(r?e:h||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=v(x,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=v(x===s?x.splice(h,x.length):x),o?o(null,s,x,u):K.apply(s,x)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(e){return e===t},s,!0),l=d(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,r){var i=!o&&(r||n!==j)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];a<i;a++)if(n=T.relative[e[a].type])c=[d(h(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[I]){for(r=++a;r<i&&!T.relative[e[r].type];r++);return m(a>1&&h(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<r&&y(e.slice(a,r)),r<i&&y(e=e.slice(r)),r<i&&p(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],m=[],y=j,x=r||o&&T.find.TAG("*",l),b=$+=null==y?1:Math.random()||.1,w=x.length;for(l&&(j=s===L||s||l);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0,s||c.ownerDocument===L||(q(c),a=!O);p=e[f++];)if(p(c,s||L,a)){u.push(c);break}l&&($=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,m,s,a);if(r){if(d>0)for(;h--;)g[h]||m[h]||(m[h]=Q.call(u));m=v(m)}K.apply(u,m),l&&!r&&m.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&($=b,j=y),g};return i?r(s):s}var b,w,T,C,k,E,N,S,j,D,A,q,L,H,O,F,P,R,M,I="sizzle"+1*new Date,W=e.document,$=0,B=0,_=n(),X=n(),z=n(),U=function(e,t){return e===t&&(A=!0),0},V=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,K=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),pe=new RegExp("^"+re+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Te=function(){q()};try{K.apply(G=Z.call(W.childNodes),W.childNodes),G[W.childNodes.length].nodeType}catch(e){K={apply:G.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},q=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:W;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,H=L.documentElement,O=!k(L),(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(L.getElementsByClassName),w.getById=i(function(e){return H.appendChild(e).id=I,!L.getElementsByName||!L.getElementsByName(I).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}},T.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&O)return t.getElementsByClassName(e)},P=[],F=[],(w.qsa=ve.test(L.querySelectorAll))&&(i(function(e){H.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+I+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=L.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ve.test(R=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",oe)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(H.compareDocumentPosition),M=t||ve.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===L||e.ownerDocument===W&&M(W,e)?-1:t===L||t.ownerDocument===W&&M(W,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],u=[t];if(!i||!o)return e===L?-1:t===L?1:i?-1:o?1:D?ee(D,e)-ee(D,t):0;if(i===o)return s(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===W?-1:u[r]===W?1:0},L):L},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==L&&q(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&O&&!z[n+" "]&&(!P||!P.test(n))&&(!F||!F.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&q(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&q(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||"").replace(be,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",v=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!u&&!a,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(a?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?v.firstChild:v.lastChild],s&&y){for(p=v,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===$&&l[1],x=d&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[$,d,x];break}}else if(y&&(p=t,f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===$&&l[1],x=d),x===!1)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((a?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++x||(y&&(f=p[I]||(p[I]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[$,x]),p!==t)););return x-=i,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[I]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=ee(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=N(e.replace(ae,"$1"));return i[I]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);
return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,E=t.tokenize=function(e,n){var r,i,o,s,a,u,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=T.preFilter;a;){r&&!(i=ue.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=le.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ae," ")}),a=a.slice(r.length));for(s in T.filter)!(i=de[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):X(e,u).slice(0)},N=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[I]?r.push(o):i.push(o);o=z(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,f=!r&&E(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&O&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(be,we),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(be,we),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return K.apply(n,r),n;break}}return(l||N(e,f))(r,t,!O,n,!t||ye.test(e)&&c(t.parentNode)||t),n},w.sortStable=I.split("").sort(U).join("")===I,w.detectDuplicates=!!A,q(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var fe=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&oe(e).is(n))break;r.push(e)}return r},pe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},de=oe.expr.match.needsContext,he=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ge=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?oe.find.matchesSelector(r,e)?[r]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;t<n;t++)if(oe.contains(i[t],this))return!0}));for(t=0;t<n;t++)oe.find(e,i[t],r);return r=this.pushStack(n>1?oe.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&de.test(e)?oe(e):e||[],!1).length}});var ve,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=oe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||ve,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:me.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:G,!0)),he.test(r[1])&&oe.isPlainObject(t))for(r in t)oe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=G.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==n.ready?n.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ye.prototype=oe.fn,ve=oe(G);var xe=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=de.test(e)||"string"!=typeof e?oe(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Z.call(oe(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return fe(e,"parentNode")},parentsUntil:function(e,t,n){return fe(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return fe(e,"nextSibling")},prevAll:function(e){return fe(e,"previousSibling")},nextUntil:function(e,t,n){return fe(e,"nextSibling",n)},prevUntil:function(e,t,n){return fe(e,"previousSibling",n)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,r){var i=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=oe.filter(r,i)),this.length>1&&(be[e]||oe.uniqueSort(i),xe.test(e)&&i.reverse()),this.pushStack(i)}});var we=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,r,i,s=[],a=[],u=-1,l=function(){for(i=e.once,r=t=!0;a.length;u=-1)for(n=a.shift();++u<s.length;)s[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=s.length,n=!1);e.memory||(n=!1),t=!1,i&&(s=n?[]:"")},c={add:function(){return s&&(n&&!t&&(u=s.length-1,a.push(n)),function t(n){oe.each(n,function(n,r){oe.isFunction(r)?e.unique&&c.has(r)||s.push(r):r&&r.length&&"string"!==oe.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,s,n))>-1;)s.splice(n,1),n<=u&&u--}),this},has:function(e){return e?oe.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return i=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return i=a=[],n||(s=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var s=oe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,r):r}},i={};return r.pipe=r.then,oe.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Q.call(arguments),s=o.length,a=1!==s||e&&oe.isFunction(e.promise)?s:0,u=1===a?e:oe.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Q.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)o[i]&&oe.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,t)).done(l(i,r,o)).fail(u.reject):--a;return a||u.resolveWith(r,o),u.promise()}});var Te;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(Te.resolveWith(G,[oe]),oe.fn.triggerHandler&&(oe(G).triggerHandler("ready"),oe(G).off("ready"))))}}),oe.ready.promise=function(t){return Te||(Te=oe.Deferred(),"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?e.setTimeout(oe.ready):(G.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s))),Te.promise(t)},oe.ready.promise();var Ce=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===oe.type(n)){i=!0;for(a in n)Ce(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,oe.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(oe(e),n)})),t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o},ke=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};a.uid=1,a.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!ke(e))return{};var t=e[this.expando];return t||(t={},ke(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,oe.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?r=t.concat(t.map(oe.camelCase)):(i=oe.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(we)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var Ee=new a,Ne=new a,Se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,je=/[A-Z]/g;oe.extend({hasData:function(e){return Ne.hasData(e)||Ee.hasData(e)},data:function(e,t,n){return Ne.access(e,t,n)},removeData:function(e,t){Ne.remove(e,t)},_data:function(e,t,n){return Ee.access(e,t,n)},_removeData:function(e,t){Ee.remove(e,t)}}),oe.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=Ne.get(o),1===o.nodeType&&!Ee.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=oe.camelCase(r.slice(5)),u(o,r,i[r])));Ee.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ne.set(this,e)}):Ce(this,function(t){var n,r;if(o&&void 0===t){if(n=Ne.get(o,e)||Ne.get(o,e.replace(je,"-$&").toLowerCase()),void 0!==n)return n;if(r=oe.camelCase(e),n=Ne.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else r=oe.camelCase(e),this.each(function(){var n=Ne.get(this,r);Ne.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&Ne.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ne.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Ee.get(e,t),n&&(!r||oe.isArray(n)?r=Ee.access(e,t,oe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),r=n.length,i=n.shift(),o=oe._queueHooks(e,t),s=function(){oe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ee.get(e,n)||Ee.access(e,n,{empty:oe.Callbacks("once memory").add(function(){Ee.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=oe.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=Ee.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],Le=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},He=/^(?:checkbox|radio)$/i,Oe=/<([\w:-]+)/,Fe=/^$|\/(?:java|ecma)script/i,Pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pe.optgroup=Pe.option,Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td;var Re=/<|&#?\w+;/;!function(){var e=G.createDocumentFragment(),t=e.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Me=/^key/,Ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,We=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,v=Ee.get(e);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=oe.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(t){return"undefined"!=typeof oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(we)||[""],l=t.length;l--;)a=We.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=oe.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=oe.event.special[d]||{},c=oe.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&oe.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),oe.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,v=Ee.hasData(e)&&Ee.get(e);if(v&&(u=v.events)){for(t=(t||"").match(we)||[""],l=t.length;l--;)if(a=We.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=oe.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,v.handle)!==!1||oe.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)oe.event.remove(e,d+t[l],n,r,!0);oe.isEmptyObject(u)&&Ee.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,r,i,o,s=[],a=Q.call(arguments),u=(Ee.get(this,"events")||{})[e.type]||[],l=oe.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=oe.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((oe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(r=[],n=0;n<a;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?oe(i,this).index(u)>-1:oe.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||G,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Ie.test(i)?this.mouseHooks:Me.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new oe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=G),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==g()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===g()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&oe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:h):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||oe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.fn.extend({on:function(e,t,n,r){return v(this,e,t,n,r)},one:function(e,t,n,r){return v(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,oe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=h),this.each(function(){oe.event.remove(this,e,n,t)})}});var $e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Be=/<script|<style|<link/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/^true\/(.*)/,ze=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace($e,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=oe.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(s=c(a),o=c(e),r=0,i=o.length;r<i;r++)w(o[r],s[r]);if(t)if(n)for(o=o||c(e),s=s||c(a),r=0,i=o.length;r<i;r++)b(o[r],s[r]);else b(e,a);return s=c(a,"script"),s.length>0&&f(s,!u&&c(e,"script")),a},cleanData:function(e){for(var t,n,r,i=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(ke(n)){if(t=n[Ee.expando]){if(t.events)for(r in t.events)i[r]?oe.event.remove(n,r):oe.removeEvent(n,r,t.handle);n[Ee.expando]=void 0}n[Ne.expando]&&(n[Ne.expando]=void 0)}}}),oe.fn.extend({domManip:T,detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return Ce(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=m(this,e);t.appendChild(e)}})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=m(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Ce(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!Pe[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var n=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,r=[],i=oe(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),oe(i[s])[t](n),K.apply(r,n.get());return this.pushStack(r)}});var Ue,Ve={HTML:"block",BODY:"block"},Ye=/^margin/,Ge=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),Qe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Je=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i},Ke=G.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Ke.appendChild(s);var t=e.getComputedStyle(a);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",i="4px"===t.marginRight,Ke.removeChild(s)}var n,r,i,o,s=G.createElement("div"),a=G.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),oe.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),i},reliableMarginLeft:function(){return null==r&&t(),o},reliableMarginRight:function(){var t,n=a.appendChild(G.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",Ke.appendChild(s),t=!parseFloat(e.getComputedStyle(n).marginRight),Ke.removeChild(s),a.removeChild(n),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],rt=G.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=N(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=oe.camelCase(t),u=e.style;return t=oe.cssProps[a]||(oe.cssProps[a]=j(a)||a),s=oe.cssHooks[t]||oe.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ae.exec(n))&&i[1]&&(n=l(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(oe.cssNumber[a]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,s,a=oe.camelCase(t);return t=oe.cssProps[a]||(oe.cssProps[a]=j(a)||a),s=oe.cssHooks[t]||oe.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=N(e,t,r)),"normal"===i&&t in tt&&(i=tt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,r){if(n)return Ze.test(oe.css(e,"display"))&&0===e.offsetWidth?Je(e,et,function(){return q(e,t,r)}):q(e,t,r)},set:function(e,n,r){var i,o=r&&Qe(e),s=r&&A(e,t,r,"border-box"===oe.css(e,"boxSizing",!1,o),o);return s&&(i=Ae.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=oe.css(e,t)),D(e,n,s)}}}),oe.cssHooks.marginLeft=S(re.reliableMarginLeft,function(e,t){if(t)return(parseFloat(N(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),oe.cssHooks.marginRight=S(re.reliableMarginRight,function(e,t){if(t)return Je(e,{display:"inline-block"},N,[e,"marginRight"])}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+qe[r]+t]=o[r]||o[r-2]||o[0];return i}},Ye.test(e)||(oe.cssHooks[e+t].set=D)}),oe.fn.extend({css:function(e,t){return Ce(this,function(e,t,n){var r,i,o={},s=0;if(oe.isArray(t)){for(r=Qe(e),i=t.length;s<i;s++)o[t[s]]=oe.css(e,t[s],!1,r);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Le(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=H.prototype.init,oe.fx.step={};var it,ot,st=/^(?:toggle|show|hide)$/,at=/queueHooks$/;oe.Animation=oe.extend(I,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return l(n.elem,e,Ae.exec(t),n),n}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(we);for(var n,r=0,i=e.length;r<i;r++)n=e[r],I.tweeners[n]=I.tweeners[n]||[],I.tweeners[n].unshift(t)},prefilters:[R],prefilter:function(e,t){t?I.prefilters.unshift(e):I.prefilters.push(e)}}),oe.speed=function(e,t,n){var r=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=oe.isEmptyObject(e),o=oe.speed(t,n,r),s=function(){var t=I(this,oe.extend({},e),o);(i||Ee.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=oe.timers,s=Ee.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&at.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Ee.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=oe.timers,s=r?r.length:0;for(n.finish=!0,oe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,r,i)}}),oe.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,n=oe.timers;for(it=oe.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||oe.fx.stop(),it=void 0},oe.fx.timer=function(e){
oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ot||(ot=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(ot),ot=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,n){return t=oe.fx?oe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=G.createElement("input"),t=G.createElement("select"),n=t.appendChild(G.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,e=G.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var ut,lt=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return Ce(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?oe.prop(e,t,n):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),i=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void oe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=oe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(we);if(o&&1===e.nodeType)for(;n=o[i++];)r=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),ut={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||oe.find.attr;lt[t]=function(e,t,r){var i,o;return r||(o=lt[t],lt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,lt[t]=o),i}});var ct=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Ce(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,i=oe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),re.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,u=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[u++];)if(i=W(n),r=1===n.nodeType&&(" "+i+" ").replace(pt," ")){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=oe.trim(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,u=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[u++];)if(i=W(n),r=1===n.nodeType&&(" "+i+" ").replace(pt," ")){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=oe.trim(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(n){oe(this).toggleClass(e.call(this,n,W(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=oe(this),o=e.match(we)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=W(this),t&&Ee.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ee.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var dt=/\r/g,ht=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=oe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,oe(this).val()):e,null==i?i="":"number"==typeof i?i+="":oe.isArray(i)&&(i=oe.map(i,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=oe.valHooks[i.type]||oe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(dt,""):null==n?"":n)}}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(ht," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(n=r[u],(n.selected||u===i)&&(re.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=oe.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=oe.inArray(oe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){if(oe.isArray(t))return e.checked=oe.inArray(oe(e).val(),t)>-1}},re.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var gt=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||G],d=ne.call(t,"type")?t.type:t,h=ne.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||G,3!==r.nodeType&&8!==r.nodeType&&!gt.test(d+oe.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[oe.expando]?t:new oe.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:oe.makeArray(n,[t]),f=oe.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!oe.isWindow(r)){for(u=f.delegateType||d,gt.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||G)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(Ee.get(s,"events")||{})[t.type]&&Ee.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&ke(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!ke(r)||l&&oe.isFunction(r[d])&&!oe.isWindow(r)&&(a=r[l],a&&(r[l]=null),oe.event.triggered=d,r[d](),oe.event.triggered=void 0,a&&(r[l]=a)),t.result}},simulate:function(e,t,n){var r=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(r,null,t)}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return oe.event.trigger(e,t,n,!0)}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Ee.access(r,t);i||r.addEventListener(e,n,!0),Ee.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Ee.access(r,t)-1;i?Ee.access(r,t,i):(r.removeEventListener(e,n,!0),Ee.remove(r,t))}}});var vt=e.location,mt=oe.now(),yt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),n};var xt=/#.*$/,bt=/([?&])_=[^&]*/,wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Tt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ct=/^(?:GET|HEAD)$/,kt=/^\/\//,Et={},Nt={},St="*/".concat("*"),jt=G.createElement("a");jt.href=vt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vt.href,type:"GET",isLocal:Tt.test(vt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":St,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_(_(e,oe.ajaxSettings),t):_(oe.ajaxSettings,e)},ajaxPrefilter:$(Et),ajaxTransport:$(Nt),ajax:function(t,n){function r(t,n,r,a){var l,f,y,x,w,C=n;2!==b&&(b=2,u&&e.clearTimeout(u),i=void 0,s=a||"",T.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(x=X(p,T,r)),x=z(p,x,T,l),l?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(oe.lastModified[o]=w),w=T.getResponseHeader("etag"),w&&(oe.etag[o]=w)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=x.state,f=x.data,y=x.error,l=!y)):(y=C,!t&&C||(C="error",t<0&&(t=0))),T.status=t,T.statusText=(n||C)+"",l?g.resolveWith(d,[f,C,T]):g.rejectWith(d,[T,C,y]),T.statusCode(m),m=void 0,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[T,p,l?f:y]),v.fireWith(d,[T,C]),c&&(h.trigger("ajaxComplete",[T,p]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,s,a,u,l,c,f,p=oe.ajaxSetup({},n),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?oe(d):oe.event,g=oe.Deferred(),v=oe.Callbacks("once memory"),m=p.statusCode||{},y={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=wt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),r(0,t),this}};if(g.promise(T).complete=v.add,T.success=T.done,T.error=T.fail,p.url=((t||p.url||vt.href)+"").replace(xt,"").replace(kt,vt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=oe.trim(p.dataType||"*").toLowerCase().match(we)||[""],null==p.crossDomain){l=G.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=jt.protocol+"//"+jt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=oe.param(p.data,p.traditional)),B(Et,p,n,T),2===b)return T;c=oe.event&&p.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ct.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(yt.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=bt.test(o)?o.replace(bt,"$1_="+mt++):o+(yt.test(o)?"&":"?")+"_="+mt++)),p.ifModified&&(oe.lastModified[o]&&T.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&T.setRequestHeader("If-None-Match",oe.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+St+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===b))return T.abort();w="abort";for(f in{success:1,error:1,complete:1})T[f](p[f]);if(i=B(Nt,p,n,T)){if(T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),2===b)return T;p.async&&p.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},p.timeout));try{b=1,i.send(y,r)}catch(e){if(!(b<2))throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,r,i){return oe.isFunction(n)&&(i=i||r,r=n,n=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:i,data:n,success:r},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Dt=/%20/g,At=/\[\]$/,qt=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,r=[],i=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){i(this.name,this.value)});else for(n in e)U(n,e[n],t,i);return r.join("&").replace(Dt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Ht.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!He.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(qt,"\r\n")}}):{name:t.name,value:n.replace(qt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ot={0:200,1223:204},Ft=oe.ajaxSettings.xhr();re.cors=!!Ft&&"withCredentials"in Ft,re.ajax=Ft=!!Ft,oe.ajaxTransport(function(t){var n,r;if(re.cors||Ft&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);n=function(e){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ot[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),G.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Pt=[],Rt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||oe.expando+"_"+mt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Rt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Rt,"$1"+i):t.jsonp!==!1&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||oe.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){void 0===o?oe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Pt.push(i)),s&&oe.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var r=he.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=p([e],t,i),i&&i.length&&oe(i).remove(),oe.merge([],r.childNodes))};var Mt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&Mt)return Mt.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=oe.trim(e.slice(a)),e=e.slice(0,a)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&oe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?oe("<div>").append(oe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=oe.css(e,"position"),f=oe(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=oe.css(e,"top"),u=oe.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},a))),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,oe.contains(t,r)?(i=r.getBoundingClientRect(),n=V(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(r=e.offset()),r.top+=oe.css(e[0],"borderTopWidth",!0),r.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-oe.css(n,"marginTop",!0),left:t.left-r.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Ke})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(r){return Ce(this,function(e,r,i){var o=V(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=S(re.pixelPosition,function(e,n){if(n)return n=N(e,t),Ge.test(n)?oe(e).position()[t]+"px":n})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){oe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return Ce(this,function(t,n,r){var i;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?oe.css(t,n,s):oe.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var It=e.jQuery,Wt=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=Wt),t&&e.jQuery===oe&&(e.jQuery=It),oe},t||(e.jQuery=e.$=oe),oe});
},{}],113:[function(require,module,exports){
module.exports=require("./lib/linkify-jquery").default;
},{"./lib/linkify-jquery":115}],114:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function replaceChildWithChildren(e,t,n){var i=n[n.length-1];e.replaceChild(i,t);for(var r=n.length-2;r>=0;r--)e.insertBefore(n[r],i),i=n[r]}function tokensToNodes(e,t,n){for(var i=[],r=e,o=Array.isArray(r),l=0,r=o?r:r[Symbol.iterator]();;){var a;if(o){if(l>=r.length)break;a=r[l++]}else{if(l=r.next(),l.done)break;a=l.value}var s=a;if("nl"===s.type&&t.nl2br)i.push(n.createElement("br"));else if(s.isLink&&t.check(s)){var f=t.resolve(s),d=f.formatted,u=f.formattedHref,c=f.tagName,p=f.className,h=f.target,m=f.events,k=f.attributes,y=n.createElement(c);if(y.setAttribute("href",u),p&&y.setAttribute("class",p),h&&y.setAttribute("target",h),k)for(var E in k)y.setAttribute(E,k[E]);if(m)for(var v in m)y.addEventListener?y.addEventListener(v,m[v]):y.attachEvent&&y.attachEvent("on"+v,m[v]);y.appendChild(n.createTextNode(d)),i.push(y)}else i.push(n.createTextNode(s.toString()))}return i}function linkifyElementHelper(e,t,n){if(!e||e.nodeType!==HTML_NODE)throw new Error("Cannot linkify "+e+" - Invalid DOM Node type");var i=t.ignoreTags;if("A"===e.tagName||options.contains(i,e.tagName))return e;for(var r=e.firstChild;r;){switch(r.nodeType){case HTML_NODE:linkifyElementHelper(r,t,n);break;case TXT_NODE:var o=r.nodeValue,l=tokenize(o);if(0===l.length||1===l.length&&l[0]instanceof TEXT_TOKEN)break;var a=tokensToNodes(l,t,n);replaceChildWithChildren(e,r,a),r=a[a.length-1]}r=r.nextSibling}return e}function linkifyElement(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{n=n||document||window&&window.document||global&&global.document}catch(e){}if(!n)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");return t=new Options(t),linkifyElementHelper(e,t,n)}exports.__esModule=!0;var _linkify=require("./linkify"),linkify=_interopRequireWildcard(_linkify),tokenize=linkify.tokenize,options=linkify.options,Options=options.Options,TEXT_TOKEN=linkify.parser.TOKENS.TEXT,HTML_NODE=1,TXT_NODE=3;linkifyElement.helper=linkifyElementHelper,linkifyElement.normalize=function(e){return new Options(e)},exports.default=linkifyElement;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./linkify":116}],115:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function apply(e){function i(e){return e=_linkifyElement2.default.normalize(e),this.each(function(){_linkifyElement2.default.helper(this,e,n)})}var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.fn=e.fn||{};try{n=n||document||window&&window.document||global&&global.document}catch(e){}if(!n)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the second argument to linkify/jquery");"function"!=typeof e.fn.linkify&&(e.fn.linkify=i,e(n).ready(function(){e("[data-linkify]").each(function(){var i=e(this),n=i.data(),t=n.linkify,l=n.linkifyNlbr,a={attributes:n.linkifyAttributes,defaultProtocol:n.linkifyDefaultProtocol,events:n.linkifyEvents,format:n.linkifyFormat,formatHref:n.linkifyFormatHref,nl2br:!!l&&0!==l&&"false"!==l,tagName:n.linkifyTagname,target:n.linkifyTarget,className:n.linkifyClassName||n.linkifyLinkclass,validate:n.linkifyValidate,ignoreTags:n.linkifyIgnoreTags},f="this"===t?i:i.find(t);f.linkify(a)})}))}exports.__esModule=!0,exports.default=apply;var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_linkifyElement=require("./linkify-element"),_linkifyElement2=_interopRequireDefault(_linkifyElement);try{var a=!define&&(window.linkifyElement=_linkifyElement2.default)}catch(e){}
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./linkify-element":114,"jquery":112}],116:[function(require,module,exports){
"use strict";function _interopRequireWildcard(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}exports.__esModule=!0,exports.tokenize=exports.test=exports.scanner=exports.parser=exports.options=exports.inherits=exports.find=void 0;var _class=require("./linkify/utils/class"),_options=require("./linkify/utils/options"),options=_interopRequireWildcard(_options),_scanner=require("./linkify/core/scanner"),scanner=_interopRequireWildcard(_scanner),_parser=require("./linkify/core/parser"),parser=_interopRequireWildcard(_parser);Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)});var tokenize=function(r){return parser.run(scanner.run(r))},find=function(r){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=tokenize(r),n=[],i=0;i<t.length;i++){var s=t[i];!s.isLink||e&&s.type!==e||n.push(s.toObject())}return n},test=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=tokenize(r);return 1===t.length&&t[0].isLink&&(!e||t[0].type===e)};exports.find=find,exports.inherits=_class.inherits,exports.options=options,exports.parser=parser,exports.scanner=scanner,exports.test=test,exports.tokenize=tokenize;
},{"./linkify/core/parser":117,"./linkify/core/scanner":118,"./linkify/utils/class":123,"./linkify/utils/options":124}],117:[function(require,module,exports){
"use strict";function _interopRequireWildcard(_){if(_&&_.__esModule)return _;var t={};if(null!=_)for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(t[S]=_[S]);return t.default=_,t}exports.__esModule=!0,exports.start=exports.run=exports.TOKENS=exports.State=void 0;var _state=require("./state"),_text=require("./tokens/text"),TEXT_TOKENS=_interopRequireWildcard(_text),_multi=require("./tokens/multi"),MULTI_TOKENS=_interopRequireWildcard(_multi),makeState=function(_){return new _state.TokenState(_)},S_START=makeState(),S_PROTOCOL=makeState(),S_MAILTO=makeState(),S_PROTOCOL_SLASH=makeState(),S_PROTOCOL_SLASH_SLASH=makeState(),S_DOMAIN=makeState(),S_DOMAIN_DOT=makeState(),S_TLD=makeState(_multi.URL),S_TLD_COLON=makeState(),S_TLD_PORT=makeState(_multi.URL),S_URL=makeState(_multi.URL),S_URL_NON_ACCEPTING=makeState(),S_URL_OPENBRACE=makeState(),S_URL_OPENBRACKET=makeState(),S_URL_OPENANGLEBRACKET=makeState(),S_URL_OPENPAREN=makeState(),S_URL_OPENBRACE_Q=makeState(_multi.URL),S_URL_OPENBRACKET_Q=makeState(_multi.URL),S_URL_OPENANGLEBRACKET_Q=makeState(_multi.URL),S_URL_OPENPAREN_Q=makeState(_multi.URL),S_URL_OPENBRACE_SYMS=makeState(),S_URL_OPENBRACKET_SYMS=makeState(),S_URL_OPENANGLEBRACKET_SYMS=makeState(),S_URL_OPENPAREN_SYMS=makeState(),S_EMAIL_DOMAIN=makeState(),S_EMAIL_DOMAIN_DOT=makeState(),S_EMAIL=makeState(_multi.EMAIL),S_EMAIL_COLON=makeState(),S_EMAIL_PORT=makeState(_multi.EMAIL),S_MAILTO_EMAIL=makeState(_multi.MAILTOEMAIL),S_MAILTO_EMAIL_NON_ACCEPTING=makeState(),S_LOCALPART=makeState(),S_LOCALPART_AT=makeState(),S_LOCALPART_DOT=makeState(),S_NL=makeState(_multi.NL);S_START.on(_text.NL,S_NL).on(_text.PROTOCOL,S_PROTOCOL).on(_text.MAILTO,S_MAILTO).on(_text.SLASH,S_PROTOCOL_SLASH),S_PROTOCOL.on(_text.SLASH,S_PROTOCOL_SLASH),S_PROTOCOL_SLASH.on(_text.SLASH,S_PROTOCOL_SLASH_SLASH),S_START.on(_text.TLD,S_DOMAIN).on(_text.DOMAIN,S_DOMAIN).on(_text.LOCALHOST,S_TLD).on(_text.NUM,S_DOMAIN),S_PROTOCOL_SLASH_SLASH.on(_text.TLD,S_URL).on(_text.DOMAIN,S_URL).on(_text.NUM,S_URL).on(_text.LOCALHOST,S_URL),S_DOMAIN.on(_text.DOT,S_DOMAIN_DOT),S_EMAIL_DOMAIN.on(_text.DOT,S_EMAIL_DOMAIN_DOT),S_DOMAIN_DOT.on(_text.TLD,S_TLD).on(_text.DOMAIN,S_DOMAIN).on(_text.NUM,S_DOMAIN).on(_text.LOCALHOST,S_DOMAIN),S_EMAIL_DOMAIN_DOT.on(_text.TLD,S_EMAIL).on(_text.DOMAIN,S_EMAIL_DOMAIN).on(_text.NUM,S_EMAIL_DOMAIN).on(_text.LOCALHOST,S_EMAIL_DOMAIN),S_TLD.on(_text.DOT,S_DOMAIN_DOT),S_EMAIL.on(_text.DOT,S_EMAIL_DOMAIN_DOT),S_TLD.on(_text.COLON,S_TLD_COLON).on(_text.SLASH,S_URL),S_TLD_COLON.on(_text.NUM,S_TLD_PORT),S_TLD_PORT.on(_text.SLASH,S_URL),S_EMAIL.on(_text.COLON,S_EMAIL_COLON),S_EMAIL_COLON.on(_text.NUM,S_EMAIL_PORT);var qsAccepting=[_text.DOMAIN,_text.AT,_text.LOCALHOST,_text.NUM,_text.PLUS,_text.POUND,_text.PROTOCOL,_text.SLASH,_text.TLD,_text.UNDERSCORE,_text.SYM,_text.AMPERSAND],qsNonAccepting=[_text.COLON,_text.DOT,_text.QUERY,_text.PUNCTUATION,_text.CLOSEBRACE,_text.CLOSEBRACKET,_text.CLOSEANGLEBRACKET,_text.CLOSEPAREN,_text.OPENBRACE,_text.OPENBRACKET,_text.OPENANGLEBRACKET,_text.OPENPAREN];S_URL.on(_text.OPENBRACE,S_URL_OPENBRACE).on(_text.OPENBRACKET,S_URL_OPENBRACKET).on(_text.OPENANGLEBRACKET,S_URL_OPENANGLEBRACKET).on(_text.OPENPAREN,S_URL_OPENPAREN),S_URL_NON_ACCEPTING.on(_text.OPENBRACE,S_URL_OPENBRACE).on(_text.OPENBRACKET,S_URL_OPENBRACKET).on(_text.OPENANGLEBRACKET,S_URL_OPENANGLEBRACKET).on(_text.OPENPAREN,S_URL_OPENPAREN),S_URL_OPENBRACE.on(_text.CLOSEBRACE,S_URL),S_URL_OPENBRACKET.on(_text.CLOSEBRACKET,S_URL),S_URL_OPENANGLEBRACKET.on(_text.CLOSEANGLEBRACKET,S_URL),S_URL_OPENPAREN.on(_text.CLOSEPAREN,S_URL),S_URL_OPENBRACE_Q.on(_text.CLOSEBRACE,S_URL),S_URL_OPENBRACKET_Q.on(_text.CLOSEBRACKET,S_URL),S_URL_OPENANGLEBRACKET_Q.on(_text.CLOSEANGLEBRACKET,S_URL),S_URL_OPENPAREN_Q.on(_text.CLOSEPAREN,S_URL),S_URL_OPENBRACE_SYMS.on(_text.CLOSEBRACE,S_URL),S_URL_OPENBRACKET_SYMS.on(_text.CLOSEBRACKET,S_URL),S_URL_OPENANGLEBRACKET_SYMS.on(_text.CLOSEANGLEBRACKET,S_URL),S_URL_OPENPAREN_SYMS.on(_text.CLOSEPAREN,S_URL),S_URL_OPENBRACE.on(qsAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET.on(qsAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET.on(qsAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN.on(qsAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE.on(qsNonAccepting,S_URL_OPENBRACE_SYMS),S_URL_OPENBRACKET.on(qsNonAccepting,S_URL_OPENBRACKET_SYMS),S_URL_OPENANGLEBRACKET.on(qsNonAccepting,S_URL_OPENANGLEBRACKET_SYMS),S_URL_OPENPAREN.on(qsNonAccepting,S_URL_OPENPAREN_SYMS),S_URL_OPENBRACE_Q.on(qsAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET_Q.on(qsAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET_Q.on(qsAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN_Q.on(qsAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE_Q.on(qsNonAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET_Q.on(qsNonAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET_Q.on(qsNonAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN_Q.on(qsNonAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE_SYMS.on(qsAccepting,S_URL_OPENBRACE_Q),S_URL_OPENBRACKET_SYMS.on(qsAccepting,S_URL_OPENBRACKET_Q),S_URL_OPENANGLEBRACKET_SYMS.on(qsAccepting,S_URL_OPENANGLEBRACKET_Q),S_URL_OPENPAREN_SYMS.on(qsAccepting,S_URL_OPENPAREN_Q),S_URL_OPENBRACE_SYMS.on(qsNonAccepting,S_URL_OPENBRACE_SYMS),S_URL_OPENBRACKET_SYMS.on(qsNonAccepting,S_URL_OPENBRACKET_SYMS),S_URL_OPENANGLEBRACKET_SYMS.on(qsNonAccepting,S_URL_OPENANGLEBRACKET_SYMS),S_URL_OPENPAREN_SYMS.on(qsNonAccepting,S_URL_OPENPAREN_SYMS),S_URL.on(qsAccepting,S_URL),S_URL_NON_ACCEPTING.on(qsAccepting,S_URL),S_URL.on(qsNonAccepting,S_URL_NON_ACCEPTING),S_URL_NON_ACCEPTING.on(qsNonAccepting,S_URL_NON_ACCEPTING),S_MAILTO.on(_text.TLD,S_MAILTO_EMAIL).on(_text.DOMAIN,S_MAILTO_EMAIL).on(_text.NUM,S_MAILTO_EMAIL).on(_text.LOCALHOST,S_MAILTO_EMAIL),S_MAILTO_EMAIL.on(qsAccepting,S_MAILTO_EMAIL).on(qsNonAccepting,S_MAILTO_EMAIL_NON_ACCEPTING),S_MAILTO_EMAIL_NON_ACCEPTING.on(qsAccepting,S_MAILTO_EMAIL).on(qsNonAccepting,S_MAILTO_EMAIL_NON_ACCEPTING);var localpartAccepting=[_text.DOMAIN,_text.NUM,_text.PLUS,_text.POUND,_text.QUERY,_text.UNDERSCORE,_text.SYM,_text.AMPERSAND,_text.TLD];S_DOMAIN.on(localpartAccepting,S_LOCALPART).on(_text.AT,S_LOCALPART_AT),S_TLD.on(localpartAccepting,S_LOCALPART).on(_text.AT,S_LOCALPART_AT),S_DOMAIN_DOT.on(localpartAccepting,S_LOCALPART),S_LOCALPART.on(localpartAccepting,S_LOCALPART).on(_text.AT,S_LOCALPART_AT).on(_text.DOT,S_LOCALPART_DOT),S_LOCALPART_DOT.on(localpartAccepting,S_LOCALPART),S_LOCALPART_AT.on(_text.TLD,S_EMAIL_DOMAIN).on(_text.DOMAIN,S_EMAIL_DOMAIN).on(_text.LOCALHOST,S_EMAIL);var run=function(_){for(var t=_.length,S=0,A=[],L=[];S<t;){for(var E=S_START,O=null,e=null,R=0,N=null,n=-1;S<t&&!(O=E.next(_[S]));)L.push(_[S++]);for(;S<t&&(e=O||E.next(_[S]));)O=null,E=e,E.accepts()?(n=0,N=E):n>=0&&n++,S++,R++;if(n<0)for(var T=S-R;T<S;T++)L.push(_[T]);else{L.length>0&&(A.push(new _multi.TEXT(L)),L=[]),S-=n,R-=n;var P=N.emit();A.push(new P(_.slice(S-R,S)))}}return L.length>0&&A.push(new _multi.TEXT(L)),A};exports.State=_state.TokenState,exports.TOKENS=MULTI_TOKENS,exports.run=run,exports.start=S_START;
},{"./state":119,"./tokens/multi":121,"./tokens/text":122}],118:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}exports.__esModule=!0,exports.start=exports.run=exports.TOKENS=exports.State=void 0;var _state=require("./state"),_text=require("./tokens/text"),TOKENS=_interopRequireWildcard(_text),tlds="aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw".split("|"),NUMBERS="0123456789".split(""),ALPHANUM="0123456789abcdefghijklmnopqrstuvwxyz".split(""),WHITESPACE=[" ","\f","\r","\t","\v"," "," ","᠎"],domainStates=[],makeState=function(e){return new _state.CharacterState(e)},S_START=makeState(),S_NUM=makeState(_text.NUM),S_DOMAIN=makeState(_text.DOMAIN),S_DOMAIN_HYPHEN=makeState(),S_WS=makeState(_text.WS);S_START.on("@",makeState(_text.AT)).on(".",makeState(_text.DOT)).on("+",makeState(_text.PLUS)).on("#",makeState(_text.POUND)).on("?",makeState(_text.QUERY)).on("/",makeState(_text.SLASH)).on("_",makeState(_text.UNDERSCORE)).on(":",makeState(_text.COLON)).on("{",makeState(_text.OPENBRACE)).on("[",makeState(_text.OPENBRACKET)).on("<",makeState(_text.OPENANGLEBRACKET)).on("(",makeState(_text.OPENPAREN)).on("}",makeState(_text.CLOSEBRACE)).on("]",makeState(_text.CLOSEBRACKET)).on(">",makeState(_text.CLOSEANGLEBRACKET)).on(")",makeState(_text.CLOSEPAREN)).on("&",makeState(_text.AMPERSAND)).on([",",";","!",'"',"'"],makeState(_text.PUNCTUATION)),S_START.on("\n",makeState(_text.NL)).on(WHITESPACE,S_WS),S_WS.on(WHITESPACE,S_WS);for(var i=0;i<tlds.length;i++){var newStates=(0,_state.stateify)(tlds[i],S_START,_text.TLD,_text.DOMAIN);domainStates.push.apply(domainStates,newStates)}var partialProtocolFileStates=(0,_state.stateify)("file",S_START,_text.DOMAIN,_text.DOMAIN),partialProtocolFtpStates=(0,_state.stateify)("ftp",S_START,_text.DOMAIN,_text.DOMAIN),partialProtocolHttpStates=(0,_state.stateify)("http",S_START,_text.DOMAIN,_text.DOMAIN),partialProtocolMailtoStates=(0,_state.stateify)("mailto",S_START,_text.DOMAIN,_text.DOMAIN);domainStates.push.apply(domainStates,partialProtocolFileStates),domainStates.push.apply(domainStates,partialProtocolFtpStates),domainStates.push.apply(domainStates,partialProtocolHttpStates);var S_PROTOCOL_FILE=partialProtocolFileStates.pop(),S_PROTOCOL_FTP=partialProtocolFtpStates.pop(),S_PROTOCOL_HTTP=partialProtocolHttpStates.pop(),S_MAILTO=partialProtocolMailtoStates.pop(),S_PROTOCOL_SECURE=makeState(_text.DOMAIN),S_FULL_PROTOCOL=makeState(_text.PROTOCOL),S_FULL_MAILTO=makeState(_text.MAILTO);S_PROTOCOL_FTP.on("s",S_PROTOCOL_SECURE).on(":",S_FULL_PROTOCOL),S_PROTOCOL_HTTP.on("s",S_PROTOCOL_SECURE).on(":",S_FULL_PROTOCOL),domainStates.push(S_PROTOCOL_SECURE),S_PROTOCOL_FILE.on(":",S_FULL_PROTOCOL),S_PROTOCOL_SECURE.on(":",S_FULL_PROTOCOL),S_MAILTO.on(":",S_FULL_MAILTO);var partialLocalhostStates=(0,_state.stateify)("localhost",S_START,_text.LOCALHOST,_text.DOMAIN);domainStates.push.apply(domainStates,partialLocalhostStates),S_START.on(NUMBERS,S_NUM),S_NUM.on("-",S_DOMAIN_HYPHEN).on(NUMBERS,S_NUM).on(ALPHANUM,S_DOMAIN),S_DOMAIN.on("-",S_DOMAIN_HYPHEN).on(ALPHANUM,S_DOMAIN);for(var _i=0;_i<domainStates.length;_i++)domainStates[_i].on("-",S_DOMAIN_HYPHEN).on(ALPHANUM,S_DOMAIN);S_DOMAIN_HYPHEN.on("-",S_DOMAIN_HYPHEN).on(NUMBERS,S_DOMAIN).on(ALPHANUM,S_DOMAIN),S_START.defaultTransition=makeState(_text.SYM);var run=function(e){for(var t=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),a=e.length,o=[],i=0;i<a;){for(var s=S_START,r=null,n=null,l=0,c=null,m=-1;i<a&&(n=s.next(t[i]));)r=null,s=n,s.accepts()?(m=0,c=s):m>=0&&m++,l++,i++;if(!(m<0)){i-=m,l-=m;var p=c.emit();o.push(new p(e.substr(i-l,l)))}}return o},start=S_START;exports.State=_state.CharacterState,exports.TOKENS=TOKENS,exports.run=run,exports.start=start;
},{"./state":119,"./tokens/text":122}],119:[function(require,module,exports){
"use strict";function createStateClass(){return function(t){this.j=[],this.T=t||null}}function stateify(t,e,r,n){for(var s=0,a=t.length,i=e,o=[],u=void 0;s<a&&(u=i.next(t[s]));)i=u,s++;if(s>=a)return[];for(;s<a-1;)u=new CharacterState(n),o.push(u),i.on(t[s],u),i=u,s++;return u=new CharacterState(r),o.push(u),i.on(t[a-1],u),o}exports.__esModule=!0,exports.stateify=exports.TokenState=exports.CharacterState=void 0;var _class=require("../utils/class"),BaseState=createStateClass();BaseState.prototype={defaultTransition:!1,on:function(t,e){if(t instanceof Array){for(var r=0;r<t.length;r++)this.j.push([t[r],e]);return this}return this.j.push([t,e]),this},next:function(t){for(var e=0;e<this.j.length;e++){var r=this.j[e],n=r[0],s=r[1];if(this.test(t,n))return s}return this.defaultTransition},accepts:function(){return!!this.T},test:function(t,e){return t===e},emit:function(){return this.T}};var CharacterState=(0,_class.inherits)(BaseState,createStateClass(),{test:function(t,e){return t===e||e instanceof RegExp&&e.test(t)}}),TokenState=(0,_class.inherits)(BaseState,createStateClass(),{jump:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.next(new t(""));return r===this.defaultTransition?(r=new this.constructor(e),this.on(t,r)):e&&(r.T=e),r},test:function(t,e){return t instanceof e}});exports.CharacterState=CharacterState,exports.TokenState=TokenState,exports.stateify=stateify;
},{"../utils/class":123}],120:[function(require,module,exports){
"use strict";function createTokenClass(){return function(e){e&&(this.v=e)}}exports.__esModule=!0,exports.createTokenClass=createTokenClass;
},{}],121:[function(require,module,exports){
"use strict";function isDomainToken(t){return t instanceof _text.DOMAIN||t instanceof _text.TLD}exports.__esModule=!0,exports.URL=exports.TEXT=exports.NL=exports.EMAIL=exports.MAILTOEMAIL=exports.Base=void 0;var _createTokenClass=require("./create-token-class"),_class=require("../../utils/class"),_text=require("./text"),MultiToken=(0,_createTokenClass.createTokenClass)();MultiToken.prototype={type:"token",isLink:!1,toString:function(){for(var t=[],e=0;e<this.v.length;e++)t.push(this.v[e].toString());return t.join("")},toHref:function(){return this.toString()},toObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(t)}}};var MAILTOEMAIL=(0,_class.inherits)(MultiToken,(0,_createTokenClass.createTokenClass)(),{type:"email",isLink:!0}),EMAIL=(0,_class.inherits)(MultiToken,(0,_createTokenClass.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){this.v;return"mailto:"+this.toString()}}),TEXT=(0,_class.inherits)(MultiToken,(0,_createTokenClass.createTokenClass)(),{type:"text"}),NL=(0,_class.inherits)(MultiToken,(0,_createTokenClass.createTokenClass)(),{type:"nl"}),URL=(0,_class.inherits)(MultiToken,(0,_createTokenClass.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",e=!1,s=!1,o=this.v,n=[],r=0;o[r]instanceof _text.PROTOCOL;)e=!0,n.push(o[r].toString().toLowerCase()),r++;for(;o[r]instanceof _text.SLASH;)s=!0,n.push(o[r].toString()),r++;for(;isDomainToken(o[r]);)n.push(o[r].toString().toLowerCase()),r++;for(;r<o.length;r++)n.push(o[r].toString());return n=n.join(""),e||s||(n=t+"://"+n),n},hasProtocol:function(){return this.v[0]instanceof _text.PROTOCOL}});exports.Base=MultiToken,exports.MAILTOEMAIL=MAILTOEMAIL,exports.EMAIL=EMAIL,exports.NL=NL,exports.TEXT=TEXT,exports.URL=URL;
},{"../../utils/class":123,"./create-token-class":120,"./text":122}],122:[function(require,module,exports){
"use strict";function inheritsToken(e){var s=e?{v:e}:{};return(0,_class.inherits)(TextToken,(0,_createTokenClass.createTokenClass)(),s)}exports.__esModule=!0,exports.AMPERSAND=exports.CLOSEPAREN=exports.CLOSEANGLEBRACKET=exports.CLOSEBRACKET=exports.CLOSEBRACE=exports.OPENPAREN=exports.OPENANGLEBRACKET=exports.OPENBRACKET=exports.OPENBRACE=exports.WS=exports.TLD=exports.SYM=exports.UNDERSCORE=exports.SLASH=exports.MAILTO=exports.PROTOCOL=exports.QUERY=exports.POUND=exports.PLUS=exports.NUM=exports.NL=exports.LOCALHOST=exports.PUNCTUATION=exports.DOT=exports.COLON=exports.AT=exports.DOMAIN=exports.Base=void 0;var _createTokenClass=require("./create-token-class"),_class=require("../../utils/class"),TextToken=(0,_createTokenClass.createTokenClass)();TextToken.prototype={toString:function(){return this.v+""}};var DOMAIN=inheritsToken(),AT=inheritsToken("@"),COLON=inheritsToken(":"),DOT=inheritsToken("."),PUNCTUATION=inheritsToken(),LOCALHOST=inheritsToken(),NL=inheritsToken("\n"),NUM=inheritsToken(),PLUS=inheritsToken("+"),POUND=inheritsToken("#"),PROTOCOL=inheritsToken(),MAILTO=inheritsToken("mailto:"),QUERY=inheritsToken("?"),SLASH=inheritsToken("/"),UNDERSCORE=inheritsToken("_"),SYM=inheritsToken(),TLD=inheritsToken(),WS=inheritsToken(),OPENBRACE=inheritsToken("{"),OPENBRACKET=inheritsToken("["),OPENANGLEBRACKET=inheritsToken("<"),OPENPAREN=inheritsToken("("),CLOSEBRACE=inheritsToken("}"),CLOSEBRACKET=inheritsToken("]"),CLOSEANGLEBRACKET=inheritsToken(">"),CLOSEPAREN=inheritsToken(")"),AMPERSAND=inheritsToken("&");exports.Base=TextToken,exports.DOMAIN=DOMAIN,exports.AT=AT,exports.COLON=COLON,exports.DOT=DOT,exports.PUNCTUATION=PUNCTUATION,exports.LOCALHOST=LOCALHOST,exports.NL=NL,exports.NUM=NUM,exports.PLUS=PLUS,exports.POUND=POUND,exports.QUERY=QUERY,exports.PROTOCOL=PROTOCOL,exports.MAILTO=MAILTO,exports.SLASH=SLASH,exports.UNDERSCORE=UNDERSCORE,exports.SYM=SYM,exports.TLD=TLD,exports.WS=WS,exports.OPENBRACE=OPENBRACE,exports.OPENBRACKET=OPENBRACKET,exports.OPENANGLEBRACKET=OPENANGLEBRACKET,exports.OPENPAREN=OPENPAREN,exports.CLOSEBRACE=CLOSEBRACE,exports.CLOSEBRACKET=CLOSEBRACKET,exports.CLOSEANGLEBRACKET=CLOSEANGLEBRACKET,exports.CLOSEPAREN=CLOSEPAREN,exports.AMPERSAND=AMPERSAND;
},{"../../utils/class":123,"./create-token-class":120}],123:[function(require,module,exports){
"use strict";function inherits(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.create(t.prototype);for(var i in e)o[i]=e[i];return o.constructor=r,r.prototype=o,r}exports.__esModule=!0,exports.inherits=inherits;
},{}],124:[function(require,module,exports){
"use strict";function Options(t){t=t||{},this.defaultProtocol=t.defaultProtocol||defaults.defaultProtocol,this.events=t.events||defaults.events,this.format=t.format||defaults.format,this.formatHref=t.formatHref||defaults.formatHref,this.nl2br=t.nl2br||defaults.nl2br,this.tagName=t.tagName||defaults.tagName,this.target=t.target||defaults.target,this.validate=t.validate||defaults.validate,this.ignoreTags=[],this.attributes=t.attributes||t.linkAttributes||defaults.attributes,this.className=t.className||t.linkClass||defaults.className;for(var e=t.ignoreTags||defaults.ignoreTags,a=0;a<e.length;a++)this.ignoreTags.push(e[a].toUpperCase())}function contains(t,e){for(var a=0;a<t.length;a++)if(t[a]===e)return!0;return!1}function noop(t){return t}function typeToTarget(t,e){return"url"===e?"_blank":null}exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},defaults={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:typeToTarget,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};exports.defaults=defaults,exports.Options=Options,exports.contains=contains,Options.prototype={resolve:function(t){var e=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",e,t),tagName:this.get("tagName",e,t),className:this.get("className",e,t),target:this.get("target",e,t),events:this.getObject("events",e,t),attributes:this.getObject("attributes",e,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(t,e,a){var o=this[t];if(!o)return o;switch("undefined"==typeof o?"undefined":_typeof(o)){case"function":return o(e,a.type);case"object":var r=o[a.type]||defaults[t];return"function"==typeof r?r(e,a.type):r}return o},getObject:function(t,e,a){var o=this[t];return"function"==typeof o?o(e,a.type):o}};
},{}],125:[function(require,module,exports){
!function(t){return"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,i){"use strict";var s,n,o,r,l,h,c,a,p,d,u,g,f,v,S,m,T,y,b,w,x,$,H,C,O,A,E,Y,D,M,N;H={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},y="scrollbar",T="scroll",p="mousedown",d="mouseenter",u="mousemove",f="mousewheel",g="mouseup",m="resize",l="drag",h="enter",w="up",S="panedown",o="DOMMouseScroll",r="down",x="wheel",c="keydown",a="keyup",b="touchmove",s="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,n=null,E=e.requestAnimationFrame,$=e.cancelAnimationFrame,D=i.createElement("div").style,N=function(){var t,e,i,s,n,o;for(s=["t","webkitT","MozT","msT","OT"],t=n=0,o=s.length;n<o;t=++n)if(i=s[t],e=s[t]+"ransform",e in D)return s[t].substr(0,s[t].length-1);return!1}(),M=function(t){return N!==!1&&(""===N?t:N+t.charAt(0).toUpperCase()+t.substr(1))},Y=M("transform"),O=Y!==!1,C=function(){var t,e,s;return t=i.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=T,e.top="-9999px",i.body.appendChild(t),s=t.offsetWidth-t.clientWidth,i.body.removeChild(t),s},A=function(){var t,i,s;return i=e.navigator.userAgent,!!(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(i))&&(s=/Firefox\/\d{2}\./.exec(i),s&&(s=s[0].replace(/\D+/g,"")),t&&+s>23)},v=function(){function c(s,o){this.el=s,this.options=o,n||(n=C()),this.$el=t(this.el),this.doc=t(this.options.documentContext||i),this.win=t(this.options.windowContext||e),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return c.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===o)(e===r&&t.originalEvent.detail>0||e===w&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===f){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===r&&t.originalEvent.wheelDelta<0||e===w&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},c.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},c.prototype.setOnScrollStyles=function(){var t;O?(t={},t[Y]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},E?($&&this.scrollRAF&&$(this.scrollRAF),this.scrollRAF=E(function(e){return function(){return e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},c.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.slider.is(e.target)||(t.offsetY=0),t.pane.addClass("active"),t.doc.bind(u,t.events[l]).bind(g,t.events[w]),t.body.bind(d,t.events[h]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.paneTop-(t.offsetY||.5*t.sliderHeight),t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(e){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(u,t.events[l]).unbind(g,t.events[w]),t.body.unbind(d,t.events[h]),!1}}(this),resize:function(t){return function(e){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,r),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,w),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var i;if(null!=e)return i=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,i&&(t.sliderY+=-i/3),t.scroll(),!1}}(this),enter:function(t){return function(e){var i;if(t.isBeingDragged)return 1!==(e.buttons||e.which)?(i=t.events)[w].apply(i,arguments):void 0}}(this)}},c.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(m,t[m]),this.iOSNativeScrolling||(this.slider.bind(p,t[r]),this.pane.bind(p,t[S]).bind(""+f+" "+o,t[x])),this.$content.bind(""+T+" "+f+" "+o+" "+b,t[T])},c.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(m,t[m]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+T+" "+f+" "+o+" "+b,t[T])},c.prototype.generate=function(){var t,i,s,o,r,l,h;return o=this.options,l=o.paneClass,h=o.sliderClass,t=o.contentClass,(r=this.$el.children("."+l)).length||r.children("."+h).length||this.$el.append('<div class="'+l+'"><div class="'+h+'" /></div>'),this.pane=this.$el.children("."+l),this.slider=this.pane.find("."+h),0===n&&A()?(s=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),i={right:-14,paddingRight:+s+14}):n&&(i={right:-n},this.$el.addClass("has-scrollbar")),null!=i&&this.$content.css(i),this},c.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},c.prototype.reset=function(){var t,e,i,o,r,l,h,c,a,p,d,u;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,o=t.style,r=o.overflowY,s&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+n,p=parseInt(this.$el.css("max-height"),10),p>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>p?p:t.scrollHeight)),h=this.pane.outerHeight(!1),a=parseInt(this.pane.css("top"),10),l=parseInt(this.pane.css("bottom"),10),c=h+a+l,u=Math.round(c/e*h),u<this.options.sliderMinHeight?u=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&u>this.options.sliderMaxHeight&&(u=this.options.sliderMaxHeight),r===T&&o.overflowX!==T&&(u+=n),this.maxSliderTop=c-u,this.contentHeight=e,this.paneHeight=h,this.paneOuterHeight=c,this.sliderHeight=u,this.paneTop=a,this.slider.height(u),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&r!==T?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&r===T?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),i=this.$content.css("position"),"static"!==i&&"relative"!==i||(d=parseInt(this.$content.css("right"),10),d&&this.$content.css({right:"",marginRight:d})),this)},c.prototype.scroll=function(){if(this.isActive)return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this},c.prototype.scrollBottom=function(t){if(this.isActive)return this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(f),this.stop().restore(),this},c.prototype.scrollTop=function(t){if(this.isActive)return this.$content.scrollTop(+t).trigger(f),this.stop().restore(),this},c.prototype.scrollTo=function(t){if(this.isActive)return this.scrollTop(this.$el.find(t).get(0).offsetTop),this},c.prototype.stop=function(){return $&&this.scrollRAF&&($(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},c.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),s&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},c.prototype.flash=function(){if(!this.iOSNativeScrolling&&this.isActive)return this.reset(),this.pane.addClass("flashed"),setTimeout(function(t){return function(){t.pane.removeClass("flashed")}}(this),this.options.flashDelay),this},c}(),t.fn.nanoScroller=function(e){return this.each(function(){var i,s;if((s=this.nanoscroller)||(i=t.extend({},H,e),this.nanoscroller=s=new v(this,i)),e&&"object"==typeof e){if(t.extend(s.options,e),null!=e.scrollBottom)return s.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return s.scrollTop(e.scrollTop);if(e.scrollTo)return s.scrollTo(e.scrollTo);if("bottom"===e.scroll)return s.scrollBottom(0);if("top"===e.scroll)return s.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return s.scrollTo(e.scroll);if(e.stop)return s.stop();if(e.destroy)return s.destroy();if(e.flash)return s.flash()}return s.reset()})},t.fn.nanoScroller.Constructor=v});
},{"jquery":112}],126:[function(require,module,exports){
"use strict";function createLogger(e){var r=e;return{isSafari:function(){return"undefined"!=typeof navigator&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},log:function(){r&&console.log.apply(console,this.getParams(arguments))},error:function(){r&&console.error.apply(console,this.getParams(arguments))},getParams:function(e){return(this.isSafari()?[(new Date).toISOString()]:[]).concat(Array.from(e))},setDebug:function(e){r=!!e}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createLogger;
},{}],127:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _get=function e(t,s,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,s);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,s,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}(),_eventemitter=require("eventemitter3"),_eventemitter2=_interopRequireDefault(_eventemitter),_hmacSha=require("crypto-js/hmac-sha1"),_hmacSha2=_interopRequireDefault(_hmacSha),_hmacSha3=require("crypto-js/hmac-sha256"),_hmacSha4=_interopRequireDefault(_hmacSha3),_websocket=require("websocket"),_store=require("./store"),_store2=_interopRequireDefault(_store),_createLogger=require("./createLogger"),_createLogger2=_interopRequireDefault(_createLogger),API_VERSION=10,responseCodes={REST_STATUS_OK:0,REST_STATUS_ACCESS_INVALID:1,REST_STATUS_MISSING_PARAM:2,REST_STATUS_UDID_INVALID:3,REST_STATUS_INTERNAL_ERROR:4,REST_STATUS_NEW_STREAM_REG:5,REST_STATUS_VER_NOT_SUPPORT:8,REST_STATUS_CHAT_INVALID_DATA:9,REST_STATUS_CHAT_NOT_FOUND:10,REST_STATUS_LIMIT_USER:11,REST_STATUS_LIMIT_USER_DOUBLE_REQUEST:12,REST_STATUS_ILLEGAL_MODIFY_MESSAGE:13},SYSTEM_CHAT_ID="@sys",MESSAGE_READ_CLASS="read",API_URLS={release:["https://api.sender.mobi/","https://api-1.sender.mobi/","https://api-2.sender.mobi/","https://api-3.sender.mobi/","https://api-4.sender.mobi/","https://api-5.sender.mobi/","https://api-6.sender.mobi/","https://api-7.sender.mobi/","https://api-8.sender.mobi/","https://api-9.sender.mobi/","https://api-10.sender.mobi/"],new:"https://api-new.sender.mobi/",prerelease:"https://api-pre.sender.mobi/",dev:"https://api-dev.sender.mobi/",test:"https://api-test.sender.mobi/",bench:"https://bench.sender.mobi/",senderapi:"https://senderapi.com/",alpha:"https://api-alpha.sender.mobi/"},WS_API_URLS={release:"wss://api-ws.sender.mobi/websocket",prerelease:"wss://api-pre-ws.sender.mobi/websocket",dev:"wss://api-dev-ws.sender.mobi/websocket",senderapi:"ws://api-ws.senderapi.com/websocket",alpha:"wss://api-alpha-ws.sender.mobi/websocket"},MAX_FORMS_PER_REQUEST=20,RECONNECT_ON_ERROR_TIMEOUT=1500,DEFAULT_API_URL=API_URLS.release,DEBUG=!1,cachedRequests={},throttle=function(e,t,s){var i,n,r,o=null,a=0;s||(s={});var c=function(){a=s.leading===!1?0:Number(new Date),o=null,r=e.apply(i,n),o||(i=n=null)};return function(){var u=Number(new Date);a||s.leading!==!1||(a=u);var h=t-(u-a);return i=this,n=arguments,h<=0||h>t?(o&&(clearTimeout(o),o=null),a=u,r=e.apply(i,n),o||(i=n=null)):o||s.trailing===!1||(o=setTimeout(c,h)),r}},logger=(0,_createLogger2.default)(DEBUG),SenderAPI=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t);var s=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));s.validateRequiredParams(e),s.config=e,s.store=new _store2.default(e.persistentStore===!1?sessionStorage:localStorage,s.config.prefix||!1);var i=API_URLS[s.config.env]||DEFAULT_API_URL;return s.imei=s.getIMEI(),s.udid=e.udid||s.getUDID(),s.socket=new Socket({apiUrl:i,udid:s.udid,withCredentials:s.config.withCredentials}),s.setChatId(e.chatId),s.socket.on("challenge",function(e){e.challenge&&s.updateChallange(e.challenge)}),s.socket.on("reset",function(){s.close(),s.store.clearWithoutUDID(),s.emit("sapi:reset")}),s.socket.on("newStreamReg",function(){s.emit("sapi:new-stream-registered")}),s.socket.on("versionMismatch",function(){s.close(),s.emit("sapi:version-mismatch")}),s.socket.on("error",function(e){s.emit("sapi:error",e)}),s.socket.on("chatNotFound",function(e){e.chatId&&s.emit("sapi:chat-not-found",e.chatId)}),s.socket.on("limitExceeded",function(){s.emit("sapi:limit-exceeded")}),s.onlineStatusHandler=s.onlineStatusHandler.bind(s),"undefined"!=typeof window&&(window.addEventListener("online",s.onlineStatusHandler),window.addEventListener("offline",s.onlineStatusHandler)),s}return _inherits(t,e),_createClass(t,null,[{key:"setDebug",value:function(e){DEBUG=!!e,logger.setDebug(DEBUG)}}]),_createClass(t,[{key:"validateRequiredParams",value:function(e){if(!e.devId)throw new Error("SenderAPI missed param devId");if(!e.devKey)throw new Error("SenderAPI missed param devKey");if(!e.udid){var t=["language","devType","devModel","devOS","versionOS","clientType","clientVersion"];t.forEach(function(t){if(!e[t])throw new Error("SenderAPI missed param `"+t+"` or `udid` must be specified")})}}},{key:"onlineStatusHandler",value:function(){navigator.onLine&&this.input&&this.input.tickChecker(!0)}},{key:"getToken",value:function(){return this.token}},{key:"updateChallange",value:function(e){this.challenge=e,this.token=this.generateToken(),this.store.set("token",this.token),this.socket.setToken(this.token),this.wsSocket&&this.wsSocket.setToken(this.token)}},{key:"obtainMasterKey",value:function(){var e=this;return new Promise(function(t){e.regRequest().then(function(s){e.masterKey=e.generateMasterKey(s.deviceKey).toString(),e.store.set("masterKey",e.masterKey),e.emit("sapi:geodata",{countryName:s.cName,country:s.country,phoneCode:s.prefix}),s.settings&&e.emit("sapi:widgetdata",s),e.updateChallange(s.challenge),t(s)})})}},{key:"init",value:function(){var e=this;!this.store.get("masterKey")||this.config.forceReg?this.obtainMasterKey().then(function(){e.initStreams()}):(this.masterKey=this.store.get("masterKey"),this.token=this.store.get("token")||"?",this.socket.setToken(this.token),this.initStreams())}},{key:"initStreams",value:function(){var e=this;this.config.connectOnStart!==!1&&this.initInputStream(),this.output=new OutputStream({socket:this.socket}),setTimeout(function(){e.emit("sapi:ready")},1)}},{key:"isWidget",value:function(){return"widget"===this.config.clientType}},{key:"initInputStream",value:function(){var e=this;if(this.input)throw new Error("input stream already initialized");this.input=new InputStream({socket:this.socket,shouldUseConnectionBackOnStart:!this.isWidget()}),this.input.on("sysMessage",function(t,s){e.emit("sapi:sys-message",t,s)}),this.input.on("chatMessages",function(t,s){e.emit("sapi:chat-messages",t,s)}),this.input.on("serverTime",function(t){e.emit("sapi:server-time",t)})}},{key:"terminateInputStream",value:function(){this.input&&(this.input.stop(),this.input=null)}},{key:"request",value:function(e,t){var s=arguments,i=this,n=(arguments.length<=2||void 0===arguments[2]?{}:arguments[2],arguments.length<=3||void 0===arguments[3]?{}:arguments[3]);return new Promise(function(t,r){var o=function t(s,i,o,a){s.apply(i,o).then(function(t){logger.log("[api:sync:response:"+e+"]",JSON.stringify(t)),a(t)}).catch(function(e){n.notRetry||e&&e.responseCode&&[responseCodes.REST_STATUS_CHAT_NOT_FOUND,responseCodes.REST_STATUS_LIMIT_USER].includes(e.responseCode)?r():setTimeout(function(){t(s,i,o,a)},RECONNECT_ON_ERROR_TIMEOUT)})},a=Array.prototype.slice.call(s);a.unshift(i.socket),a[3].rid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),o(i.socketRequest,i,a,t)})}},{key:"socketRequest",value:function(e,t,s){var i,n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],r=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],o={skipToken:!1,skipUDID:!1,udidInBody:!1};return logger.log("[api:sync:request:"+t+"]"),Object.getOwnPropertyNames(n).length>0&&(o.getData=n),r&&Object.assign(o,r),i=e.fetch(t,o,s),i.promise}},{key:"sendForm",value:function(e,t){var s=this;return new Promise(function(i){var n=Date.now().toString();e!==MESSAGE_READ_CLASS?s.output.once("sent:"+n,function(t){logger.log("[api:response:"+e+"]",JSON.stringify(t)),i(t)}):i();var r=Object.assign({},{cid:n,class:e},t);logger.log("[api:request:"+e+"]",JSON.stringify(r)),s.output.push(r)})}},{key:"setChatId",value:function(e){this.socket.setChatId(e)}},{key:"regRequest",value:function(){var e=this.isWidget()?"widget_reg":"reg",t={udid:this.udid,imei:this.imei,developerId:this.config.devId,developerKey:this.config.devKey,devType:this.config.devType,devModel:this.config.devModel,devOS:this.config.devOS,versionOS:this.config.versionOS,clientType:this.config.clientType,clientVersion:this.config.clientVersion,language:this.config.language,authToken:this.config.auth||"",companyId:this.config.companyId||"",origin:this.config.origin||""};return this.isWidget()&&(t.mode=this.config.widgetMode||"default"),this.request(e,t,{},{skipToken:!0})}},{key:"getIMEI",value:function(){var e=this.config.devKey,t=this.store.get("imei_"+e);return t||(t=this.generatePseudoImei(),this.store.set("imei_"+e,t)),t}},{key:"getUDID",value:function(){var e=this.config.devKey,t=this.store.get("udid_"+e);return t||(t=(0,_hmacSha2.default)(this.imei,e).toString(),this.store.set("udid_"+e,t)),t}},{key:"generateMasterKey",value:function(e){return(0,_hmacSha4.default)(this.udid+e,this.config.devKey)}},{key:"generatePseudoImei",value:function(){return parseInt(Math.random().toString().substr(2)).toString(16)+parseInt(Math.random().toString().substr(2)).toString(16)}},{key:"generateToken",value:function(){return(0,_hmacSha4.default)(this.challenge,this.masterKey).toString()}},{key:"initWebsockets",value:function(){var e=this;if(this.wsStream)throw new Error("websockets already initialized");return WS_API_URLS[this.config.env]?(this.wsSocket=new WSSocket({apiUrl:WS_API_URLS[this.config.env],udid:this.udid}),this.wsSocket.setToken(this.token),this.wsStream=new WebSocketStream({socket:this.wsSocket}),void this.wsSocket.on("ws-message",function(t,s){e.emit("sapi:ws-message",t,s)})):void logger.error("websockets environment "+this.config.env+" not available")}},{key:"stopWebsockets",value:function(){this.wsStream&&this.wsStream.stop(),this.wsStream=null}},{key:"close",value:function(){this.terminateInputStream(),this.output&&this.output.stop(),this.stopWebsockets()}},{key:"destroy",value:function(){this.close(),this.removeAllListeners(),this.store.clearWithUDID()}}]),t}(_eventemitter2.default);exports.default=SenderAPI;var Socket=function(e){function t(e){_classCallCheck(this,t);var s=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));if(!e.udid)throw new Error(s.constructor.name+" missed param udid");if(!e.apiUrl)throw new Error(s.constructor.name+" missed param apiUrl");return s.udid=e.udid,s.apiUrl=e.apiUrl,s.chatId=!1,s.withCredentials=!!e.withCredentials,s.fetchOpts={method:"POST"},s}return _inherits(t,e),_createClass(t,[{key:"getApiUrl",value:function(){var e=void 0;if(Array.isArray(this.apiUrl)){var t=Math.floor(Math.random()*this.apiUrl.length);e=this.apiUrl[t]}else e=this.apiUrl;return e}},{key:"setChatId",value:function(e){this.chatId=e||!1}},{key:"setToken",value:function(e){this.token=e}},{key:"fetch",value:function(e){var t,s=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=this.fetchOpts,o="";if(i.fetch&&(r=Object.assign({},r,i.fetch)),i.udidInBody&&(n.udid=this.udid),n&&Object.getOwnPropertyNames(n).length>0&&(o=n.rawData?n.data:JSON.stringify(n)),t=new XMLHttpRequest,i.withCredentials=this.withCredentials,i.namespace){var a=cachedRequests[i.namespace];a&&a.readyState&&a.readyState!==a.DONE&&a.abort(),cachedRequests[i.namespace]=t}return{promise:new Promise(function(a,c){var u=void 0;t.open(r.method,s.buildUrl(e,i),!0);var h=i.timeout||3e4;t.timeout=h,u=setTimeout(function(){t.abort()},h+3e3),i.withCredentials&&(t.setRequestHeader("Content-Type","application/json"),t.withCredentials=!0),t.onerror=function(e){logger.error(e),c()},t.onreadystatechange=function(){t.readyState===t.DONE&&(u&&clearTimeout(u),s.statusHandler(t).then(function(e){return s.parseResponse(e.responseText)}).then(function(e){return s.responseCodeHandler(e,n)}).then(function(e){a(e)}).catch(function(e){c(e)}))},t.send(o)}),xhr:t,abort:function(){t&&t.readyState&&t.readyState<t.DONE&&t.abort()}}}},{key:"parseResponse",value:function(e){return new Promise(function(t){var s={};try{s=JSON.parse(e)}catch(t){logger.error('[api:warning] non-json response "'+e+'"'),s=e}t(s)})}},{key:"buildUrl",value:function(e,t){var s=[];return s.push("ref="+(Date.now().toString()+Math.random().toString().substr(2))),t.skipToken||s.push("token="+this.token),t.skipUDID||s.push("udid="+this.udid),this.chatId&&s.push("ac="+encodeURIComponent(this.chatId)),t.withCredentials&&s.push("cookie=1"),t.skipVersion||(e=API_VERSION+"/"+e),t.getData&&Object.getOwnPropertyNames(t.getData).forEach(function(e){s.push(e+"="+t.getData[e])}),s.length&&(e=e+"?"+s.join("&")),this.getApiUrl()+e}},{key:"statusHandler",value:function(e){var t=this;return new Promise(function(s,i){e.status?200===e.status?s(e):!function(){var s={status:e.status,statusText:e.statusText,responseText:e.responseText};t.emit("error",s),logger.error("Server Error: "+Object.keys(s).map(function(e){return s[e]}).join(" ")),i()}():i()})}},{key:"responseCodeHandler",value:function(e,t){var s=this;return new Promise(function(i,n){switch("object"!==("undefined"==typeof e?"undefined":_typeof(e))&&i(e),e.code>responseCodes.REST_STATUS_ACCESS_INVALID&&(s.emit("error",e),logger.error("[api:error]",JSON.stringify(e))),e.code){case responseCodes.REST_STATUS_OK:i(e);break;case responseCodes.REST_STATUS_NEW_STREAM_REG:s.emit("newStreamReg"),n();break;case responseCodes.REST_STATUS_MISSING_PARAM:break;case responseCodes.REST_STATUS_CHAT_NOT_FOUND:s.emit("chatNotFound",t),n({responseCode:e.code});break;case responseCodes.REST_STATUS_ACCESS_INVALID:s.emit("challenge",e),logger.log("[api:challenge]",JSON.stringify(e)),n(e);break;case responseCodes.REST_STATUS_UDID_INVALID:s.emit("reset");break;case responseCodes.REST_STATUS_VER_NOT_SUPPORT:s.emit("versionMismatch");break;case responseCodes.REST_STATUS_LIMIT_USER:s.emit("limitExceeded"),n({responseCode:e.code});break;case responseCodes.REST_STATUS_LIMIT_USER_DOUBLE_REQUEST:n({responseCode:e.code})}})}}]),t}(_eventemitter2.default),Stream=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t);var s=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));if(!e.socket)throw new Error(s.constructor.name+" missed param socket");return s.socket=e.socket,s}return _inherits(t,e),_createClass(t,[{key:"fetch",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.abort(),this._request=this.socket.fetch(this.url,t,e),this._request.promise}},{key:"stop",value:function(){this.removeAllListeners(),this.stopped=!0,this.abort()}},{key:"abort",value:function(){this._request&&this._request.abort()}}]),t}(_eventemitter2.default),InputStream=function(e){function t(e){_classCallCheck(this,t);var s=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return s.lastBatchId="",s.meta={net:"wifi"},s.url="comet",s.tick=throttle(s.tick.bind(s),500),s.start(e.shouldUseConnectionBackOnStart),s}return _inherits(t,e),_createClass(t,[{key:"start",value:function(e){this.stopped=!1,this.shouldUseConnectionBack=e,this.initChecker(),this.tick()}},{key:"stop",value:function(){this.terminateChecker(),_get(Object.getPrototypeOf(t.prototype),"stop",this).call(this)}},{key:"tick",value:function(){var e=this;if(!(this.stopped||this._request&&this._request.xhr&&this._request.xhr.readyState<this._request.xhr.DONE&&this._request.xhr.readyState>this._request.xhr.UNSENT)){var t={};this.shouldUseConnectionBack?(t.connection="back",this.shouldUseConnectionBack=!1):t.meta=this.meta,t.lbi=this.lastBatchId||"",logger.log("[comet:request]",JSON.stringify(t)),this.fetch(t,{timeout:6e4}).then(function(t){e.emit("serverTime",t.time),t.fs&&t.fs.length&&t.fs.forEach(function(t){t.chatId===SYSTEM_CHAT_ID?t.msgs.forEach(function(t){e.emit("sysMessage",t.class,t),logger.log("[comet:sys:"+t.class+"]",JSON.stringify(t))}):(e.emit("chatMessages",t.chatId,t),logger.log("[comet:"+t.chatId+"]",JSON.stringify(t)))}),e.lastBatchId=t.bi||!1,setTimeout(function(){this.tick()}.bind(e),225)}).catch(function(t){t&&logger.error(t),e.shouldUseConnectionBack=!0,setTimeout(function(){e.tick()},RECONNECT_ON_ERROR_TIMEOUT)})}}},{key:"initChecker",value:function(){this.checker=setInterval(this.tickChecker.bind(this),6e4)}},{key:"tickChecker",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this.stopped||this._request&&this._request.xhr&&![this._request.xhr.DONE,this._request.xhr.UNSENT].includes(this._request.xhr.readyState)?!this.stopped&&e&&this.tick():this.tick()}},{key:"terminateChecker",value:function(){this.checker&&clearInterval(this.checker)}}]),t}(Stream),OutputStream=function(e){function t(e){_classCallCheck(this,t);var s=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return s.queue=[],s._inProgress=!1,s.url="send",s.stopped=!1,s}return _inherits(t,e),_createClass(t,[{key:"push",value:function(e){var t=this;this.queue.push(e),setTimeout(function(){t.sendAll()},0)}},{key:"isAlive",value:function(){return this._inProgress}},{key:"sendAll",value:function(){var e=this;if(!this.isAlive()&&0!==this.queue.length&&!this.stopped){this._inProgress=!0;var t=this.queue.slice(0,MAX_FORMS_PER_REQUEST);this.queue=this.queue.slice(MAX_FORMS_PER_REQUEST),this.fetch({fs:t},{timeout:3e4}).then(function(t){e._inProgress=!1,t.cr&&t.cr.length&&t.cr.forEach(function(t){e.emit("sent:"+t.cid,t)}),e.queue.length&&e.sendAll()}).catch(function(s){s&&logger.error(s),e._inProgress=!1,s&&s.responseCode&&[responseCodes.REST_STATUS_CHAT_NOT_FOUND,responseCodes.REST_STATUS_LIMIT_USER,responseCodes.REST_STATUS_LIMIT_USER_DOUBLE_REQUEST].includes(s.responseCode)||e.queue.unshift.apply(e.queue,t),setTimeout(function(){e.sendAll()},RECONNECT_ON_ERROR_TIMEOUT)})}}}]),t}(Stream),WSSocket=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"connect",value:function(){var e=this;if(!(this.stopped||this.ws&&this.ws.readyState<this.ws.CLOSING))return new Promise(function(t){e.ws=new _websocket.w3cwebsocket(e.getApiUrl()),e.ws.onopen=function(){e.initSession(),t()},e.ws.onmessage=function(t){var s=JSON.parse(t.data),i=s.class;i&&(logger.log("[websocket:"+i+"]",t.data),e.emit("ws-message",i,s)),e.emit("ping")},e.ws.onerror=function(){setTimeout(function(){e.connect()},RECONNECT_ON_ERROR_TIMEOUT)},e.ws.onclose=function(){setTimeout(function(){e.connect()},RECONNECT_ON_ERROR_TIMEOUT)}})}},{key:"initSession",value:function(){var e=this;this.ws.readyState===this.ws.OPEN?this.send({class:"oSession",model:{udid:this.udid,token:this.token}}):setTimeout(function(){return e.initSession()},5)}},{key:"send",value:function(e){this.ws.send(JSON.stringify(e))}},{key:"reconnect",value:function(){this.stop(),this.stopped=!1,this.connect()}},{key:"stop",value:function(){this.stopped=!0,this.ws&&(this.ws.close(),this.ws=null)}}]),t}(Socket),WebSocketStream=function(e){function t(e){_classCallCheck(this,t);var s=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return s.socket.connect(),s.socket.on("ping",function(){s.resetReconnectTimer()}),s}return _inherits(t,e),_createClass(t,[{key:"initReconnectTimer",value:function(){var e=this;this.timer=setTimeout(function(){e.socket.reconnect()},6e4)}},{key:"resetReconnectTimer",value:function(){this.timer&&clearTimeout(this.timer),this.initReconnectTimer()}},{key:"stop",value:function(){this.socket.stop()}}]),t}(Stream);
},{"./createLogger":126,"./store":128,"crypto-js/hmac-sha1":85,"crypto-js/hmac-sha256":86,"eventemitter3":91,"websocket":131}],128:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Store=function(){function e(t,r){_classCallCheck(this,e),this.prefix=this.formatPrefix(r),this.storage=t}return _createClass(e,[{key:"formatPrefix",value:function(e){return"sapi_"+(e?e+"_":"")}},{key:"get",value:function(e){return this.storage.getItem(this.key(e))}},{key:"set",value:function(e,t){try{return this.storage.setItem(this.key(e),t)}catch(r){"NS_ERROR_DOM_QUOTA_REACHED"!=r.name&&22!=r.code&&r.number!==-2147024882||(logger.log("[api:warning] store quota error"),this.set(e,t))}}},{key:"unset",value:function(e){this.storage.removeItem(e)}},{key:"key",value:function(e){return this.prefix+e}},{key:"clearWithoutUDID",value:function(){this.clear("udid")}},{key:"clearWithUDID",value:function(){this.clear()}},{key:"clear",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];for(var t in this.storage)t.startsWith(this.prefix)&&!e.includes(t)&&this.unset(t)}}]),e}();exports.default=Store;
},{}],129:[function(require,module,exports){
(function (global){
var location=global.location||{},twemoji=function(){"use strict";function d(d){return document.createTextNode(d)}function u(d){return d.replace(N,n)}function e(d,u){return"".concat(u.base,u.size,"/",d,u.ext)}function f(d,u){for(var e,c,a=d.childNodes,t=a.length;t--;)e=a[t],c=e.nodeType,3===c?u.push(e):1!==c||S.test(e.nodeName)||f(e,u);return u}function c(d){return p(d.indexOf(C)<0?d.replace(x,""):d)}function a(u,e){for(var a,t,n,r,o,b,i,s,l,p,m,h,x,C=f(u,[]),N=C.length;N--;){for(n=!1,r=document.createDocumentFragment(),o=C[N],b=o.nodeValue,s=0;i=g.exec(b);){if(l=i.index,l!==s&&r.appendChild(d(b.slice(s,l))),m=i[0],h=c(m),s=l+m.length,x=e.callback(h,e)){p=new Image,p.onerror=e.onerror,p.setAttribute("draggable","false"),a=e.attributes(m,h);for(t in a)a.hasOwnProperty(t)&&0!==t.indexOf("on")&&!p.hasAttribute(t)&&p.setAttribute(t,a[t]);p.className=e.className,p.alt=m,p.src=x,n=!0,r.appendChild(p)}p||r.appendChild(d(m)),p=null}n&&(s<b.length&&r.appendChild(d(b.slice(s))),o.parentNode.replaceChild(r,o))}return u}function t(d,e){return s(d,function(d){var f,a,t=d,n=c(d),r=e.callback(n,e);if(r){t="<img ".concat('class="',e.className,'" ','draggable="false" ','alt="',d,'"',' src="',r,'"'),f=e.attributes(d,n);for(a in f)f.hasOwnProperty(a)&&0!==a.indexOf("on")&&t.indexOf(" "+a+"=")===-1&&(t=t.concat(" ",a,'="',u(f[a]),'"'));t=t.concat(">")}return t})}function n(d){return h[d]}function r(){return null}function o(d){return"number"==typeof d?d+"x"+d:d}function b(d){var u="string"==typeof d?parseInt(d,16):d;return u<65536?v(u):(u-=65536,v(55296+(u>>10),56320+(1023&u)))}function i(d,u){return u&&"function"!=typeof u||(u={callback:u}),("string"==typeof d?t:a)(d,{callback:u.callback||e,attributes:"function"==typeof u.attributes?u.attributes:r,base:"string"==typeof u.base?u.base:m.base,ext:u.ext||m.ext,size:u.folder||o(u.size||m.size),className:u.className||m.className,onerror:u.onerror||m.onerror})}function s(d,u){return String(d).replace(g,u)}function l(d){g.lastIndex=0;var u=g.test(d);return g.lastIndex=0,u}function p(d,u){for(var e=[],f=0,c=0,a=0;a<d.length;)f=d.charCodeAt(a++),c?(e.push((65536+(c-55296<<10)+(f-56320)).toString(16)),c=0):55296<=f&&f<=56319?c=f:e.push(f.toString(16));return e.join(u||"-")}var m={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:b,toCodePoint:p},onerror:function(){this.parentNode&&this.parentNode.replaceChild(d(this.alt),this)},parse:i,replace:s,test:l},h={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},g=/\ud83d[\udc68-\udc69](?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92])|(?:\ud83c[\udfcb\udfcc]|\ud83d\udd75|\u26f9)(?:\ufe0f|\ud83c[\udffb-\udfff])\u200d[\u2640\u2642]\ufe0f|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd37-\udd39\udd3d\udd3e])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|(?:[\u0023\u002a\u0030-\u0039])\ufe0f?\u20e3|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd26\udd30\udd33-\udd39\udd3d\udd3e]|[\u270a\u270b])(?:\ud83c[\udffb-\udfff]|)|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud800\udc00|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef6]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27\udd3a\udd3c\udd40-\udd45\udd47-\udd4b\udd50-\udd5e\udd80-\udd91\uddc0]|[\u23e9-\u23ec\u23f0\u23f3\u2640\u2642\u2695\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a]|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u00a9\u00ae\u203c\u2049\u2122\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2694\u2696\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))/g,x=/\uFE0F/g,C=String.fromCharCode(8205),N=/[&<>'"]/g,S=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,v=String.fromCharCode;return m}();location.protocol||(twemoji.base=twemoji.base.replace(/^http:/,"")),module.exports=twemoji;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],130:[function(require,module,exports){
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=c.bind,d=Object.create,g=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(d)return d(n);g.prototype=n;var t=new g;return g.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&t<=A};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;if(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&e!==-1)return n[e]},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-(1/0),o=-(1/0);if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-(1/0)&&i===-(1/0))&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e<i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return o.call(this,n,m)},c=t.variable||"obj";return a.source="function("+c+"){\n"+i+"}",a},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
},{}],131:[function(require,module,exports){
function W3CWebSocket(e,o){var t;return t=o?new NativeWebSocket(e,o):new NativeWebSocket(e)}var _global=function(){return this}(),NativeWebSocket=_global.WebSocket||_global.MozWebSocket,websocket_version=require("./version");module.exports={w3cwebsocket:NativeWebSocket?W3CWebSocket:null,version:websocket_version};
},{"./version":132}],132:[function(require,module,exports){
module.exports=require("../package.json").version;
},{"../package.json":133}],133:[function(require,module,exports){
module.exports={"_args":[[{"raw":"websocket@^1.0.23","scope":null,"escapedName":"websocket","name":"websocket","rawSpec":"^1.0.23","spec":">=1.0.23 <2.0.0","type":"range"},"/home/user/Sender/sender_web_widget/node_modules/sender-api-js"]],"_from":"websocket@>=1.0.23 <2.0.0","_id":"websocket@1.0.24","_inCache":true,"_location":"/websocket","_nodeVersion":"7.3.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/websocket-1.0.24.tgz_1482977757939_0.1858439394272864"},"_npmUser":{"name":"theturtle32","email":"brian@worlize.com"},"_npmVersion":"3.10.10","_phantomChildren":{},"_requested":{"raw":"websocket@^1.0.23","scope":null,"escapedName":"websocket","name":"websocket","rawSpec":"^1.0.23","spec":">=1.0.23 <2.0.0","type":"range"},"_requiredBy":["/sender-api-js"],"_resolved":"https://registry.npmjs.org/websocket/-/websocket-1.0.24.tgz","_shasum":"74903e75f2545b6b2e1de1425bc1c905917a1890","_shrinkwrap":null,"_spec":"websocket@^1.0.23","_where":"/home/user/Sender/sender_web_widget/node_modules/sender-api-js","author":{"name":"Brian McKelvey","email":"brian@worlize.com","url":"https://www.worlize.com/"},"browser":"lib/browser.js","bugs":{"url":"https://github.com/theturtle32/WebSocket-Node/issues"},"config":{"verbose":false},"contributors":[{"name":"Iñaki Baz Castillo","email":"ibc@aliax.net","url":"http://dev.sipdoc.net"}],"dependencies":{"debug":"^2.2.0","nan":"^2.3.3","typedarray-to-buffer":"^3.1.2","yaeti":"^0.0.6"},"description":"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.","devDependencies":{"buffer-equal":"^1.0.0","faucet":"^0.0.1","gulp":"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4","jshint":"^2.0.0","jshint-stylish":"^2.2.1","tape":"^4.0.1"},"directories":{"lib":"./lib"},"dist":{"shasum":"74903e75f2545b6b2e1de1425bc1c905917a1890","tarball":"https://registry.npmjs.org/websocket/-/websocket-1.0.24.tgz"},"engines":{"node":">=0.8.0"},"gitHead":"0e15f9445953927c39ce84a232cb7dd6e3adf12e","homepage":"https://github.com/theturtle32/WebSocket-Node","keywords":["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],"license":"Apache-2.0","main":"index","maintainers":[{"name":"theturtle32","email":"brian@worlize.com"}],"name":"websocket","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git+https://github.com/theturtle32/WebSocket-Node.git"},"scripts":{"gulp":"gulp","install":"(node-gyp rebuild 2> builderror.log) || (exit 0)","test":"faucet test/unit"},"version":"1.0.24"}
},{}],134:[function(require,module,exports){
function uriInAttr(t,r,n){return privFilters.yubl(r((n||privFilters.yufull)(t)))}exports._getPrivFilters=function(){function t(t){var r=t.split(C,2);return!r[0]||2!==r.length&&t.length===r[0].length?null:r[0]}function r(t,r,n,e){function u(t,n,u,o){return n?(n=Number(n[0]<="9"?n:"0"+n),e?T(n):128===n?"€":130===n?"‚":131===n?"ƒ":132===n?"„":133===n?"…":134===n?"†":135===n?"‡":136===n?"ˆ":137===n?"‰":138===n?"Š":139===n?"‹":140===n?"Œ":142===n?"Ž":145===n?"‘":146===n?"’":147===n?"“":148===n?"”":149===n?"•":150===n?"–":151===n?"—":152===n?"˜":153===n?"™":154===n?"š":155===n?"›":156===n?"œ":158===n?"ž":159===n?"Ÿ":n>=55296&&n<=57343||13===n?"�":i.frCoPt(n)):r[u||o]||t}return r=r||x,n=n||f,void 0===t?"undefined":null===t?"null":t.toString().replace(a,"�").replace(n,u)}function n(t){return"\\"+t.charCodeAt(0).toString(16).toLowerCase()+" "}function e(t){return t.replace(g,function(t){return"-x-"+t})}function u(n){n=i.yufull(r(n));var e=t(n);return e&&Q[e.toLowerCase()]?"##"+n:n}var i,o=/</g,p=/"/g,l=/'/g,s=/&/g,a=/\x00/g,c=/(?:^$|[\x00\x09-\x0D "'`=<>])/g,v=/[&<>"'`]/g,y=/(?:\x00|^-*!?>|--!?>|--?!?$|\]>|\]$)/g,f=/&(?:#([xX][0-9A-Fa-f]+|\d+);?|(Tab|NewLine|colon|semi|lpar|rpar|apos|sol|comma|excl|ast|midast|ensp|emsp|thinsp);|(nbsp|amp|AMP|lt|LT|gt|GT|quot|QUOT);?)/g,x={Tab:"\t",NewLine:"\n",colon:":",semi:";",lpar:"(",rpar:")",apos:"'",sol:"/",comma:",",excl:"!",ast:"*",midast:"*",ensp:" ",emsp:" ",thinsp:" ",nbsp:" ",amp:"&",lt:"<",gt:">",quot:'"',QUOT:'"'},m=/^(?:(?!-*expression)#?[-\w]+|[+-]?(?:\d+|\d*\.\d+)(?:r?em|ex|ch|cm|mm|in|px|pt|pc|%|vh|vw|vmin|vmax)?|!important|)$/i,F=/[\x00-\x1F\x7F\[\]{}\\"]/g,d=/[\x00-\x1F\x7F\[\]{}\\']/g,g=/url[\(\u207D\u208D]+/g,I=/['\(\)]/g,A=/\/\/%5[Bb]([A-Fa-f0-9:]+)%5[Dd]/,Q={javascript:1,data:1,vbscript:1,mhtml:1,"x-schema":1},C=/(?::|&#[xX]0*3[aA];?|&#0*58;?|&colon;)/,b=/(?:^[\x00-\x20]+|[\t\n\r\x00]+)/g,h={Tab:"\t",NewLine:"\n"},L=function(t,r,n){return void 0===t?"undefined":null===t?"null":t.toString().replace(r,n)},T=String.fromCodePoint||function(t){return 0===arguments.length?"":t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,t%1024+56320))};return i={frCoPt:function(t){return void 0===t||null===t?"":!isFinite(t=Number(t))||t<=0||t>1114111||t>=1&&t<=8||t>=14&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||11===t||65535===(65535&t)||65534===(65535&t)?"�":T(t)},d:r,yup:function(n){return n=t(n.replace(a,"")),n?r(n,h,null,!0).replace(b,"").toLowerCase():null},y:function(t){return L(t,v,function(t){return"&"===t?"&amp;":"<"===t?"&lt;":">"===t?"&gt;":'"'===t?"&quot;":"'"===t?"&#39;":"&#96;"})},ya:function(t){return L(t,s,"&amp;")},yd:function(t){return L(t,o,"&lt;")},yc:function(t){return L(t,y,function(t){return"\0"===t?"�":"--!"===t||"--"===t||"-"===t||"]"===t?t+" ":t.slice(0,-1)+" >"})},yavd:function(t){return L(t,p,"&quot;")},yavs:function(t){return L(t,l,"&#39;")},yavu:function(t){return L(t,c,function(t){return"\t"===t?"&#9;":"\n"===t?"&#10;":"\v"===t?"&#11;":"\f"===t?"&#12;":"\r"===t?"&#13;":" "===t?"&#32;":"="===t?"&#61;":"<"===t?"&lt;":">"===t?"&gt;":'"'===t?"&quot;":"'"===t?"&#39;":"`"===t?"&#96;":"�"})},yu:encodeURI,yuc:encodeURIComponent,yubl:function(t){return Q[i.yup(t)]?"x-"+t:t},yufull:function(t){return i.yu(t).replace(A,function(t,r){return"//["+r+"]"})},yublf:function(t){return i.yubl(i.yufull(t))},yceu:function(t){return t=r(t),m.test(t)?t:";-x:'"+e(t.replace(d,n))+"';-v:"},yced:function(t){return e(r(t).replace(F,n))},yces:function(t){return e(r(t).replace(d,n))},yceuu:function(t){return u(t).replace(I,function(t){return"'"===t?"\\27 ":"("===t?"%28":"%29"})},yceud:function(t){return u(t)},yceus:function(t){return u(t).replace(l,"\\27 ")}}};var privFilters=exports._privFilters=exports._getPrivFilters();exports.inHTMLData=privFilters.yd,exports.inHTMLComment=privFilters.yc,exports.inSingleQuotedAttr=privFilters.yavs,exports.inDoubleQuotedAttr=privFilters.yavd,exports.inUnQuotedAttr=privFilters.yavu,exports.uriInSingleQuotedAttr=function(t){return uriInAttr(t,privFilters.yavs)},exports.uriInDoubleQuotedAttr=function(t){return uriInAttr(t,privFilters.yavd)},exports.uriInUnQuotedAttr=function(t){return uriInAttr(t,privFilters.yavu)},exports.uriInHTMLData=privFilters.yufull,exports.uriInHTMLComment=function(t){return privFilters.yc(privFilters.yufull(t))},exports.uriPathInSingleQuotedAttr=function(t){return uriInAttr(t,privFilters.yavs,privFilters.yu)},exports.uriPathInDoubleQuotedAttr=function(t){return uriInAttr(t,privFilters.yavd,privFilters.yu)},exports.uriPathInUnQuotedAttr=function(t){return uriInAttr(t,privFilters.yavu,privFilters.yu)},exports.uriPathInHTMLData=privFilters.yu,exports.uriPathInHTMLComment=function(t){return privFilters.yc(privFilters.yu(t))},exports.uriQueryInSingleQuotedAttr=exports.uriPathInSingleQuotedAttr,exports.uriQueryInDoubleQuotedAttr=exports.uriPathInDoubleQuotedAttr,exports.uriQueryInUnQuotedAttr=exports.uriPathInUnQuotedAttr,exports.uriQueryInHTMLData=exports.uriPathInHTMLData,exports.uriQueryInHTMLComment=exports.uriPathInHTMLComment,exports.uriComponentInSingleQuotedAttr=function(t){return privFilters.yavs(privFilters.yuc(t))},exports.uriComponentInDoubleQuotedAttr=function(t){return privFilters.yavd(privFilters.yuc(t))},exports.uriComponentInUnQuotedAttr=function(t){return privFilters.yavu(privFilters.yuc(t))},exports.uriComponentInHTMLData=privFilters.yuc,exports.uriComponentInHTMLComment=function(t){return privFilters.yc(privFilters.yuc(t))},exports.uriFragmentInSingleQuotedAttr=function(t){return privFilters.yubl(privFilters.yavs(privFilters.yuc(t)))},exports.uriFragmentInDoubleQuotedAttr=function(t){return privFilters.yubl(privFilters.yavd(privFilters.yuc(t)))},exports.uriFragmentInUnQuotedAttr=function(t){return privFilters.yubl(privFilters.yavu(privFilters.yuc(t)))},exports.uriFragmentInHTMLData=exports.uriComponentInHTMLData,exports.uriFragmentInHTMLComment=exports.uriComponentInHTMLComment;
},{}],135:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _backbone=require("./lib/backbone.radio"),_backbone2=_interopRequireDefault(_backbone),Channel=_backbone2.default.channel("api-channel");exports.default=Channel,module.exports=exports.default;
},{"./lib/backbone.radio":142}],136:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_member=require("../models/member"),_member2=_interopRequireDefault(_member),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),MembersCollection=_exoskeleton2.default.Collection.extend({model:_member2.default,getById:function(e){return this.findWhere({id:e})},getByUserId:function(e){return this.findWhere({userId:e})},setCompanyId:function(e){_exoskeleton2.default.Safe.create(e+"_members",this,"session")},addMember:function(e){var t=this.getByUserId(e.userId),r=_underscore2.default.pick(e,_underscore2.default.identity);t?t.set(r):this.add(r)},prepareModelData:function(e){e.contactId&&(e.id=e.contactId);var t=_underscore2.default.pick(e,"address","contacts","contactItemList","description","id","isAuth","isOwn","isCompany","name","photo","userId","isFavorite");return t.contactItemList&&(t.contacts=t.contactItemList,delete t.contactItemList),t}});module.exports=new MembersCollection;
},{"../api-channel":135,"../models/member":161,"exoskeleton":92,"underscore":130}],137:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_message=require("../models/message"),_message2=_interopRequireDefault(_message),_chat=require("../models/chat"),_chat2=_interopRequireDefault(_chat),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),_senderApiProcessor=require("../sender-api-processor"),_senderApiProcessor2=_interopRequireDefault(_senderApiProcessor),MessagesCollection=_exoskeleton2.default.Collection.extend({model:_message2.default,comparator:"created",initialize:function(){this.hasMore=!1,this.isFetching=!1,this.initEvents()},initEvents:function(){var e=this;_apiChannel2.default.reply("addMessage",function(t){e.addMessage(t)}),_apiChannel2.default.reply("messageCollection:getHistory",function(){e.getHistoryWithEndId()}),_apiChannel2.default.reply("messageCollection:getHistoryWithStartId",function(){e.getHistoryWithStartId()}),_apiChannel2.default.reply("messageCollection:setHasMore",function(t){e.hasMore=t,_chat2.default.set("hasMore",t),_apiChannel2.default.request("messagesView:toggleHistoryButton",t)}),_apiChannel2.default.reply("addTextMessage",function(t){var s={model:{text:t},class:"text",companyId:"sender",from:_options2.default.userId||"me"};e.addMessage(s)}),_apiChannel2.default.reply("messagesCollection:clean",function(){_apiChannel2.default.request("messagesView:dispose"),_apiChannel2.default.request("senderApiProcessor:resetAddNotification"),e.reset()})},receiveMessage:function(e,t){var s,a;s=this.findWhere({id:e.packetId}),s||(e.linkId&&e.linkId!=e.packetId?(s=this.findWhere({id:e.linkId}),s?(delete e.packetId,delete e.created,a=this.getModelFromRawMessage(e),a.param=Math.random(),s.set(a,t)):(e.packetId=e.linkId,this.addMessage(e,t))):this.addMessage(e,t))},addMessage:function(e,t){var s;if(e){var a=this.getModelFromRawMessage(e);return a.created=a.created?+a.created:+new Date,s=t&&t.prepend?this.unshift(a,t):this.add(a,t),s.get("id")||s.send(e),s.isOwn()?_apiChannel2.default.request("containerView:hideContactCard"):(_apiChannel2.default.request("sendPostMessage",{title:"newMessageReceived"}),_apiChannel2.default.request("main:playAudio")),s}},getModelFromRawMessage:function(e){var t=_underscore2.default.clone(e.model)||{};return"sticker"!=e.class&&"sender"!=e.companyId||t.id&&(t.modelId=t.id,delete t.id),_underscore2.default.extend(t,_underscore2.default.pick(e,"from","class","packetId","modelId","view","created","procId","status","userForm","title","type","companyId","preview","size","chatId","w","h")),t.status&&"new"===t.status&&(t.status=t.from&&"me"===t.from?"sent":"deliv"),t},setCompanyId:function(e){_exoskeleton2.default.Safe.create(e+"_messages",this,"session"),this.companyId=e},getHistory:function(e){var t=this;if(!this.isFetching){this.isFetching=!0,_apiChannel2.default.request("messagesView:showPreloader");var s={chatId:"user+"+_options2.default.companyId,size:10};e&&(s.startId=e),_apiChannel2.default.request("messageView:setScrollValues"),_apiChannel2.default.request("apiCall","history",s).then(function(e){t.isFetching=!1,_apiChannel2.default.request("messagesView:hidePreloader");var s=e.msgs,a=e.more||!1;_apiChannel2.default.request("messageCollection:setHasMore",a),s&&s.length&&t.resetCollection(s.reverse(),{prepend:!0,silent:!0}),_apiChannel2.default.request("messagesView:setScrollHeight")})}},resetCollection:function(e,t){e.forEach(function(e){_senderApiProcessor2.default.handleMessageNew(e,t)}),this.sort({rerender:!0})},markAsRead:function(e){var t=void 0,s=void 0;t=this.filter(function(t){return(!t.has("status")||"read"!==t.get("status"))&&!t.isOwn()&&!t.isSystem()&&+t.get("id")<=+e}),t.length&&(_underscore2.default.invoke(t,"set","status","read"),s=_underscore2.default.last(t),s.has("id")&&_apiChannel2.default.request("apiRequest",".read.sender",{model:{packetId:s.get("id"),from:s.get("from")}}))},getFirstMessageWithId:function(){return this.find(function(e){return!e.isInternal()&&e.has("id")})},getLastMessageIndexWithId:function(){return _underscore2.default.findLastIndex(this.models,function(e){return!e.isInternal()&&e.has("id")})},getHistoryStartId:function(){var e=this.getFirstMessageWithId(),t=e&&Number(e.get("id"));return t},getHistoryEndId:function(){var e=this.getLastMessageIndexWithId(),t=void 0;return e&&(t=this.at(e)&&Number(this.at(e).get("id"))),t},getHistoryWithStartId:function(){if(this.hasMore){var e=this.getHistoryStartId()||!1;this.getHistory(e)}},getHistoryWithEndId:function(){this.getHistoryEndId()||!1;this.reset(),this.getHistory()}});exports.default=new MessagesCollection,module.exports=exports.default;
},{"../api-channel":135,"../lib/options":150,"../models/chat":159,"../models/message":162,"../sender-api-processor":164,"exoskeleton":92,"underscore":130}],138:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var config={fml:{imageAllowedDomains:["https://","//static.liqpay.com"],imageDummy:"https://s.sender.mobi/image/2015/6/30/0191febb-7bd0-4a29-9849-9026aedd5800/fml_img_dummy.jpg",viewLinkTrustedDomains:["https://www.liqpay.com/","https://itunes.apple.com/us/app/sender-c/id980844011","https://play.google.com/store/apps/details?id=mobi.sender"]}};config.twemoji={size:16,base:"./images/16x16/",className:"emoji emoji-standart",callback:function(e,i){return"./images/16x16/"+e+".png"}},config.audioConfig=[{src:"./audio/n.wav",types:["audio/wav","audio/wave"]},{src:"./audio/n.mp3",types:["audio/mpeg"]},{src:"./audio/n.ogg",types:["audio/ogg"]}],config.audioControlPath={soundOnPath:"./images/sound-enable.png",soundOffPath:"./images/sound-disable.png"},config.stickersPath="https://s.sender.mobi/stickers/",config.stickersList=[{id:"dog_happy",type:"small"},{id:"dog_furious",type:"small"},{id:"dog_love",type:"small"},{id:"dog_pleased",type:"small"},{id:"dog_sad",type:"small"},{id:"dog_sick",type:"small"},{id:"dog_smile",type:"small"},{id:"dog_surprise",type:"small"},{id:"dog_tongue",type:"small"},{id:"dog_wink",type:"small"},{id:"dog_active",type:"big"},{id:"dog_amorous",type:"big"},{id:"dog_calm",type:"big"},{id:"dog_disappoint",type:"big"},{id:"dog_dismal",type:"big"},{id:"dog_evil",type:"big"},{id:"dog_festive",type:"big"},{id:"dog_greeting",type:"big"},{id:"dog_joyful",type:"big"},{id:"dog_malicious",type:"big"},{id:"dog_sore",type:"big"},{id:"dog_miss",type:"big"},{id:"dog_brain",type:"big"},{id:"dog_introduce",type:"big"},{id:"dog_sing",type:"big"}],config.emojiChars=["1f604","1f603","1f600","1f60a","263a","1f609","1f60d","1f618","1f61a","1f617","1f619","1f61c","1f61d","1f61b","1f633","1f601","1f614","1f60c","1f612","1f61e","1f623","1f622","1f602","1f62d","1f62a","1f625","1f630","1f605","1f613","1f629","1f62b","1f628","1f631","1f620","1f621","1f624","1f616","1f606","1f60b","1f637","1f60e","1f634","1f635","1f632","1f61f","1f626","1f627","1f608"],config.emojiCharsObject={"(:smile0:)":"1f604","(:smile1:)":"1f603","(:smile2:)":"1f600","(:smile3:)":"1f60a","(:smile4:)":"263a","(:smile5:)":"1f609","(:smile6:)":"1f60d","(:smile7:)":"1f618","(:smile8:)":"1f61a","(:smile9:)":"1f617","(:smile10:)":"1f619","(:smile11:)":"1f61c","(:smile12:)":"1f61d","(:smile13:)":"1f61b","(:smile14:)":"1f633","(:smile15:)":"1f601","(:smile16:)":"1f614","(:smile17:)":"1f60c","(:smile18:)":"1f612","(:smile19:)":"1f61e","(:smile20:)":"1f623","(:smile21:)":"1f622","(:smile22:)":"1f602","(:smile23:)":"1f62d","(:smile24:)":"1f62a","(:smile25:)":"1f625","(:smile26:)":"1f630","(:smile27:)":"1f605","(:smile28:)":"1f613","(:smile29:)":"1f629","(:smile30:)":"1f62b","(:smile31:)":"1f628","(:smile32:)":"1f631","(:smile33:)":"1f620","(:smile34:)":"1f621","(:smile35:)":"1f624","(:smile36:)":"1f616","(:smile37:)":"1f606","(:smile38:)":"1f60b","(:smile39:)":"1f637","(:smile40:)":"1f60e","(:smile41:)":"1f634","(:smile42:)":"1f635","(:smile43:)":"1f632","(:smile44:)":"1f61f","(:smile45:)":"1f626","(:smile46:)":"1f627","(:smile47:)":"1f608"},config.defaultFormView={type:"col",bg:"#ffffff",pd:[16,16,16,16],items:[{w:"154",h:"154",type:"img",src:"{{!meta.!user.photo}}",b_size:"1",b_color:"#f6f6f6",b_radius:"77",halign:"center"},{type:"text",val:"{{!meta.!user.name}}",color:"#3b3b3b",size:"23",talign:"center",mg:[15,0,10,0]},{type:"text",val:"{{!meta.!user.desc}}",color:"#6c6b6f",size:"15",talign:"center",mg:[0,0,10,0]},{type:"text",val:"{{!meta.!user.phone}}",color:"#6c6b6f",size:"20",talign:"center",tstyle:["bold"]}]},exports.default=config,module.exports=exports.default;
},{}],139:[function(require,module,exports){
"use strict";function define(e,E){Object.defineProperty(exports,e,{value:E,enumerable:!0})}define("PACKET_TYPE_MESSAGE","msg"),define("PACKET_TYPE_NOTIFY","ntf"),define("PACKET_TYPE_FML","fml"),define("PACKET_TYPE_SYSTEM","sys");
},{}],140:[function(require,module,exports){
"use strict";function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}Object.defineProperty(exports,"__esModule",{value:!0});var _config=require("../config"),_config2=_interopRequireDefault(_config);exports.default={notificationEnable:!1,soundOn:!0,init:function(){window.Audio&&(this.notificationAudio=new Audio,this.initAudio())},play:function(){this.notificationAudio&&this.notificationEnable&&this.soundOn&&this.notificationAudio.play()},initAudio:function(){var i=this,n=void 0;n=_config2.default.audioConfig.find(function(n){return n.types.find(function(n){return""!==i.notificationAudio.canPlayType(n)})}),n&&(this.notificationAudio.src=n.src,this.notificationAudio.load(),this.notificationEnable=!0)}},module.exports=exports.default;
},{"../config":138}],141:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e(require("underscore"),require("exoskeleton")):"function"==typeof define&&define.amd?define(["underscore","exoskeleton"],e):t.Backbone.Safe=e(t._,t.Backbone)}(void 0,function(t,e){function o(e,o){var i=this;this.plugins=o,e.extend=t.wrap(e.extend,function(t,e){e=e||{};var o=e.initialize||this.prototype.initialize||function(){};return e.initialize=function(){var t=[].slice.call(arguments);i.config=e,i.applyPlugins(this,t),o.apply(this,t)},t.call(this,e)})}if(t&&e&&JSON){o.prototype.applyPlugins=function(e,o){var i=this.config,n=this.plugins,o=o||[];t.each(n,function(t){t.call(e,i,o)})},o.prototype.addPlug=function(t){this.plugins.push(t)};var i=function(t,o){var i,n;t&&t.safe&&(i=t.safe.key?t.safe.key:t.safe,n=t.safe.type?t.safe.type:"local",e.Safe.create(i,this,n,t.safe.options||{reload:!0}))};new o(e.Model,[i]),new o(e.Collection,[i]);return e.Safe=function(o,i,n,s){this._reload=s&&s.reload&&s.reload===!0,this.uid=o,this.type=n,this.context=i,this.isCollection=i.models&&i.add,this.maxCollectionLength=!!s&&(s.maxCollectionLength||!1);var r={events:"add reset change sort remove",emptyValue:"[]",reload:function(t){i.add(this.getData(),t)},fetch:function(t){var o=t&&t.from;o&&"safe"===o?this.safe.reload(t):e.Collection.prototype.fetch.apply(this,arguments)},toJSON:function(t){var e;return e=t.collection?t.collection.toJSON():t.toJSON(),this.maxCollectionLength&&(e=e.slice(-this.maxCollectionLength)),e}},a={events:"change",emptyValue:"{}",reload:function(t){i.set(this.getData(),t)},fetch:function(t){var o=t&&t.from;o&&"safe"===o?this.safe.reload(t):e.Model.prototype.fetch.apply(this,arguments)},toJSON:function(t){return t.toJSON()}};t.extend(this,this.isCollection?r:a),this.ensureUID(),this._reload&&this.reload(),t.extend(i,t.pick(this,["fetch"])),this.debouncedStore=t.throttle(t.bind(this.store,this,i),75),i.on(this.events,this.debouncedStore,this),i.on("destroy",this.destroy,this)},e.Safe.prototype={ensureUID:function(){t.isNull(this.getData())&&this.create()},create:function(){try{this.storage().setItem(this.uid,this.emptyValue)}catch(t){"NS_ERROR_DOM_QUOTA_REACHED"!=t.name&&22!=t.code&&t.number!==-2147024882||this.context.trigger("safeQuotaError")}},store:function(t){try{this.storage().setItem(this.uid,JSON.stringify(this.toJSON(t)))}catch(t){"NS_ERROR_DOM_QUOTA_REACHED"!=t.name&&22!=t.code&&t.number!==-2147024882||this.context.trigger("safeQuotaError")}},storage:function(){return"session"==this.type?sessionStorage:localStorage},getData:function(){this._current=this.storage().getItem(this.uid);try{return this._current?JSON.parse(this._current):this._current}catch(t){return{}}},reset:function(){this.create()},destroy:function(){this.storage().removeItem(this.uid)}},e.Safe.create=function(t,o,i,n){t&&o&&(o.safe=new e.Safe(t,o,i,n))},e.Safe}});
},{"exoskeleton":92,"underscore":130}],142:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function removeHandler(e,t,n,r){var o=e[t];if(!(n&&n!==o.callback&&n!==o.callback._callback||r&&r!==o.context))return delete e[t],!0}function removeHandlers(e,t,n,r){e||(e={});for(var o=t?[t]:_underscore2.default.keys(e),a=!1,i=0,s=o.length;i<s;i++)t=o[i],e[t]&&removeHandler(e,t,n,r)&&(a=!0);return a}function _partial(e){return _logs[e]||(_logs[e]=_underscore2.default.partial(Radio.log,e))}function makeCallback(e){return _underscore2.default.isFunction(e)?e:function(){return e}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),previousRadio=_exoskeleton2.default.Radio,Radio=_exoskeleton2.default.Radio={};Radio.VERSION="<%= version %>",Radio.noConflict=function(){return _exoskeleton2.default.Radio=previousRadio,this},Radio.DEBUG=!1,Radio._debugText=function(e,t,n){return e+(n?" on the "+n+" channel":"")+': "'+t+'"'},Radio.debugLog=function(e,t,n){Radio.DEBUG&&console&&console.warn&&console.warn(Radio._debugText(e,t,n))};var eventSplitter=/\s+/;Radio._eventsApi=function(e,t,n,r){if(!n)return!1;var o={};if("object"===("undefined"==typeof n?"undefined":_typeof(n))){for(var a in n){var i=e[t].apply(e,[a,n[a]].concat(r));eventSplitter.test(a)?_underscore2.default.extend(o,i):o[a]=i}return o}if(eventSplitter.test(n)){for(var s=n.split(eventSplitter),l=0,u=s.length;l<u;l++)o[s[l]]=e[t].apply(e,[s[l]].concat(r));return o}return!1},Radio._callHandler=function(e,t,n){var r=n[0],o=n[1],a=n[2];switch(n.length){case 0:return e.call(t);case 1:return e.call(t,r);case 2:return e.call(t,r,o);case 3:return e.call(t,r,o,a);default:return e.apply(t,n)}};var _logs={};_underscore2.default.extend(Radio,{log:function(e,t){var n=_underscore2.default.rest(arguments,2);console.log("["+e+'] "'+t+'"',n)},tuneIn:function(e){var t=Radio.channel(e);return t._tunedIn=!0,t.on("all",_partial(e)),this},tuneOut:function(e){var t=Radio.channel(e);return t._tunedIn=!1,t.off("all",_partial(e)),delete _logs[e],this}}),Radio.Requests={request:function(e){var t=_underscore2.default.rest(arguments),n=Radio._eventsApi(this,"request",e,t);if(n)return n;var r=this.channelName,o=this._requests;if(r&&this._tunedIn&&Radio.log.apply(this,[r,e].concat(t)),o&&(o[e]||o.default)){var a=o[e]||o.default;return t=o[e]?t:arguments,Radio._callHandler(a.callback,a.context,t)}Radio.debugLog("An unhandled request was fired",e,r)},reply:function(e,t,n){return Radio._eventsApi(this,"reply",e,[t,n])?this:(this._requests||(this._requests={}),this._requests[e]&&Radio.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:makeCallback(t),context:n||this},this)},replyOnce:function(e,t,n){if(Radio._eventsApi(this,"replyOnce",e,[t,n]))return this;var r=this,o=_underscore2.default.once(function(){return r.stopReplying(e),makeCallback(t).apply(this,arguments)});return this.reply(e,o,n)},stopReplying:function(e,t,n){return Radio._eventsApi(this,"stopReplying",e)?this:(e||t||n?removeHandlers(this._requests,e,t,n)||Radio.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests,this)}},Radio._channels={},Radio.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return Radio._channels[e]?Radio._channels[e]:Radio._channels[e]=new Radio.Channel(e)},Radio.Channel=function(e){this.channelName=e},_underscore2.default.extend(Radio.Channel.prototype,_exoskeleton2.default.Events,Radio.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var channel,args,systems=[_exoskeleton2.default.Events,Radio.Commands,Radio.Requests];_underscore2.default.each(systems,function(e){_underscore2.default.each(e,function(e,t){Radio[t]=function(e){return args=_underscore2.default.rest(arguments),channel=this.channel(e),channel[t].apply(channel,args)}})}),Radio.reset=function(e){var t=e?[this._channels[e]]:this._channels;_underscore2.default.invoke(t,"reset")},exports.default=Radio,module.exports=exports.default;
},{"exoskeleton":92,"underscore":130}],143:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel);exports.default={closedByUser:!0,init:function(){var e=this;_apiChannel2.default.reply("closeState:closedByUser",function(){e.closedByUser=!0}),_apiChannel2.default.reply("closeState:closedNotByUser",function(){e.closedByUser=!1})}},module.exports=exports.default;
},{"../api-channel":135}],144:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_viewHelper=require("./view-helper"),_viewHelper2=_interopRequireDefault(_viewHelper);exports.default=function(){var e=function(){};return e.prototype._defaults={val:"",size:"12",weight:"1",src:"",state:"enable",gravity:["left","top"]},e.prototype._inheritableAttributes=["size","color","tstyle","it","state"],e.prototype._elements={row:{html:'<div class="grid-row flex-container" />'},col:{html:'<div class="grid-col"></div>'},text:{html:"<span />",val:"html"},edit:{html:'<input type="text" />',val:"value"},img:{html:"<img />"},check:{html:'<input class="sender_form_checkbox" type="checkbox" />',val:"checked"},radio:{html:'<input class="sender_form_radio" type="radio" />',val:"checked"},select:{html:"<select />",val:"value"},button:{html:"<button />",val:"value"},map:{html:'<button class="sender_form_button_map" />',val:"value"},tarea:{html:'<textarea rows="3"></textarea>',val:"value"},file:{html:'<input class="input-file-hidden" type="file" />'},video:{html:'<video style="width: 300px; height: 250px;" controls="controls"><source/></video>'}},e.prototype.inheritParentAttributes=function(e,t){return _underscore2.default.each(this._inheritableAttributes,function(s){t.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=t[s])}),e},e.prototype.parseElement=function(e,t){var s=!0;if(!this._elements[e.type])return void console.log("[fml:info] unknown element [",e.type,"] skipped");if("video"!==e.type)var a=(0,_jquery2.default)(this._elements[e.type].html);else if(e.src)if(e.src.indexOf("youtube")!==-1){var a=(0,_jquery2.default)(this.parseText(e.src));s=!1}else var a=(0,_jquery2.default)(this._elements[e.type].html);t.json&&(e=this.inheritParentAttributes(e,t.json)),e=_underscore2.default.extend({},this._defaults,e),s&&(a=this.setAttributes(e,a));var r=0,l=0;t.json&&"row"==t.json.type&&a.addClass("flex-item"),e.w?(a.css("width",e.w+"px"),a.addClass("fixed-width")):"img"==e.type&&a.css("width","auto").css("max-width","100%"),e.h&&a.css("height",e.h+"px"),t.json||(a.css("width","100%"),a.addClass("fixed-width")),("row"==e.type||t.json&&"col"==t.json.type)&&"gone"!=e.state&&"hidden"!=e.state&&(a.css("display","block").addClass("fixed-width"),"img"===e.type||e.w||a.css("width","100%"));var i=a;e.weight&&!e.w&&"row"!==e.type&&t.json&&("img"!==e.type&&a.css("width","100%"),a.removeClass("flex-item"),a.wrap("<div />"),a=a.parent(),a.css("flex-grow",e.weight),a.addClass("flex-item"),a.children().hasClass("fml-display-block")&&a.addClass("fml-display-block"),a.children().css("align-self")&&a.css("align-self",a.children().css("align-self")),a.children().hasClass("fml-display-none")&&a.addClass("fml-display-none")),e.mg&&(_underscore2.default.isArray(e.mg)?a.css("margin",e.mg.join("px ")+"px"):console.log("[fml:err] incorrect mg",e.mg)),e.valign&&("bottom"===e.valign?a.css("align-self","flex-end"):"center"===e.valign&&a.css("align-self","center")),e.halign&&("center"==e.halign&&(a.css("margin-left","auto"),a.css("margin-right","auto")),"right"==e.halign&&a.css("float","right")),t.$el.append(a),e.items&&e.items.length&&_underscore2.default.each(e.items,function(t,s){this.parseElement(t,{$el:i,json:e,width:r,height:l})}.bind(this))},e.prototype.setAttributes=function(e,t){if(e.name&&t.attr("name",e.name),e.src&&t.attr("src",e.src),e.hint&&t.attr("placeholder",e.hint),e.state&&("disable"==e.state&&t.attr("disabled",!0),"invisible"==e.state&&t.css("visibility","hidden"),"gone"==e.state&&t.addClass("fml-display-none")),e.maxlen&&t.attr("maxlength",+e.maxlen),e.it&&("pass_text"!=e.it&&"pass_num"!=e.it||"edit"!=e.type||t.attr("type","password")),"button"==e.type&&t.text(e.title||e.val),e.action&&t.addClass("sender_form_has_action").data("action",JSON.stringify(e.action)).data("type",e.type),e.actions&&t.addClass("sender_form_has_action").data("actions",JSON.stringify(e.actions)).data("type",e.type),"check"==e.type){var s=t.clone(),a=Math.random().toString().substr(2,5);s.attr("id",a);var r=(0,_jquery2.default)('<span class="sender_form_item_checkbox"><label for="'+a+'" class="sender_form_label_checkbox"><span>'+(e.title||e.val)+"</span></label></span>");r.prepend(s),t=r}if("map"==e.type&&(t.text(e.title),t.data("name",e.name).data("vars",e.vars),t.removeAttr("name")),e.vars&&(e.vars_type||(e.vars_type="STR"),"select"==e.type&&_underscore2.default.each(e.vars,function(e,s){t.append('<option value="'+e.v+'">'+e.t+"</option>")}),"radio"==e.type)){var l=(0,_jquery2.default)('<div class="radio-wrap" />');_underscore2.default.each(e.vars,function(s,a){var r=t.clone();r.val(s.v);var a=Math.random().toString().substr(2,5);r.attr("id",a);var i=(0,_jquery2.default)('<span class="sender_form_item_radio"><label for="'+a+'" class="sender_form_label_radio"><span>'+s.t+"</span></label></span>");i.prepend(r),l.append(i),s.action&&i.addClass("sender_form_has_action").data("action",JSON.stringify(s.action)).data("type",e.type),s.actions&&i.addClass("sender_form_has_action").data("actions",JSON.stringify(s.actions)).data("type",e.type)}),t=l}e.val&&this._elements[e.type].val&&("text"==this._elements[e.type].val&&t.text(e.val),"value"==this._elements[e.type].val&&t.val(e.val),"html"==this._elements[e.type].val&&(e.val=e.val.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2"),t.html(e.val)),"checked"==this._elements[e.type].val&&("check"!=e.type||"true"!==e.val&&e.val!==!0||t.find("input").attr("checked",!0),"radio"==e.type&&t.find('[value="'+CSS.escape(e.val)+'"]').attr("checked",!0))),e.pd&&(_underscore2.default.isArray(e.pd)?t.css("padding",e.pd.join("px ")+"px"):console.log("[fml:err] incorrect pd",e.pd)),e.bg&&(e.bg.indexOf("http")!==-1?t.css("background","url("+e.bg+") no-repeat 50% 50%"):t.css("background",e.bg),e.bgfill&&t.css("background-size","cover")),e.color&&t.css("color",e.color),e.size&&t.css("font-size",e.size+"px"),e.abs&&t.css({position:"absolute",left:e.abs[0],top:e.abs[1]});var i={left:"flex-start",center:"center",right:"flex-end"};return e.talign&&t.css("text-align",e.talign).css("justify-content",i[e.talign]),e.tstyle&&(_underscore2.default.indexOf(e.tstyle,"bold")!=-1&&t.addClass("font-bold"),_underscore2.default.indexOf(e.tstyle,"italic")!=-1&&t.css("font-style","italic"),_underscore2.default.indexOf(e.tstyle,"underline")!=-1&&t.css("text-decoration","underline")),e.b_size&&e.b_color&&(t.css("border-width",e.b_size+"px"),t.css("border-color",e.b_color),t.css("border-style","solid")),e.b_radius&&t.css("border-radius",e.b_radius+"px"),t},e.prototype.parseText=function(e){var t=[{pattern:/(?:(?:https:\/\/)?(?:www\.)?youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&|&amp;]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,template:'<iframe width="480" height="320" src="https://www.youtube.com/embed/<%= id%>" frameborder="0" allowfullscreen></iframe>'}];e=_jquery2.default.trim(e);var s="";return t.forEach(function(t){var a=e.match(t.pattern);a&&(s+=_underscore2.default.template(t.template)({id:a[1]}))}),s},new e}(),module.exports=exports.default;
},{"./view-helper":156,"jquery":112,"underscore":130}],145:[function(require,module,exports){
"use strict";function getImageRetinaSrc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=e,i=r.split("/");if(e=i.pop(),e.indexOf("@")>-1)return r;if(e.indexOf(".")===-1)return r;var n=e.split(".");return i.push(n[0]+"@"+t+"x."+n[1]),i.join("/")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getImageRetinaSrc,module.exports=exports.default;
},{}],146:[function(require,module,exports){
"use strict";function isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isMobile,module.exports=exports.default;
},{}],147:[function(require,module,exports){
"use strict";function isRetina(){if(window.matchMedia){var e=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return e&&e.matches||window.devicePixelRatio>1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isRetina,module.exports=exports.default;
},{}],148:[function(require,module,exports){
"use strict";var $=require("jquery");!function(t){$.fn.optShow=function(){return this.removeClass(t)},$.fn.optHide=function(){return this.addClass(t)},$.fn.optToggle=function(n){return this.toggleClass(t,"undefined"==typeof n?n:!n)},$.fn.optIsVisible=function(){return!this.hasClass(t)}}("widget-hidden");
},{"jquery":112}],149:[function(require,module,exports){
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,n){function o(e,t){return("undefined"==typeof e?"undefined":_typeof(e))===t}function r(){var e,t,n,r,s,i,l;for(var a in h)if(h.hasOwnProperty(a)){if(e=[],t=h[a],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=o(t.fn,"function")?t.fn():t.fn,s=0;s<e.length;s++)i=e[s],l=i.split("."),1===l.length?S[l[0]]=r:(!S[l[0]]||S[l[0]]instanceof Boolean||(S[l[0]]=new Boolean(S[l[0]])),S[l[0]][l[1]]=r),C.push((r?"":"no-")+l.join("-"))}}function s(e,t){return!!~(""+e).indexOf(t)}function i(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):_?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function l(){var e=t.body;return e||(e=i(_?"svg":"body"),e.fake=!0),e}function a(e,n,o,r){var s,a,f,u,d="modernizr",c=i("div"),p=l();if(parseInt(o,10))for(;o--;)f=i("div"),f.id=r?r[o]:d+(o+1),c.appendChild(f);return s=i("style"),s.type="text/css",s.id="s"+d,(p.fake?p:c).appendChild(s),p.appendChild(c),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(t.createTextNode(e)),c.id=d,p.fake&&(p.style.background="",p.style.overflow="hidden",u=b.style.overflow,b.style.overflow="hidden",b.appendChild(p)),a=n(c,e),p.fake?(p.parentNode.removeChild(p),b.style.overflow=u,b.offsetHeight):c.parentNode.removeChild(c),!!a}function f(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function u(t,o){var r=t.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(f(t[r]),o))return!0;return!1}if("CSSSupportsRule"in e){for(var s=[];r--;)s.push("("+f(t[r])+":"+o+")");return s=s.join(" or "),a("@supports ("+s+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function d(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function c(e,t,r,l){function a(){c&&(delete E.style,delete E.modElem)}if(l=!o(l,"undefined")&&l,!o(r,"undefined")){var f=u(e,r);if(!o(f,"undefined"))return f}for(var c,p,y,m,v,h=["modernizr","tspan"];!E.style;)c=!0,E.modElem=i(h.shift()),E.style=E.modElem.style;for(y=e.length,p=0;p<y;p++)if(m=e[p],v=E.style[m],s(m,"-")&&(m=d(m)),E.style[m]!==n){if(l||o(r,"undefined"))return a(),"pfx"!=t||m;try{E.style[m]=r}catch(e){}if(E.style[m]!=v)return a(),"pfx"!=t||m}return a(),!1}function p(e,t){return function(){return e.apply(t,arguments)}}function y(e,t,n){var r;for(var s in e)if(e[s]in t)return n===!1?e[s]:(r=t[e[s]],o(r,"function")?p(r,n||t):r);return!1}function m(e,t,n,r,s){var i=e.charAt(0).toUpperCase()+e.slice(1),l=(e+" "+x.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?c(l,t,r,s):(l=(e+" "+z.join(i+" ")+i).split(" "),y(l,t,n))}function v(e,t,o){return m(e,n,n,t,o)}var h=[],g={_version:"3.2.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){h.push({name:e,fn:t,options:n})},addAsyncTest:function(e){h.push({name:null,fn:e})}},S=function(){};S.prototype=g,S=new S;var C=[],w="Moz O ms Webkit",x=g._config.usePrefixes?w.split(" "):[];g._cssomPrefixes=x;var b=t.documentElement,_="svg"===b.nodeName.toLowerCase(),T={elem:i("modernizr")};S._q.push(function(){delete T.elem});var E={style:T.elem.style};S._q.unshift(function(){delete E.style});var z=g._config.usePrefixes?w.toLowerCase().split(" "):[];g._domPrefixes=z,g.testAllProps=m,g.testAllProps=v,S.addTest("flexbox",v("flexBasis","1px",!0)),S.addTest("canvas",function(){var e=i("canvas");return!(!e.getContext||!e.getContext("2d"))}),S.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),S.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}),r(),delete g.addTest,delete g.addAsyncTest;for(var P=0;P<S._q.length;P++)S._q[P]();e.Modernizr=S}(window,document);
},{}],150:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={setOptions:function(e){Object.assign(this,e)},freezeObject:function(){Object.freeze(this)}},module.exports=exports.default;
},{}],151:[function(require,module,exports){
"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,c=i.length;a<c;a++){var b=i[a],l=Object.getOwnPropertyDescriptor(o,b);void 0!==l&&l.enumerable&&(t[b]=o[b])}}return t}});
},{}],152:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function convertDataURIToBinary(t){for(var e=";base64,",i=t.indexOf(e)+e.length,n=t.substring(i),a=window.atob(n),h=a.length,r=new Uint8Array(new ArrayBuffer(h)),u=0;u<h;u++)r[u]=a.charCodeAt(u);return r}var _apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel);module.exports={convert:function(t,e,i,n,a){var h=e.width,r=e.height,u="width",o="height";h<r&&(u="height",o="width");var d={};a?(d[o]=Math.min(e[o],i),d[u]=e[u]/(e[o]/d[o])):(d[u]=Math.min(e[u],i),d[o]=e[o]/(e[u]/d[u]));var l={width:0,height:0},w={width:e.width,height:e.height};n&&(d[u]=d[o],w[u]=e[o],l[u]=(e[u]-w[u])/2);var f=document.createElement("canvas"),g=f.getContext("2d");return f.width=d.width,f.height=d.height,g.drawImage(e,l.width,l.height,w.width,w.height,0,0,f.width,f.height),f.toDataURL(t)},upload:function(t,e,i,n){return new Promise(function(n){_apiChannel2.default.request("apiCall","upload",{rawData:!0,data:convertDataURIToBinary(t)},{filename:e,filetype:i}).then(function(t){n(t.url)})}.bind(this))}};
},{"../api-channel":135}],153:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery);module.exports=function(t,e,i,n){function s(e,i){this.element=e,this.$element=t(e),this.options=i,this.init()}var l="textareaAutoSize",r="plugin_"+l,o=function(t){return t.replace(/\s/g,"").length>0};s.prototype={init:function(){var i=(this.$element.height(),parseInt(this.$element.css("paddingBottom"))+parseInt(this.$element.css("paddingTop"))||0),n=this;o(this.element.value)&&this.$element.attr("style","height: "+(this.element.scrollHeight-i>54?54:this.element.scrollHeight-i>20?this.element.scrollHeight-i:20)+"px !important;"),this.$element.on("input keyup",function(s){var l=t(e),r=l.scrollTop();t(this).attr("style","height: 18px !important;").attr("style","height: "+(this.scrollHeight-i>54?54:this.scrollHeight-i>20?this.scrollHeight-i:20)+"px !important;"),n.options.callback&&n.options.callback.call(this),l.scrollTop(r)})}},t.fn[l]=function(e){return this.each(function(){t(this).data(r)||t(this).data(r,new s(this,e))}),this}}(_jquery2.default,window,document);
},{"jquery":112}],154:[function(require,module,exports){
"use strict";var UserAgentInfo=function(){var T=window.navigator.userAgent,S=Object.hasOwnProperty,e=function(){function e(T){for(var e in T)S.call(T,e)&&(T[e]=new RegExp(T[e],"i"))}var G={phone:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925",Samsung:"Samsung|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablet:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)|^.*Android.*Nexus(?:(?!Mobile).)*$",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-I9205|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237P|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD",LenovoTablet:"Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.*\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",Hudl:"Hudl HT7S3",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b"}};!function(){e(G.phone),e(G.tablet),e(G.desktop)}();var A=function(T,S){for(var e in T)for(var G in T[e])if(T[e][G].test(S))return e;return"desktop"};return A(G,T)}(),G=function(){var T={};T.os={};var S=[{name:"Windows 2000",group:"Windows",identifier:"Windows NT 5.0",version:"5.0"},{name:"Windows XP",group:"Windows",identifier:"Windows NT 5.1",version:"5.1"},{name:"Windows Vista",group:"Windows",identifier:"Windows NT 6.0",version:"6.0"},{name:"Windows 7",group:"Windows",identifier:"Windows NT 6.1",version:"7.0"},{name:"Windows 8",group:"Windows",identifier:"Windows NT 6.2",version:"8.0"},{name:"Windows 8.1",group:"Windows",identifier:"Windows NT 6.3",version:"8.1"},{name:"Windows 10",group:"Windows",identifier:"Windows NT 10.0",version:"10.0"},{name:"Windows Phone",group:"Windows Phone",identifier:"Windows Phone ([0-9.]*)"},{name:"Windows Phone",group:"Windows Phone",identifier:"Windows Phone OS ([0-9.]*)"},{name:"Windows",group:"Windows",identifier:"Windows"},{name:"Chrome OS",group:"Chrome OS",identifier:"CrOS"},{name:"Android",group:"Android",identifier:"Android",versionIdentifier:"Android ([a-zA-Z0-9.-]*)"},{name:"iPad",group:"iOS",identifier:"iPad",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"[_|.]"},{name:"iPod",group:"iOS",identifier:"iPod",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"[_|.]"},{name:"iPhone",group:"iOS",identifier:"iPhone OS",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"[_|.]"},{name:"Mac OS X Yosemite",group:"Mac OS",identifier:"Mac OS X (10([_|.])10([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Mavericks",group:"Mac OS",identifier:"Mac OS X (10([_|.])9([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Mountain Lion",group:"Mac OS",identifier:"Mac OS X (10([_|.])8([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Lion",group:"Mac OS",identifier:"Mac OS X (10([_|.])7([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Snow Leopard",group:"Mac OS",identifier:"Mac OS X (10([_|.])6([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Leopard",group:"Mac OS",identifier:"Mac OS X (10([_|.])5([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Tiger",group:"Mac OS",identifier:"Mac OS X (10([_|.])4([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Panther",group:"Mac OS",identifier:"Mac OS X (10([_|.])3([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Jaguar",group:"Mac OS",identifier:"Mac OS X (10([_|.])2([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Puma",group:"Mac OS",identifier:"Mac OS X (10([_|.])1([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS X Cheetah",group:"Mac OS",identifier:"Mac OS X (10([_|.])0([0-9_.]*))",versionSeparator:"[_|.]"},{name:"Mac OS",group:"Mac OS",identifier:"Mac OS"},{name:"Ubuntu",group:"Linux",identifier:"Ubuntu",versionIdentifier:"Ubuntu/([0-9.]*)"},{name:"Debian",group:"Linux",identifier:"Debian"},{name:"Gentoo",group:"Linux",identifier:"Gentoo"},{name:"Linux",group:"Linux",identifier:"Linux",versionIdentifier:"Linux ([0-9_ix.]*)"},{name:"BlackBerry",group:"BlackBerry",identifier:"BlackBerry"}],e=function(){var e=window.navigator.userAgent.toLowerCase();for(var A in S){var P=new RegExp(S[A].identifier.toLowerCase()),i=P.exec(e);if(null!=i){if(T.os.name=S[A].name,T.os.group=S[A].group,S[A].version)G(S[A].version,S[A].versionSeparator?S[A].versionSeparator:".");else if(i[1])G(i[1],S[A].versionSeparator?S[A].versionSeparator:".");else if(S[A].versionIdentifier){var a=new RegExp(S[A].versionIdentifier.toLowerCase()),o=a.exec(e);null!=o&&o[1]&&G(o[1],S[A].versionSeparator?S[A].versionSeparator:".")}break}}return!0},G=function(S,e){if("["==e.substr(0,1))var G=S.split(new RegExp(e,"g"),2);else var G=S.split(e,2);return"."!=e&&(S=S.replace(new RegExp(e,"g"),".")),T.os.fullVersion=S,G[0]&&(T.os.majorVersion=parseInt(G[0])),G[1]&&(T.os.minorVersion=parseInt(G[1])),!0};return e(),T}(),A=function(){function S(T){T=T.toLowerCase();var S=/(edge)\/([\w.]+)/.exec(T)||/(opr)[\/]([\w.]+)/.exec(T)||/(chrome)[ \/]([\w.]+)/.exec(T)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(T)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(T)||/(webkit)[ \/]([\w.]+)/.exec(T)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(T)||/(msie) ([\w.]+)/.exec(T)||T.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(T)||T.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(T)||[],e=/(ipad)/.exec(T)||/(ipod)/.exec(T)||/(iphone)/.exec(T)||/(kindle)/.exec(T)||/(silk)/.exec(T)||/(android)/.exec(T)||/(windows phone)/.exec(T)||/(win)/.exec(T)||/(mac)/.exec(T)||/(linux)/.exec(T)||/(cros)/.exec(T)||/(playbook)/.exec(T)||/(bb)/.exec(T)||/(blackberry)/.exec(T)||[],G={},A={browser:S[5]||S[3]||S[1]||"",version:S[2]||S[4]||"0",versionNumber:S[4]||S[2]||"0",platform:e[0]||""};if(A.browser&&(G[A.browser]=!0,G.version=A.version,G.versionNumber=parseInt(A.versionNumber,10)),A.platform&&(G[A.platform]=!0),(G.android||G.bb||G.blackberry||G.ipad||G.iphone||G.ipod||G.kindle||G.playbook||G.silk||G["windows phone"])&&(G.mobile=!0),(G.cros||G.mac||G.linux||G.win)&&(G.desktop=!0),(G.chrome||G.opr||G.safari)&&(G.webkit=!0),G.rv||G.edge){var P="msie";A.browser=P,G[P]=!0}if(G.safari&&G.blackberry){var i="blackberry";A.browser=i,G[i]=!0}if(G.safari&&G.playbook){var a="playbook";A.browser=a,G[a]=!0}if(G.bb){var o="blackberry";A.browser=o,G[o]=!0}if(G.opr){var r="opera";A.browser=r,G[r]=!0}if(G.safari&&G.android){var M="android";A.browser=M,G[M]=!0}if(G.safari&&G.kindle){var b="kindle";A.browser=b,G[b]=!0}if(G.safari&&G.silk){var n="silk";A.browser=n,G[n]=!0}return G.name=A.browser,G.platform=A.platform,G}return S(T)}();return{deviceType:e,browser:A,pgwBrowser:G}}();module.exports=UserAgentInfo;
},{}],155:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_isMobile=require("./isMobile"),_isMobile2=_interopRequireDefault(_isMobile),_options=require("./options"),_options2=_interopRequireDefault(_options),_app=require("../models/app"),_app2=_interopRequireDefault(_app),features=["flexbox","canvas","svg","localstorage"];exports.default={checkIsVisible:function(){return _app2.default.get("isVisible")},browserIsUnsupported:function(){return!features.reduce(function(e,t){return e&&Modernizr[t]},!0)},checkIsHEX:function(e){return/^#[0-9A-F]{6}$/i.test(e)},addGlobalColorStyle:function(e){var t=document.createElement("style"),o=void 0;t.type="text/css",o=_options2.default.embedMode?"body,  .widget {\n        background: transparent!important;\n      }":".widget-modal-close-button-save,\n        .widget-modal-close-submit,\n        .widget-header,\n        .widget-modal-link-submit {\n          background-color: "+e+" !important;\n        }\n        body, .widget {\n          background: #fff!important;\n        }\n        .nano > .nano-pane { background: "+this.toRGBA(e,20)+"  !important; }\n        .nano > .nano-pane > .nano-slider { background: "+e+"  !important; opacity: 1; }\n        .widget-footer-console-input-content { border-bottom-color: "+e+" !important; }\n        .widget-chat {\n          background: -moz-linear-gradient(-45deg, "+this.toRGBA(e,5)+" 0%, "+this.toRGBA(e,15)+" 100%);\n          background: -webkit-linear-gradient(-45deg, "+this.toRGBA(e,5)+" 0%, "+this.toRGBA(e,15)+" 100%);\n          background: linear-gradient(135deg, "+this.toRGBA(e,5)+" 0%, "+this.toRGBA(e,15)+" 100%); \n        }\n        .widget-footer-console-btn-send path {\n          fill: "+e+" !important;\n        }\n      .path { stroke: "+e+"; }",(0,_isMobile2.default)()&&(o+=".widget-header-controls-btn4,\n        .widget-header-controls-btn3 {\n          padding-left: 10px;\n          padding-right: 10px;\n        }\n        .widget-header-wrapper:nth-child(2) {\n          max-width: calc(100% - 173px);\n        }"),t.appendChild(document.createTextNode(o)),document.head.appendChild(t)},appendStyleFile:function(e,t,o){var n=e.getElementsByTagName("head")[0],r=e.createElement(t);r.href=o,r.rel="stylesheet",r.type="text/css",n.appendChild(r)},templateToColor:function(e){var t={grey:"#c9c9c9",dark:"#363636",red:"#9C1111",orange:"#da8104",green:"#649B04",blue:"#1c7bd3",purple:"#666699",pink:"#df1f87"},o="#666699";return e?t[e]?t[e]:void 0:o},toRGBA:function(e,t){var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),n=parseInt(o[1],16),r=parseInt(o[2],16);parseInt(o[3],16);return"rgba("+n+","+r+","+r+","+t/100+")"},loadGoogleScript:function(e,t){var o=this;return new Promise(function(n,r){if(o.checkGoogleObjectExist(window,t))n();else{var a="googleCallback"+Math.random().toString().substr(2);window[a]=function(){n(),delete window[a]}.bind(o),_jquery2.default.getScript(e+a)}})},checkGoogleObjectExist:function(e,t){for(var o=0,n=t.split("."),r=n.length;"undefined"!=typeof e&&o<r;)r>1?e=e[n[o++]]:(e=e[n[o]],e&&o++);return o===r},sendGeoLocation:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){e.loadGoogleScript("https://maps.google.com/maps/api/js?sensor=false&callback=","google.maps").then(function(){var e=new google.maps.Geocoder;e.geocode({latLng:new google.maps.LatLng(t.coords.latitude,t.coords.longitude)},function(e,o){if(o==google.maps.GeocoderStatus.OK)if(e[0].address_components){var n=e[0].address_components,r=n[1].short_name,a=n[0].short_name,i=n[3].short_name,d={lat:t.coords.latitude,lon:t.coords.longitude,textMsg:r+" , "+a+", "+i};_apiChannel2.default.request("addMessage",{model:d,class:"location",companyId:"sender",from:_options2.default.userId||"me"})}else console.log("coords not correct")})})},function(){console.log("coords enable")})}},module.exports=exports.default;
},{"../api-channel":135,"../models/app":158,"./isMobile":146,"./options":150,"jquery":112}],156:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function SafeString(e){this.string=e}function escapeChar(e){return escape[e]}function escapeExpression(e){return e instanceof SafeString?e.toString():null==e?"":e?(e=""+e,possible.test(e)?e.replace(badChars,escapeChar):e):e+""}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery);SafeString.prototype.toString=function(){return""+this.string};var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},badChars=/[&<>"'`]/g,possible=/[&<>"'`]/;exports.default={SafeString:SafeString,escapeExpression:escapeExpression},module.exports=exports.default;
},{"jquery":112}],157:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _senderApiJs=require("sender-api-js"),_senderApiJs2=_interopRequireDefault(_senderApiJs);require("./lib/polyfills"),require("core-js/fn/promise"),require("core-js/fn/array/includes"),require("core-js/fn/array/find"),require("core-js/fn/string/includes"),require("core-js/fn/string/starts-with"),require("core-js/fn/array/from"),require("css.escape");var styles=require("../assets/all.less"),_=require("underscore"),UserAgentInfo=require("./lib/user-agent-info"),ContainerView=require("./views/container-view"),Channel=require("./api-channel"),MessagesCollection=require("./collections/messages-collection"),MembersCollection=require("./collections/members-collection"),AppModel=require("./models/app"),ChatModel=require("./models/chat"),SenderAPIProcessor=require("./sender-api-processor"),SendbarModel=require("./models/sendbar"),globalOptions=require("./lib/options"),utils=require("./lib/utils"),audio=require("./lib/audio"),isMobile=require("./lib/isMobile"),closeState=require("./lib/close-state"),$=require("jquery"),XSSFilters=require("xss-filters");require("./lib/backbone-safe"),require("./lib/textarea-resize"),require("./lib/jquery-plugins"),require("./lib/modernizr"),require("linkifyjs/jquery")($,document);var config={developerId:"25d9c37d7fa339ea534c90251771a3c272571e69924b318e8f13a87105bb31c6",developerKey:"df84a5132a0c8e14d3a531475933b0f8176b2b4071616083283deca2b0111679"},postMessageHandlers={siteEvent:"onSiteEvent",postWidgetShow:"onPostWidgetShow",initStreams:"onInitStreams",widgetVisible:"onWidgetVisible",callRobot:"onCallRobot",resetWidget:"resetWidget",showContactCard:"onShowContactcard",hideContactcard:"onHideContactcard",sendTextMessage:"sendTextMessage",inviteClosed:"onInviteClosed",beforeUnload:"onBeforeUnload"},App=function(){function e(){}return e.prototype.init=function(e){if(!e.companyId)throw new Error("SenderWidget: companyId should be specified");return utils.browserIsUnsupported()?void this.postMessage({companyId:e.companyId,title:"browserIsUnsupported"}):(this._companyId=e.companyId,this.options=e,this.configOptions=e.configOptions,this.defaultOptions=e.defaultOptions,sessionStorage.setItem("companyId",this.options.companyId),this.options.forceReg&&(this.cleanStorage("session"),this.cleanStorage("local")),SenderAPIProcessor.setCompanyId(this.options.companyId),SenderAPIProcessor.initChannelHandlers(),e.cleanHistory&&sessionStorage.clear(),MessagesCollection.setCompanyId(e.companyId),AppModel.setCompanyId(e.companyId),ChatModel.setCompanyId(e.companyId),this.appModel=AppModel,this.chatModel=ChatModel,e.cleanHistory||MessagesCollection.fetch({from:"safe"}),AppModel.fetch({from:"safe"}),ChatModel.fetch({from:"safe"}),this.messages=MessagesCollection,MembersCollection.add([{userId:this.options.companyId,photo:"./images/default-company.png",isCompany:"true",description:""},{userId:"me",photo:"./images/default-user-new.png",isCompany:"false",name:"You"}]),void this.start())},e.prototype.render=function(e){this.view=new ContainerView({el:document.body})},e.prototype.start=function(){this.initChannel(),this.initPostMessageHandler(),this.initAPI(),this.initCloseState()},e.prototype.initAPI=function(){var e=this,t=UserAgentInfo.browser,o=function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()}(t.name+" "+t.version);_senderApiJs2.default.setDebug("true"===this.options.sdbg);var i=new _senderApiJs2.default({devId:config.developerId,devKey:config.developerKey,env:this.options.env||"release",devType:UserAgentInfo.deviceType,devModel:window.ipc?"Desktop":o,devOS:_.findKey({win:t.win,mac:t.mac,linux:t.linux,ios:t.ipad||t.iphone||t.ipod,android:t.android,chrome:t.cros},function(e){return e})||"other",versionOS:UserAgentInfo.pgwBrowser.os.fullVersion||"?",clientType:"widget",clientVersion:"last",language:this.options.lang||"ru",connectOnStart:this.options.autostart||!1,chatId:"user+"+this.options.companyId,companyId:this.options.companyId,auth:this.options.auth||"",persistentStore:!1,origin:this.options.location,forceReg:this.checkNewReg(),withCredentials:!0,prefix:this.options.embedId||this.options.companyId,widgetMode:this.options.widgetMode||"default"});this.sapi=i,this.initChannelHandlers(),i.on("sapi:widgetdata",function(t){var o=_.pick(t,"byeForm","keepComet","company","online","user","settings","guestOnSite","userId","history");e.skipGuestRobot=!0,e.saveAdminOptions(o)}),i.once("sapi:ready",function(){var t=AppModel.get("options");t?e.handleAdminOptions(t):Channel.request("apiCall","start_widget",{companyId:e.options.companyId,origin:e.options.location}).then(function(t){e.handleAdminOptions(t)}),e.activateComet()}),i.on("sapi:new-stream-registered",function(){i.terminateInputStream()}),i.on("sapi:sys-message",function(e,t){SenderAPIProcessor.handleSysNew(e,t)}),i.on("sapi:chat-messages",function(e,t){SenderAPIProcessor.handleChatMessages(e,t)}),i.on("sapi:reset",function(){e.resetWidget()}),i.init(),$(window).on("focus",function(){e.onInitStreams()})},e.prototype.cleanStorage=function(e){var t=this,o="session"===e?sessionStorage:localStorage;Object.keys(o).forEach(function(e){e.includes(t._companyId)&&o.removeItem(e)})},e.prototype.saveAndSendSSO=function(){this.checkSendNewSSO()&&this.sendNewSSO(this.options.auth),this.saveSSO()},e.prototype.initCloseState=function(){closeState.init()},e.prototype.activateComet=function(){this.checkCometOption()&&this.onInitStreams()},e.prototype.checkNewReg=function(){return this.checkDialogIsFinished()&&(this.fetchSSO()||this.options.auth)&&this.fetchSSO()!==this.options.auth||!1},e.prototype.checkSendNewSSO=function(){return!this.checkDialogIsFinished()&&(this.options.auth&&this.options.auth!==this.fetchSSO()||!this.options.auth&&this.fetchSSO())},e.prototype.fetchSSO=function(){return AppModel.get("SSO")},e.prototype.fetchPreviousSSO=function(){return AppModel.get("prevSSO")},e.prototype.saveSSO=function(){AppModel.set("SSO",globalOptions.auth||"")},e.prototype.handleDeviceLocale=function(){var e=this.fetchDeviceLocale();e&&e!==this.options.lang&&!this.checkNewReg()&&this.sendDeviceLocale(this.options.lang),this.saveDeviceLocale(this.options.lang)},e.prototype.saveDeviceLocale=function(e){AppModel.set("locale",e||"ru")},e.prototype.fetchDeviceLocale=function(){return AppModel.get("locale")},e.prototype.sendDeviceLocale=function(e){Channel.request("apiRequest","setDeviceLocale",{chatId:"user+sender",model:{locale:e}})},e.prototype.checkDialogIsFinished=function(){return!this.checkShowRequested()&&!MessagesCollection.length||ChatModel.get("dialogFinished")},e.prototype.sendNewSSO=function(e){Channel.request("apiRequest","updSso",{model:{authToken:e||""}}),AppModel.set("prevSSO",e||"")},e.prototype.checkCometOption=function(){return this.options.autostart||globalOptions.keepComet||this.checkShowRequested()||this.checkCometIsActive()||!1},e.prototype.closeCometAfterFinish=function(){this.checkCometOption()||this.sapi.close()},e.prototype.initChannelHandlers=function(){var e=this;Channel.reply("output",function(t,o){return o.chatId="user+"+e._companyId,e.sapi.sendForm(t,o)}),Channel.reply("apiCall",function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _.isObject(o)&&!o.chatId&&(o.chatId="user+"+e._companyId),e.sapi.request(t,o,i,n)}),Channel.reply("apiRequest",function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.chatId||(o.chatId="user+"+e._companyId),e.sapi.sendForm(t,o)}),Channel.reply("sendPostMessage",function(t){e.isPopup()&&!globalOptions.embedMode||(t.companyId=e._companyId,"toggleButton"===t.title&&AppModel.set("isVisible",!0),e.postMessage(t))}),Channel.reply("main:playAudio",function(){globalOptions.embedMode||audio.play()}),Channel.reply("main:requestByeForm",function(){e.requestByeForm()}),Channel.reply("main:cleanHistoryAndToggle",function(){isMobile()||globalOptions.embedMode||globalOptions.embedTo||Channel.request("sendPostMessage",{title:"hideWidget"}),Channel.request("messagesCollection:clean"),Channel.request("sendPostMessage",{title:"resetState"}),Channel.request("containerView:showConsole"),Channel.request("consoleView:cleanTextarea"),Channel.request("containerView:resetCloseClicks"),Channel.request("containerView:disposeCloseDialogView"),Channel.request("closeState:closedByUser"),AppModel.set({showRequested:!1,inviteClosed:!1}),ChatModel.set({dialogFinished:!0,offlineReceived:!0,sessionId:""}),e.newRegOnFinish(),e.closePopup(),Channel.request("sendPostMessage",{title:"dialogFinish"}),e.updateHasMoreOnFinish()}),Channel.reply("main:callCloseAPI",function(e){var t=Object.assign({},e,{session:ChatModel.get("sessionId")||"",timezone:+(new Date).getTimezoneOffset()*-1});Channel.request("containerView:hideConsole"),Channel.request("apiCall","close_widget",t).then(function(t){e.byeForm?ChatModel.set("dialogFinished",!0):(Channel.request("main:cleanHistoryAndToggle"),Channel.request("containerView:disposeCloseDialogView"))})}),Channel.reply("main:newDialog",function(){return e.isPopup()?void window.location.reload():void((globalOptions.embedMode||globalOptions.embedTo)&&e.resetWidget())})},e.prototype.saveAdminOptions=function(e){AppModel.set("options",e)},e.prototype.closePopup=function(){this.isPopup()&&(window.close(),window.closed||Channel.request("containerView:showRestartDialogView")),(globalOptions.embedMode||globalOptions.embedTo)&&Channel.request("containerView:showRestartDialogView")},e.prototype.updateHasMoreOnFinish=function(){Channel.request("messageCollection:setHasMore",globalOptions.hasMore)},e.prototype.handleAdminOptions=function(e){this.options=Object.assign({},this.options,this.options.defaultOptions,e.settings.widget,this.options.configOptions),globalOptions.setOptions(Object.assign({},this.options,this.defaultOptions,e.settings.widget,this.configOptions)),globalOptions.color||globalOptions.setOptions({color:utils.templateToColor(globalOptions.template)}),globalOptions.color&&utils.addGlobalColorStyle(globalOptions.color),this.addEmbedStyle(),this.addExternalStyleFile(),e.company&&MembersCollection.addMember(_.omit(e.company,"bar")),e.company.bar&&SendbarModel.set(e.company.bar),e.company.photo&&"sender"!==this._companyId&&globalOptions.setOptions({companyLogo:e.company.photo}),e.userId&&globalOptions.setOptions({userId:e.userId}),globalOptions.setOptions({byeFormExist:e.byeForm}),e.user&&"anonymous User"!==e.user.name&&(e.user.userId=e.userId||"me",MembersCollection.addMember(e.user)),globalOptions.setOptions({online:e.online}),globalOptions.setOptions({guestOnSite:e.guestOnSite}),globalOptions.setOptions({keepComet:e.keepComet}),!ChatModel.get("hasMore")&&ChatModel.get("dialogFinished")&&ChatModel.set("hasMore",e.history||!1),globalOptions.setOptions({hasMore:e.history||!1}),this.render(globalOptions),this.saveAndSendSSO(),this.handleDeviceLocale(),globalOptions.welcomeRobotId&&this.requestWidgetWelcome(),globalOptions.startRobotClass&&this.requestStartRobot(),globalOptions.guestOnSite&&!this.skipGuestRobot&&this.callGuestOnSite(),globalOptions.embedMode||audio.init(),this.onPopupReady();var t=this.prepareInviteData(_.pick(globalOptions,"invite_cancel_timeout","invite_image","invite_nick","invite_text","invite_timeout"));t&&this.inviteTimeout(t,Number(globalOptions.invite_timeout),!0),Channel.request("messageCollection:setHasMore",ChatModel.get("hasMore")),Channel.request("sendPostMessage",{title:"widgetIsReady"})},e.prototype.onPopupReady=function(){this.isPopup()&&(this.onInitStreams(),this.onWidgetVisible(),this.onPostWidgetShow({page:globalOptions.location}))},e.prototype.isPopup=function(){return window.location.href.includes("popup.html")},e.prototype.onInitStreams=function(){try{AppModel.set("cometIsActive",!0),this.sapi.initInputStream()}catch(e){}},e.prototype.onFocus=function(){this.checkCometIsActive()&&this.onInitStreams()},e.prototype.onSapiReset=function(){localStorage.clear(),sessionStorage.clear()},e.prototype.resetWidget=function(){this.onSapiReset(),Channel.request("sendPostMessage",{title:"restartWidget"}),this.isPopup()&&location.reload()},e.prototype.onShowContactcard=function(){Channel.request("containerView:showContactCard")},e.prototype.onHideContactcard=function(){Channel.request("containerView:hideContactCard")},e.prototype.sendTextMessage=function(e){e.text&&Channel.request("addTextMessage",e.text)},e.prototype.onInviteClosed=function(){var e=Number(globalOptions.invite_cancel_timeout),t=this.prepareInviteData(_.pick(globalOptions,"invite_cancel_timeout","invite_image","invite_nick","invite_text","invite_timeout")),o=AppModel.get("inviteClosed");!o&&e&&t&&(this.inviteTimeout(t,e),AppModel.set("inviteClosed",!0))},e.prototype.onBeforeUnload=function(){sapi.close(),globalOptions.autostart&&globalOptions.cleanHistory&&Channel.request("sendPostMessage",{title:"resetState"})},e.prototype.addExternalStyleFile=function(){if(this.options.extCSSLink){var e=this.options.extCSSLink.replace(/^(https?:)/,"");utils.appendStyleFile(document,"link",e)}},e.prototype.addEmbedStyle=function(){this.options.embedMode?utils.appendStyleFile(document,"link","./styles/embed.20161215.css"):utils.appendStyleFile(document,"link","./styles/nano.20161215.css")},e.prototype.initChannel=function(){this.channel=Channel},e.prototype.initPostMessageHandler=function(){window.addEventListener("message",function(e){this.postMessageHandler(e)}.bind(this),!1)},e.prototype.postMessageHandler=function(e){if(e.data&&e.data.title&&e.data.companyId===this._companyId){var t=postMessageHandlers[e.data.title];t&&this[t].call(this,e.data)}},e.prototype.siteEventHandler=function(e){Channel.request("apiRequest",".siteEvent."+this._companyId,{model:e.actionData})},e.prototype.postMessage=function(e){if(window.parent)return void window.parent.postMessage(e,"*")},e.prototype.onPostWidgetShow=function(e){this.onInitStreams(),globalOptions.welcomeRobotId||globalOptions.startRobotClass||this.checkShowRequested()||(e&&e.page||this.getLocationFromQuery("location"))&&(Channel.request("apiRequest",".widgetShow.sender",{companyId:"sender",model:{origin:e.page||this.getLocationFromQuery("location")}}),AppModel.set("showRequested",!0),ChatModel.set("dialogFinished",!1))},e.prototype.newRegOnFinish=function(){var e=this.fetchPreviousSSO();e&&e===this.fetchSSO()&&this.resetWidget()},e.prototype.getLocationFromQuery=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=o.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," "))||"":"":null},e.prototype.onWidgetVisible=function(){this.activateComet(),AppModel.set("isVisible",!0),Channel.request("messagesView:scrollToBottom")},e.prototype.onCallRobot=function(e){Channel.request("apiRequest","."+e.model.robotId+"."+this._companyId)},e.prototype.requestWidgetWelcome=function(){if(this.options.welcomeRobotId){var e=this.options.welcomeModel||{};Channel.request("apiRequest","."+this.options.welcomeRobotId+"."+this._companyId,{model:e})}},e.prototype.requestStartRobot=function(){var e={};this.options.startRobotClass&&Channel.request("apiRequest",this.options.startRobotClass,{model:e})},e.prototype.callGuestOnSite=function(){Channel.request("apiRequest",".guestOnSite."+this._companyId,{model:{origin:globalOptions.location}})},e.prototype.requestByeForm=function(){var e=ChatModel.get("byeForm");e?Channel.request("closeDialogView:showByeForm",e):Channel.request("apiRequest",".byeForm."+this._companyId)},e.prototype.checkShowRequested=function(){return AppModel.get("showRequested")},e.prototype.checkCometIsActive=function(){return AppModel.get("cometIsActive")},e.prototype.prepareInviteData=function(e){if(e&&Number(e.invite_timeout)){var t={invite_placeholder:"Ask us a question",invite_className:globalOptions.className,color:globalOptions.color||"#666699"};if(utils.checkIsHEX(t.color))return t.invite_text=XSSFilters.inHTMLData(e.invite_text||"Can I help you?"),t.invite_nick=XSSFilters.inHTMLData(e.invite_nick||"Personal assistant"),t.invite_image=XSSFilters.uriInDoubleQuotedAttr(e.invite_image||"https://widget.sender.mobi/build/images/invite-default-avatar.png"),t}},e.prototype.postInvite=function(e){if(!utils.checkIsVisible()&&this.checkDialogIsFinished()&&!this.checkShowRequested()&&!globalOptions.embedMode&&globalOptions.showButton){var t=Object.assign({},e,{invite_image:XSSFilters.uriInDoubleQuotedAttr(e.invite_image)});Channel.request("main:playAudio"),Channel.request("sendPostMessage",Object.assign({title:"renderInvite"},t))}},e.prototype.inviteTimeout=function(e,t,o){var i=this;o&&Channel.request("sendPostMessage",{title:"loadInviteFont"}),setTimeout(function(){i.postInvite(e)},t)},e}();window.SenderWidget=new App,window.senderCallback&&window.senderCallback(),module.exports=App;
},{"../assets/all.less":1,"./api-channel":135,"./collections/members-collection":136,"./collections/messages-collection":137,"./lib/audio":140,"./lib/backbone-safe":141,"./lib/close-state":143,"./lib/isMobile":146,"./lib/jquery-plugins":148,"./lib/modernizr":149,"./lib/options":150,"./lib/polyfills":151,"./lib/textarea-resize":153,"./lib/user-agent-info":154,"./lib/utils":155,"./models/app":158,"./models/chat":159,"./models/sendbar":163,"./sender-api-processor":164,"./views/container-view":191,"core-js/fn/array/find":2,"core-js/fn/array/from":3,"core-js/fn/array/includes":4,"core-js/fn/promise":5,"core-js/fn/string/includes":6,"core-js/fn/string/starts-with":7,"css.escape":90,"jquery":112,"linkifyjs/jquery":113,"sender-api-js":127,"underscore":130,"xss-filters":134}],158:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),AppModel=_exoskeleton2.default.Model.extend({defaults:{options:{},SSO:"",prevSSO:"",locale:"",inviteClosed:!1,cometIsActive:!1,showRequested:!1,isVisible:!1},setCompanyId:function(e){_exoskeleton2.default.Safe.create(e+"_app",this,"session"),this.companyId=e}});exports.default=new AppModel,module.exports=exports.default;
},{"exoskeleton":92}],159:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_config=require("../config"),_config2=_interopRequireDefault(_config),ChatModel=_exoskeleton2.default.Model.extend({defaults:{dialogFinished:!0,hasMore:!1,sessionId:"",offlineReceived:!1,contactCard:{view:_config2.default.defaultFormView},byeForm:null},setCompanyId:function(e){_exoskeleton2.default.Safe.create(e+"_chat",this,"session"),this.companyId=e}});exports.default=new ChatModel,module.exports=exports.default;
},{"../config":138,"exoskeleton":92}],160:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_chat=require("./chat"),_chat2=_interopRequireDefault(_chat),_config=require("../config"),_config2=_interopRequireDefault(_config),FormModel=_exoskeleton2.default.Model.extend({getClass:function(){return this.get("class")},defaults:{view:_config2.default.defaultFormView},fetchContactCard:function(){var e=_chat2.default.get("contactCard");e&&this.set(e)},setCompanyId:function(e){this.companyId=e}});exports.default=FormModel,module.exports=exports.default;
},{"../config":138,"./chat":159,"exoskeleton":92}],161:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),MemberModel=_exoskeleton2.default.Model.extend({initialize:function(){},setUserData:function(e){e.id&&this.set("id",e.id),e.userId&&this.set("userId",e.userId),e.isOwn&&this.set("isOwn",e.isOwn),e.name&&this.set("name",e.name),e.description&&this.set("description",e.description),e.photo&&this.set("photo",e.photo),e.address&&this.set("address",e.address),e.isCompany&&this.set("isCompany",e.isCompany),e.contacts&&this.set("contacts",e.contacts),e.isFavorite&&this.set("isFavorite",e.isFavorite)},isCompany:function(){return"true"===this.get("isCompany")},isAuth:function(){return this.get("userId")},isOwn:function(){return"true"===this.get("isOwn")},getPhone:function(){var e=this.get("contacts");if(e){var t="";return _underscore2.default.each(e,function(e){"phone"==e.type&&(t=e.value)}),t}}});exports.default=MemberModel,module.exports=exports.default;
},{"exoskeleton":92,"underscore":130}],162:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_form=require("./form"),_form2=_interopRequireDefault(_form),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),MessageModel=_exoskeleton2.default.Model.extend({initialize:function(){var t=this;!this.has("id")&&this.has("packetId")&&(this.set("id",this.get("packetId")),this.unset("packetId")),this.isSticker()&&!this.has("modelId")&&this.has("packetId")&&(this.set("modelId",this.get("id")),this.set("id",this.get("packetId")),this.unset("packetId")),this.has("view")&&0!==Object.getOwnPropertyNames(this.get("view")).length&&(this.Form=new _form2.default(this.toJSON()),this.Form.set("chatId",this.getChatId())),"sending"===this.get("status")&&this.isOwn()&&!this.get("id")&&_apiChannel2.default.replyOnce("sapi:ready",function(){t.send()})},getClass:function(){return this.get("class")},isOwn:function(){return this.get("from")===_options2.default.userId||"me"===this.get("from")},isUnread:function(){return!this.get("status")||"read"!=this.get("status")},isAudio:function(){return"audio"===this.getClass()},isImage:function(){return"image"===this.getClass()},isVideo:function(){return"video"===this.getClass()},isFile:function(){return"file"===this.getClass()},isText:function(){return"text"===this.getClass()},isForm:function(){return"undefined"!=typeof this.Form},isBonus:function(){return this.getClass().indexOf("bonus.sender")!==-1},isCoords:function(){return"location"===this.getClass()},isSticker:function(){return"sticker"===this.getClass()},isNotify:function(){return"ntfChat"===this.getClass()},isSystem:function(){return this.isBonus()||this.isNotify()||this.isInternal()},isInternal:function(){return"senderweb"===this.get("companyId")&&"internal"===this.get("robotId")},isSending:function(){return this.isOwn()&&"sending"===this.get("status")},getChatId:function(){return this.get("chatId")},send:function(t){var e=this;if(!this.isSystem()){t||(t={class:"text"}),t.chatId=this.getChatId(),t.model=_underscore2.default.pick(t.model||this.toJSON(),"text","type","url","name","desc","size","id","set","lat","lon","textMsg","preview","w","h"),this.set("status","sending");var s=_apiChannel2.default.request("output",this.getClass(),t);s.then(function(t){e.set("id",t.packetId),e.set("created",Number(t.time)),e.set("status","sent")})}}});exports.default=MessageModel,module.exports=exports.default;
},{"../api-channel":135,"../lib/options":150,"./form":160,"exoskeleton":92,"underscore":130}],163:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),SendbarModel=_exoskeleton2.default.Model.extend({defaults:{textColor:"#000000",items:[{id:"1",icon:"https://s.sender.mobi/bars/plus.png",name:{ru:"Больше...",en:"More..."},actions:[{oper:"reload",_0:[2,5,7],_1:[6,9,11]}]},{id:"2",icon:"https://s.sender.mobi/bars/cancel.png",name:{ru:"Закрыть",en:"Close"},actions:[{oper:"reload",_0:[1,5,7]}]},{id:"5",icon:"https://s.sender.mobi/bars/text.png",name:{ru:"Послать сообщение",en:"Send message"},actions:[{oper:"sendMsg",expand:!1},{oper:"reload",_0:[1,5,7]}]},{id:"6",icon:"https://s.sender.mobi/bars/camera.png",name:{ru:"Фото",en:"Photo"},actions:[{oper:"sendMedia",type:"photo"}]},{id:"7",icon:"https://s.sender.mobi/bars/smile.png",name:{ru:"Смайлы",en:"Smiles"},actions:[{oper:"sendMedia",type:"smile"}]},{id:"9",icon:"https://s.sender.mobi/bars/add_user.png",name:{ru:"Добавить",en:"Add user"},actions:[{oper:"addUser"}]},{id:"11",icon:"https://s.sender.mobi/bars/attach.png",name:{ru:"Файл",en:"Send file"},actions:[{oper:"sendMedia",type:"file"}]}],init:{_0:[1,5,7]}}});exports.default=new SendbarModel,module.exports=exports.default;
},{"exoskeleton":92}],164:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_messagesCollection=require("./collections/messages-collection"),_messagesCollection2=_interopRequireDefault(_messagesCollection),_membersCollection=require("./collections/members-collection"),_membersCollection2=_interopRequireDefault(_membersCollection),_app=require("./models/app"),_app2=_interopRequireDefault(_app),_chat=require("./models/chat"),_chat2=_interopRequireDefault(_chat),_apiChannel=require("./api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_constants=require("./constants"),_options=require("./lib/options"),_options2=_interopRequireDefault(_options),_utils=require("./lib/utils"),_utils2=_interopRequireDefault(_utils),SenderApiProcessor={hasAddNotification:!1,setCompanyId:function(e){this.companyId=e},initChannelHandlers:function(){var e=this;_apiChannel2.default.reply("senderApiProcessor:resetAddNotification",function(){e.resetAddNotificationProperty()})},resetAddNotificationProperty:function(){this.hasAddNotification=!1},handleChatMessages:function(e,t){var i=this;e==="user+"+this.companyId&&(t.more&&_apiChannel2.default.request("messageCollection:getHistory"),t.msgs&&t.msgs.forEach(function(e){i.handleMessageNew(e)}))},handleMessageNew:function(e,t){var i=e.class;if(i){if(i.includes("resumeChat"))return void this.handleResumeChat(e,t);if(i.includes("companyOffline"))return void this.handleOfflineForm(e,t);if(i.startsWith("contact.contact"))return void this.handleContactCard(e);if(i.startsWith("byeForm.byeForm"))return void this.handleByeForm(e,t);switch(i){case"text":case"audio":case"image":case"file":case"videoMsg":case"sticker":case"location":_messagesCollection2.default.receiveMessage(e,t);break;case"ntfChat":this.handleChatNotification(e);break;default:this.handleForm(e,t)}}},handleSysNew:function(e,t){switch(e){case"wtForceOpen":this.handleForceOpen(t);break;case"closeWidget":this.handleCloseWidget(t);break;case"typing":this.handleTyping(t);break;case"collapseWidget":this.handleCollapseWidget();break;case"resumeChat":this.handleResumeChat();break;default:this.handleForm(t)}},handleNotify:function(e,t){switch(e){case".deliv.sender":this.handleDeliv(t);break;case".read.sender":this.handleRead(t);break;case"typing.routerobot.sender":this.handleTyping(t)}},handleTyping:function(e){e.model&&e.model.chatId!=="user+"+this.companyId||_apiChannel2.default.request("showTyping",_underscore2.default.pick(e,"chatId","model"))},handleDeliv:function(e){var t=void 0;t=_messagesCollection2.default.filter(function(t){return+t.get("id")<=+e.model.packetId&&"read"!==t.get("status")}),t.length&&_underscore2.default.invoke(t,"set","status","deliv")},handleRead:function(e){var t=void 0;t=_messagesCollection2.default.filter(function(t){return+t.get("id")<=+e.model.packetId}),t.length&&_underscore2.default.invoke(t,"set","status","read")},handleChatNotification:function(e){e.model&&e.model.type&&"add"===e.model.type&&this.handleAddChatNotification(e)},handleAddChatNotification:function(e){this.hasAddNotification||(_messagesCollection2.default.receiveMessage(e),this.hasAddNotification=!0)},handleForm:function(e,t){return"companyOffline"===e.robotId?void this.handleOfflineForm(e,t):"byeForm"===e.robotId?void this.handleByeForm(e,t):"wtForceOpen"===e.robotId?void this.handleForceOpen(t):"closeWidget"===e.robotId?void this.handleCloseWidget(e,t):e.view&&0!==Object.getOwnPropertyNames(e.view).length?void _messagesCollection2.default.receiveMessage(e):void console.log("[stream] expected visual form, but view is empty",JSON.stringify(e))},handleContactCard:function(e){_chat2.default.set("contactCard",e),_apiChannel2.default.request("addContactCard",e)},handleCloseWidget:function(e){var t=e.model.session||"";_apiChannel2.default.request("closeState:closedNotByUser"),_apiChannel2.default.request("containerView:triggerClose"),_chat2.default.set("sessionId",t),_chat2.default.set("dialogFinished",!0),_options2.default.byeForm&&_apiChannel2.default.request("closeDialogView:showPreloader")},handleCollapseWidget:function(){_apiChannel2.default.request("main:cleanHistoryAndToggle")},handleResumeChat:function(e,t){t&&t.silent||_apiChannel2.default.request("messageCollection:getHistory")},handleForceOpen:function(){_app2.default.set("showRequested",!0),_chat2.default.set("dialogFinished",!1),_apiChannel2.default.request("sendPostMessage",{title:"toggleButton",forceOpen:!0})},handleByeForm:function(e,t){t&&t.silent||(_chat2.default.set("byeForm",e),_apiChannel2.default.request("closeDialogView:showByeForm",e))},handleOfflineForm:function(e,t){t&&t.silent||_chat2.default.get("offlineReceived")||(_chat2.default.set("offlineReceived",!0),_apiChannel2.default.request("containerView:showOfflineForm",e),_apiChannel2.default.request("containerView:offlineReceived"))}};exports.default=SenderApiProcessor,module.exports=exports.default;
},{"./api-channel":135,"./collections/members-collection":136,"./collections/messages-collection":137,"./constants":139,"./lib/options":150,"./lib/utils":155,"./models/app":158,"./models/chat":159,"underscore":130}],165:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,a,t,l,r){return'<div class="widget-modal-cancel-button" data-el="back">Back to chat</div>'},useData:!0});
},{"handlebars/runtime":111}],166:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,r,t,a,m){return'<form class="sender-widget-message-form sender_form"></form>'},useData:!0});
},{"handlebars/runtime":111}],167:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(t,e,a,l,i){return'<div class="widget-external-link-container">\n\t<div class="loader-ui" data-el="loader">\n\t    <svg class="circular" viewBox="25 25 50 50">\n\t        <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>\n\t    </svg>\n\t</div>\n\t<div class="widget-modal-cancel-button" data-el="back">Back to chat</div>\n</div>\n<div class="widget-modal-overlay"></div>'},useData:!0});
},{"handlebars/runtime":111}],168:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,a,d,l,t){return'<div class="widget-close-dialog-container">    \n    <div class="widget-modal-header">Your question is solved?</div>   \n    <div class="widget-modal-radio-wrapper">\n    \t<span class="sender_form_item_radio">\n    \t  <input class="sender_form_radio" type="radio" name="radio" value="yes" id="yes" data-el="yes">\n    \t  <label for="yes" class="sender_form_label_radio"><span>&nbsp;Yes, solved</span></label>\n    \t</span>\n    \t<span class="sender_form_item_radio">\n    \t  <input class="sender_form_radio" type="radio" name="radio" value="no" id="no" data-el="no">\n    \t  <label for="no" class="sender_form_label_radio"><span>&nbsp;No, not solved</span></label>\n    \t</span>\n    </div>\n    <div class="widget-modal-close-vote widget-hidden" data-el="vote">\n      <div class="widget-modal-close-question">\n        Please leave your contact and your question, we\'ll contact you!\n      </div>\n      <div class="widget-modal-close-field-wrapper">\n        <input class="widget-modal-close-input" type="text" placeholder="E-mail or phone (380XXXXXXX)" data-el="emailPhone">\n        <div class="widget-modal-close-error widget-hidden" data-el="contactInfoError">\n          Please enter the correct value\n        </div>\n      </div>\n      <div class="widget-modal-close-field-wrapper">\n        <textarea class="widget-modal-close-textarea" placeholder="Comment" rows="2" data-el="comment"></textarea>\n      </div>\n    </div>\n    <div class="widget-modal-close-save">\n    \t<div class="widget-modal-close-question">Save dialog?</div>\n    \t<div class="widget-modal-close-field-wrapper">\n\t      <input class="widget-modal-close-input" type="text" placeholder="E-mail" data-el="email">\n\t      <div class="widget-modal-close-error widget-hidden" data-el="emailError">\n            Please enter the correct value\n          </div>\n\t    </div>    \t\n    </div>\n    <div class="widget-modal-close-button-wrapper">\n        <div class="widget-modal-close-button-back" data-el="back">Back</div>\n        <div class="widget-modal-close-button-save" data-el="submit">Finish dialog</div>\t    \n    </div>\n</div>\n<div class="widget-modal-overlay"></div>'},useData:!0});
},{"handlebars/runtime":111}],169:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,t,i,n,o){return'<div class="widget-footer-console">\n\t<div class="widget-footer-console-input">\n\t\t<textarea class="widget-footer-console-input-content" placeholder="Ask us a question" data-el="console" style="height: 20px!important;"></textarea>\n\t\t<div class="widget-footer-console-btn" data-el="sendText"><div class="widget-footer-console-btn-content widget-footer-console-btn-send"><?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="18" height="18" viewBox="0 0 24 24"><path d="M2,21L23,12L2,3V10L17,12L2,14V21Z" /></svg></div></div>\n\t</div>\n\t<div class="widget-footer-console-btn widget-hidden" data-el="smiles"><div class="widget-footer-console-btn-content widget-footer-console-btn-content2"></div></div>\t\n\t<div class="widget-footer-console-btn widget-hidden" data-el="sendFile"><div class="widget-footer-console-btn-content widget-footer-console-btn-content3"></div></div>\n\t<input type="file" class="widget-hidden" data-el="inputMedia">\n\t<input type="file" class="widget-hidden" data-el="inputImage" accept="image/jpeg,image/png,image/gif">\n</div>\n<div class="widget-footer-sendbar"></div>\n<div class="widget-smiles-wrapper widget-hidden" data-el="smiles"></div>\n'},useData:!0});
},{"handlebars/runtime":111}],170:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,r,t,a,m){return'<form class="widget-contact-card-form sender_form"></form>\n'},useData:!0});
},{"handlebars/runtime":111}],171:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({1:function(e,a,n,t,d){return"widget-hidden"},3:function(e,a,n,t,d){return"widget-header-logo-own"},compiler:[7,">= 4.0.0"],main:function(e,a,n,t,d){var i,l,r=null!=a?a:{};return'<div class="widget widget-fullscreen" data-el="wrapper">\n\t<div class="widget-header '+(null!=(i=n.if.call(r,null!=a?a.isEmbedMode:a,{name:"if",hash:{},fn:e.program(1,d,0),inverse:e.noop,data:d}))?i:"")+'" data-el="header">\n\t  <div class="widget-header-wrapper">\n\t  \t<img class="widget-header-logo '+(null!=(i=n.if.call(r,null!=a?a.ownLogo:a,{name:"if",hash:{},fn:e.program(3,d,0),inverse:e.noop,data:d}))?i:"")+'" src="'+e.escapeExpression((l=null!=(l=n.companyLogo||(null!=a?a.companyLogo:a))?l:n.helperMissing,"function"==typeof l?l.call(r,{name:"companyLogo",hash:{},data:d}):l))+'">\n\t  </div>\n\t  <div class="widget-header-wrapper">\n\t  \t<div class="widget-header-head">Online help</div>\n\t  </div>\n\t  <div class="widget-header-wrapper">\n\t\t<div class="widget-header-controls">\n\t\t    <div class="widget-header-controls-btn widget-header-controls-btn4" data-el="contactCard"><span></span></div>\n\t\t\t<div class="widget-header-controls-btn widget-header-controls-btn1 '+(null!=(i=n.if.call(r,null!=a?a.hideMinimize:a,{name:"if",hash:{},fn:e.program(1,d,0),inverse:e.noop,data:d}))?i:"")+'" data-el="minimize"><span></span></div>\n\t\t\t<div class="widget-header-controls-btn widget-header-controls-btn3" data-el="close"><span></span></div>\n\t\t</div>\n\t  </div>\n\t</div>\n\t<div class="widget-chat nano" data-el="chat"></div>\n\t<div class="widget-footer '+(null!=(i=n.if.call(r,null!=a?a.isEmbedMode:a,{name:"if",hash:{},fn:e.program(1,d,0),inverse:e.noop,data:d}))?i:"")+'"></div>\n</div>'},useData:!0});
},{"handlebars/runtime":111}],172:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({1:function(a,t,l,n,s){var e;return'\t\t\t<div class="sf_chat_msg_username"><span>'+a.escapeExpression((e=null!=(e=l.fromName||(null!=t?t.fromName:t))?e:l.helperMissing,"function"==typeof e?e.call(null!=t?t:{},{name:"fromName",hash:{},data:s}):e))+"</span></div>\n"},compiler:[7,">= 4.0.0"],main:function(a,t,l,n,s){var e,o,m=null!=t?t:{},c=l.helperMissing,i="function",r=a.escapeExpression;return'<div class="sf_chat_msg_avatar"><img src="'+r((o=null!=(o=l.photo||(null!=t?t.photo:t))?o:c,typeof o===i?o.call(m,{name:"photo",hash:{},data:s}):o))+'"></div>\n<div class="sf_chat_msg_content sf_chat_msg_text_content">\n\t<div class="sf_chat_msg_text">\n'+(null!=(e=l.unless.call(m,null!=t?t.isOwn:t,{name:"unless",hash:{},fn:a.program(1,s,0),inverse:a.noop,data:s}))?e:"")+'        <div class="sf_chat_msg_location">\n            <span></span>\n            <a href="//maps.google.com/maps?q='+r((o=null!=(o=l.lat||(null!=t?t.lat:t))?o:c,typeof o===i?o.call(m,{name:"lat",hash:{},data:s}):o))+","+r((o=null!=(o=l.lon||(null!=t?t.lon:t))?o:c,typeof o===i?o.call(m,{name:"lon",hash:{},data:s}):o))+'" target="_blank">'+r((o=null!=(o=l.textMsg||(null!=t?t.textMsg:t))?o:c,typeof o===i?o.call(m,{name:"textMsg",hash:{},data:s}):o))+'</a>\n        </div>\n\t\t<div class="sf_chat_msg_info">\n\t        <div class="sf_chat_msg_time">'+r((o=null!=(o=l.date||(null!=t?t.date:t))?o:c,typeof o===i?o.call(m,{name:"date",hash:{},data:s}):o))+"</div>\n\t    </div>\n\t</div>\n</div>"},useData:!0});
},{"handlebars/runtime":111}],173:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({1:function(a,e,l,s,n){var t;return'\t\t<div class="sf_chat_msg_username"><span>'+a.escapeExpression((t=null!=(t=l.fromName||(null!=e?e.fromName:e))?t:l.helperMissing,"function"==typeof t?t.call(null!=e?e:{},{name:"fromName",hash:{},data:n}):t))+"</span></div>\n"},compiler:[7,">= 4.0.0"],main:function(a,e,l,s,n){var t,i,c=null!=e?e:{},_=l.helperMissing,f="function",m=a.escapeExpression;return'<div class="sf_chat_msg_avatar"><img src="'+m((i=null!=(i=l.photo||(null!=e?e.photo:e))?i:_,typeof i===f?i.call(c,{name:"photo",hash:{},data:n}):i))+'"></div>\n<div class="sf_chat_msg_content sf_chat_msg_file_content">\t\n'+(null!=(t=l.unless.call(c,null!=e?e.isOwn:e,{name:"unless",hash:{},fn:a.program(1,n,0),inverse:a.noop,data:n}))?t:"")+'    <div class="sf_chat_msg_file_holder">\n        <div class="sf_chat_msg_file_sent_other">\n            <div class="sf_chat_msg_file_icon"></div>\n            <div class="sf_chat_msg_file_name">\n                <div class="sf_chat_msg_text"><a target="_blank" href="'+m((i=null!=(i=l.fileSource||(null!=e?e.fileSource:e))?i:_,typeof i===f?i.call(c,{name:"fileSource",hash:{},data:n}):i))+'">'+m((i=null!=(i=l.fileName||(null!=e?e.fileName:e))?i:_,typeof i===f?i.call(c,{name:"fileName",hash:{},data:n}):i))+'</a></div>\n            </div>\n        </div>\n    </div>\t\n\t<div class="sf_chat_msg_info">\n        <div class="sf_chat_msg_time">'+m((i=null!=(i=l.date||(null!=e?e.date:e))?i:_,typeof i===f?i.call(c,{name:"date",hash:{},data:n}):i))+"</div>\n    </div>\n</div>"},useData:!0});
},{"handlebars/runtime":111}],174:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,a,t,n,l){var s,d=null!=a?a:{},i=t.helperMissing,r="function",m=e.escapeExpression;return'<form class="sender-widget-message-form sender_form" id="'+m((s=null!=(s=t.id||(null!=a?a.id:a))?s:i,typeof s===r?s.call(d,{name:"id",hash:{},data:l}):s))+'"></form>\n<div class="widget-message-content-form">\n\t<div class="widget-message-content-time">'+m((s=null!=(s=t.date||(null!=a?a.date:a))?s:i,typeof s===r?s.call(d,{name:"date",hash:{},data:l}):s))+"</div>\n</div>"},useData:!0});
},{"handlebars/runtime":111}],175:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({1:function(a,e,l,n,s){var t;return'\t\t<div class="sf_chat_msg_username"><span>'+a.escapeExpression((t=null!=(t=l.fromName||(null!=e?e.fromName:e))?t:l.helperMissing,"function"==typeof t?t.call(null!=e?e:{},{name:"fromName",hash:{},data:s}):t))+"</span></div>\n"},compiler:[7,">= 4.0.0"],main:function(a,e,l,n,s){var t,i,m=null!=e?e:{},c=l.helperMissing,r="function",o=a.escapeExpression;return'<div class="sf_chat_msg_avatar"><img src="'+o((i=null!=(i=l.photo||(null!=e?e.photo:e))?i:c,typeof i===r?i.call(m,{name:"photo",hash:{},data:s}):i))+'"></div>\n<div class="sf_chat_msg_content sf_chat_msg_image_content">\n'+(null!=(t=l.unless.call(m,null!=e?e.isOwn:e,{name:"unless",hash:{},fn:a.program(1,s,0),inverse:a.noop,data:s}))?t:"")+'    <div class="sf_chat_msg_image_holder">\n        <div class="sf_chat_msg_image sf_chat_msg_image_is_thumb">\n            <a href="'+o((i=null!=(i=l.imageSource||(null!=e?e.imageSource:e))?i:c,typeof i===r?i.call(m,{name:"imageSource",hash:{},data:s}):i))+'" target="_blank"><img draggable="false" src="'+o((i=null!=(i=l.imageSource||(null!=e?e.imageSource:e))?i:c,typeof i===r?i.call(m,{name:"imageSource",hash:{},data:s}):i))+'"></a>\n            <div class="sf_chat_msg_info">\n                <div class="sf_chat_msg_time">'+o((i=null!=(i=l.date||(null!=e?e.date:e))?i:c,typeof i===r?i.call(m,{name:"date",hash:{},data:s}):i))+'</div>\n            </div>\n        </div>\n    </div>\n    <div class="sf_chat_msg_link_holder">\n        <a href="'+o((i=null!=(i=l.imageSource||(null!=e?e.imageSource:e))?i:c,typeof i===r?i.call(m,{name:"imageSource",hash:{},data:s}):i))+'" target="_blank">'+o((i=null!=(i=l.fileName||(null!=e?e.fileName:e))?i:c,typeof i===r?i.call(m,{name:"fileName",hash:{},data:s}):i))+"</a>\n    </div>\n</div>"},useData:!0});
},{"handlebars/runtime":111}],176:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(t,e,i,a,n){return'<div class="widget-chat-history-button widget-hidden" data-el="history">&uarr; History</div>\n<div class="loader-ui widget-hidden" data-el="preloader" style="width: 50px; left: calc(50% - 25px);">\n    <svg class="circular" viewBox="25 25 50 50">\n        <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>\n    </svg>\n</div>\n<div class="widget-chat-content nano-content" data-el="content">\n</div>\n<div class="widget-typing widget-hidden" data-el="typing">Operator typing...</div>\n'},useData:!0});
},{"handlebars/runtime":111}],177:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,t,a,l,n){var r;return"<span><em>"+e.escapeExpression((r=null!=(r=a.text||(null!=t?t.text:t))?r:a.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"text",hash:{},data:n}):r))+"</em></span></div>"},useData:!0});
},{"handlebars/runtime":111}],178:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,r,m,t,a){return'<div class="widget-message-content-form form-byeForm-byeForm">\n\t<form class="sender-widget-message-form sender_form"></form>\n</div>'},useData:!0});
},{"handlebars/runtime":111}],179:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,a,t,i,d){return'<div class="widget-external-link-container">\n    <div class="widget-modal-icon" data-el="icon"></div>\n\t<div class="widget-modal-close-submit widget-modal-restart-dialog" data-el="submit">Start new dialog</div>\n</div>\n<div class="widget-modal-overlay"></div>'},useData:!0});
},{"handlebars/runtime":111}],180:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,l,a,t,n){var i,r=null!=l?l:{},u=a.helperMissing,s="function",o=e.escapeExpression;return'<img src="'+o((i=null!=(i=a.icon||(null!=l?l.icon:l))?i:u,typeof i===s?i.call(r,{name:"icon",hash:{},data:n}):i))+'" title="'+o((i=null!=(i=a.title||(null!=l?l.title:l))?i:u,typeof i===s?i.call(r,{name:"title",hash:{},data:n}):i))+'" draggable="false">\n'},useData:!0});
},{"handlebars/runtime":111}],181:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,a,r,t,l){return'<div class="sf_sendbar_chat_level1_wrap"></div>\n<div class="sf_sendbar_chat_level0_wrap"></div>'},useData:!0});
},{"handlebars/runtime":111}],182:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({1:function(e,a,l,s,n,t,i){var r=e.lambda,c=e.escapeExpression;return'    \t  <li data-id="'+c(r(null!=a?a.id:a,a))+'" class="sf_sticker sf_sticker_'+c(r(null!=a?a.type:a,a))+'"><img draggable="false" src="'+c(r(null!=i[1]?i[1].stickersPath:i[1],a))+c(r(null!=a?a.id:a,a))+'.png" class="sticker_img"></li>\n'},3:function(e,a,l,s,n){var t,i=e.escapeExpression,r=e.lambda;return'    \t  <li class="sf_smile_icon" data-id="'+i((t=null!=(t=l.index||n&&n.index)?t:l.helperMissing,"function"==typeof t?t.call(null!=a?a:{},{name:"index",hash:{},data:n}):t))+'">\n    \t  \t<img draggable="false" class="emoji emoji-'+i(r(a,a))+'" src="./images/16x16/'+i(r(a,a))+'.png">\n    \t  </li>\n'},compiler:[7,">= 4.0.0"],main:function(e,a,l,s,n,t,i){var r,c=null!=a?a:{};return'<div class="sf_chat_smiles_list_wrap nano-content" data-el="smilesListWrap">\n    <ul class="sf_chat_smiles_list widget-hidden" data-type="stickers" data-el="stickers">\n'+(null!=(r=l.each.call(c,null!=a?a.stickers:a,{name:"each",hash:{},fn:e.program(1,n,0,t,i),inverse:e.noop,data:n}))?r:"")+'    </ul>\n    <ul class="sf_chat_smiles_list" data-type="people" data-el="people">\n'+(null!=(r=l.each.call(c,null!=a?a.smiles:a,{name:"each",hash:{},fn:e.program(3,n,0,t,i),inverse:e.noop,data:n}))?r:"")+"    </ul>   \n</div>"},useData:!0,useDepths:!0});
},{"handlebars/runtime":111}],183:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({compiler:[7,">= 4.0.0"],main:function(e,a,l,r,n){var s;return'<li class="sf_chat_sendbar_icon" data-el="soundControl">\n\t<img src="'+e.escapeExpression((s=null!=(s=l.src||(null!=a?a.src:a))?s:l.helperMissing,"function"==typeof s?s.call(null!=a?a:{},{name:"src",hash:{},data:n}):s))+'" draggable="false">\n</li>'},useData:!0});
},{"handlebars/runtime":111}],184:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({1:function(a,s,e,n,t){var l;return'\t\t<div class="sf_chat_msg_username"><span>'+a.escapeExpression((l=null!=(l=e.fromName||(null!=s?s.fromName:s))?l:e.helperMissing,"function"==typeof l?l.call(null!=s?s:{},{name:"fromName",hash:{},data:t}):l))+"</span></div>\n"},compiler:[7,">= 4.0.0"],main:function(a,s,e,n,t){var l,i,c=null!=s?s:{},r=e.helperMissing,m="function",o=a.escapeExpression;return'<div class="sf_chat_msg_avatar"><img src="'+o((i=null!=(i=e.photo||(null!=s?s.photo:s))?i:r,typeof i===m?i.call(c,{name:"photo",hash:{},data:t}):i))+'"></div>\n<div class="sf_chat_msg_content sf_chat_msg_sticker_content">\t\n'+(null!=(l=e.unless.call(c,null!=s?s.isOwn:s,{name:"unless",hash:{},fn:a.program(1,t,0),inverse:a.noop,data:t}))?l:"")+'\t<div class="sf_chat_msg_image_holder">\n        <div class="sf_chat_msg_image">\n            <img draggable="false" src="'+o((i=null!=(i=e.stickerPath||(null!=s?s.stickerPath:s))?i:r,typeof i===m?i.call(c,{name:"stickerPath",hash:{},data:t}):i))+'">\n            <div class="sf_chat_msg_info">\n                <div class="sf_chat_msg_time">'+o((i=null!=(i=e.date||(null!=s?s.date:s))?i:r,typeof i===m?i.call(c,{name:"date",hash:{},data:t}):i))+"</div>\n            </div>\n        </div>\n    </div>\n</div>"},useData:!0});
},{"handlebars/runtime":111}],185:[function(require,module,exports){
var templater=require("handlebars/runtime").default.template;module.exports=templater({1:function(a,t,s,n,e){var l;return'\t\t\t<div class="sf_chat_msg_username"><span>'+a.escapeExpression((l=null!=(l=s.fromName||(null!=t?t.fromName:t))?l:s.helperMissing,"function"==typeof l?l.call(null!=t?t:{},{name:"fromName",hash:{},data:e}):l))+"</span></div>\n"},compiler:[7,">= 4.0.0"],main:function(a,t,s,n,e){var l,i,m=null!=t?t:{},c=s.helperMissing,o="function",r=a.escapeExpression;return'<div class="sf_chat_msg_avatar"><img src="'+r((i=null!=(i=s.photo||(null!=t?t.photo:t))?i:c,typeof i===o?i.call(m,{name:"photo",hash:{},data:e}):i))+'"></div>\n<div class="sf_chat_msg_content sf_chat_msg_text_content">\n\t<div class="sf_chat_msg_text">\n'+(null!=(l=s.unless.call(m,null!=t?t.isOwn:t,{name:"unless",hash:{},fn:a.program(1,e,0),inverse:a.noop,data:e}))?l:"")+'\t\t<span class="sf_chat_msg_text_message">'+r((i=null!=(i=s.text||(null!=t?t.text:t))?i:c,typeof i===o?i.call(m,{name:"text",hash:{},data:e}):i))+'</span>\n\t\t<div class="sf_chat_msg_info">\n\t        <div class="sf_chat_msg_time">'+r((i=null!=(i=s.date||(null!=t?t.date:t))?i:c,typeof i===o?i.call(m,{name:"date",hash:{},data:e}):i))+"</div>\n\t    </div>\n    </div>\n</div>\n"},useData:!0});
},{"handlebars/runtime":111}],186:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton);exports.default=_exoskeleton2.default.View.extend({$elements:{},setElements:function(){this.$el.find("[data-el]").each(_jquery2.default.proxy(function(e,t){this.$elements[(0,_jquery2.default)(t).attr("data-el")]=(0,_jquery2.default)(t)},this))}}),module.exports=exports.default;
},{"exoskeleton":92,"jquery":112}],187:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_formMessageView=require("./message/form-message-view"),_formMessageView2=_interopRequireDefault(_formMessageView),_byeForm=require("../templates/bye-form.hbs"),_byeForm2=_interopRequireDefault(_byeForm),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_fml=require("../lib/fml"),_fml2=_interopRequireDefault(_fml),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),ByeFormView=_formMessageView2.default.extend({className:"widget-message-content-form form-byeForm-byeForm",initialize:function(){var e=this;this.listenTo(this.model,"change",function(){e.render(),dialogState.dialogIsFinished&&_apiChannel2.default.request("main:cleanHistoryAndToggle"),_apiChannel2.default.request("containerView:reinitScroll")})},render:function(){return this._modelMixin={},this.hideSubmitClass(),this.$el.html((0,_byeForm2.default)(this.prepareTemplateData())),this.insertJsonView(),this.$el.attr(_underscore2.default.extend({},_underscore2.default.result(this,"attributes"))),this.attachImageLoad(),this.$el},sendForm:function(e,r,i){this.constructor.__super__.sendForm.apply(this,arguments),_apiChannel2.default.request("containerView:disposeCloseDialogView"),_apiChannel2.default.request("main:cleanHistoryAndToggle")}});exports.default=ByeFormView,module.exports=exports.default;
},{"../api-channel":135,"../lib/fml":144,"../lib/options":150,"../templates/bye-form.hbs":166,"./message/form-message-view":195,"jquery":112,"underscore":130}],188:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _baseView=require("./base-view"),_baseView2=_interopRequireDefault(_baseView),_closeDialog=require("../templates/close-dialog.hbs"),_closeDialog2=_interopRequireDefault(_closeDialog),_closeDialogNorate=require("../templates/close-dialog-norate.hbs"),_closeDialogNorate2=_interopRequireDefault(_closeDialogNorate),_backButton=require("../templates/back-button.hbs"),_backButton2=_interopRequireDefault(_backButton),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_message=require("../models/message"),_message2=_interopRequireDefault(_message),_byeFormView=require("./bye-form-view"),_byeFormView2=_interopRequireDefault(_byeFormView),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),_closeState=require("../lib/close-state"),_closeState2=_interopRequireDefault(_closeState),_chat=require("../models/chat"),_chat2=_interopRequireDefault(_chat),CloseDialogView=_baseView2.default.extend({className:"widget-popup",events:{'click [data-el="back"]':"dispose",'click [data-el="submit"]':"requestWidgetClose",'change input[type="radio"]':"onRadioChange"},closeDialogEmptyData:{rating:-1,mail:"",contact:"",comment:"",session:"",byeForm:!1},initialize:function(){this.render(),this.initChannelHandlers()},initChannelHandlers:function(){var e=this;_apiChannel2.default.reply("closeDialogView:showByeForm",function(t){_options2.default.byeFormExist&&(e.renderByeForm(t),e.undelegateEvents())}),_apiChannel2.default.reply("closeDialogView:showPreloader",function(){e.showPreloader()})},render:function(){return _options2.default.byeFormExist?this.$el.html((0,_closeDialogNorate2.default)()):this.$el.html((0,_closeDialog2.default)()),this.setElements(),this.$el},renderByeForm:function(e){var t=new _message2.default(e),i=new _byeFormView2.default({model:t});this.onCloseWidgetRobot(i),this.byeFormView=i},onCloseWidgetRobot:function(e){this.$el.html(e.render()),this.$el.append((0,_backButton2.default)()),this.delegateOnBack()},delegateOnBack:function(){var e=this;this.$('[data-el="back"]').on("click",function(){e.dispose()})},requestWidgetClose:function(){if(_options2.default.byeFormExist){var e=Object.assign(this.closeDialogEmptyData,{byeForm:_options2.default.byeFormExist});_apiChannel2.default.request("main:callCloseAPI",e),_apiChannel2.default.request("closeDialogView:showPreloader"),_chat2.default.set("dialogFinished",!0)}else this.validateInputs()&&(_apiChannel2.default.request("containerView:setSecondClose"),_apiChannel2.default.request("main:callCloseAPI",this.prepareCloseData()),_chat2.default.set("dialogFinished",!0))},showPreloader:function(){this.$elements.loader.optShow()},onRadioChange:function(e){var t=this.$elements.yes.is(":checked");t?this.$elements.vote.optHide():this.$elements.vote.optShow()},validateInputs:function(){var e=this.$elements.email.val(),t=this.$elements.emailPhone.val(),i=this.$elements.no.is(":checked");if(e){if(!this.isEmail(e))return void this.$elements.emailError.optShow();this.$elements.emailError.optHide()}if(t&&i){if(!this.isEmail(t)&&!this.isPhone(t))return void this.$elements.contactInfoError.optShow();this.$elements.contactInfoError.optHide()}return!0},isEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},isPhone:function(e){var t=e.replace("+",""),i=/^\d+$/;if(!(t.length<11||t.length>13))return i.test(t)},prepareCloseData:function(){var e=this.$elements.email.val(),t=this.$elements.emailPhone.val(),i=this.$elements.comment.val(),o="",a=_options2.default.byeFormExist,s=-1;return this.$elements.yes.is(":checked")&&(s=1),this.$elements.no.is(":checked")&&(s=0),{rating:s,mail:e,contact:t,comment:i,session:o,byeForm:a}},dispose:function(){_apiChannel2.default.request("containerView:resetFirstClose"),this.byeFormView&&(this.byeFormView.remove(),this.byeFormView=null),_apiChannel2.default.request("containerView:disposeCloseDialogView")}});exports.default=CloseDialogView,module.exports=exports.default;
},{"../api-channel":135,"../lib/close-state":143,"../lib/options":150,"../models/chat":159,"../models/message":162,"../templates/back-button.hbs":165,"../templates/close-dialog-norate.hbs":167,"../templates/close-dialog.hbs":168,"./base-view":186,"./bye-form-view":187}],189:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _console=require("../templates/console.hbs"),_console2=_interopRequireDefault(_console),_baseView=require("./base-view"),_baseView2=_interopRequireDefault(_baseView),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_resize=require("../lib/resize.js"),_resize2=_interopRequireDefault(_resize),_utils=require("../lib/utils"),_utils2=_interopRequireDefault(_utils),_twemoji=require("twemoji"),_twemoji2=_interopRequireDefault(_twemoji),_config=require("../config"),_config2=_interopRequireDefault(_config),_sendbar=require("../models/sendbar"),_sendbar2=_interopRequireDefault(_sendbar),_sendbarView=require("./sendbar/sendbar-view"),_sendbarView2=_interopRequireDefault(_sendbarView),_smilesView=require("./smiles-view"),_smilesView2=_interopRequireDefault(_smilesView),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),ConsoleView=_baseView2.default.extend({subviews:[],events:{'click [data-el="smiles"]':"onSmilesClick",'click [data-el="sendFile"]':"onSendFileClick",'click [data-el="sendText"]':"onSendText",'keydown [data-el="console"]':"onConsoleKeydown",'keyup [data-el="console"]':"onConsoleKeyup",'change [data-el="inputMedia"]':"onInputMediaChange",'change [data-el="inputImage"]':"onInputMediaChange"},initialize:function(e){var i=this;this.options=e.appOptions,this.render(),this.initChannelHanlders(),this.userTyping=_underscore2.default.throttle(function(){_apiChannel2.default.request("apiCall","typing",{chatId:"user+"+_options2.default.companyId,text:i.$elements.console.val().trim()||""},{},{notRetry:!0})},5e3,{trailing:!0})},initChannelHanlders:function(){var e=this;_apiChannel2.default.reply("consoleView:cleanTextarea",function(){e.cleanTextarea()}),_apiChannel2.default.reply("sendMedia",function(i){e.sendMediaHandler(i)}),_apiChannel2.default.reply("consoleView:insertEmoji",function(i){e.insertEmojiChar(i)}),_apiChannel2.default.reply("consoleView:hideSmiles",function(){e.hideSmilesView()})},render:function(){this.$el.html((0,_console2.default)()),this.setElements(),this.initTextAreaResize(),this.renderSendBar()},renderSendBar:function(){var e=new _sendbarView2.default({model:_sendbar2.default});this.$(".widget-footer-sendbar").html(e.render())},initTextAreaResize:function(){this.$elements.console.textareaAutoSize({callback:function(){var e=90;(0,_jquery2.default)(".widget-chat").css("height","calc(100% - 36px - "+(e+((0,_jquery2.default)(".widget-footer-console-input-content").height()-18))+"px)")}})},onSmilesClick:function(e){},onSendFileClick:function(e){this.$elements.inputMedia.trigger("click")},onSendImageClick:function(){this.$elements.inputImage.trigger("click")},onGeoClick:function(){_utils2.default.sendGeoLocation()},onStickerClick:function(e){this.showSmilesView(e)},onTwitchClick:function(){_apiChannel2.default.request("apiRequest","alert",{model:{type:"kickass"}})},onConsoleKeydown:function(e){if(13===e.which&&!e.ctrlKey&&!e.shiftKey){e.preventDefault(),e.stopPropagation();var i=e.currentTarget.value.trim();if(!i)return;e.currentTarget.value="",_apiChannel2.default.request("addTextMessage",this.replaceEmoji(i))}},onSendText:function(){var e=this.$elements.console.val().trim();e&&(this.$elements.console.val(""),this.$elements.console.keyup(),_apiChannel2.default.request("addTextMessage",this.replaceEmoji(e)),this.hideSmilesView())},onConsoleKeyup:function(){this.userTyping()},onInputMediaChange:function(e){var i=e.currentTarget.files[0];e.currentTarget.innerHTML=e.currentTarget.innerHTML,this.uploadAndSendFile(i)},sendMediaHandler:function(e){switch(e){case"file":this.onSendFileClick();break;case"twitch":this.onTwitchClick();break;case"photo":this.onSendImageClick();break;case"location":this.onGeoClick();break;case"smile":case"sticker":this.onStickerClick(e)}},uploadAndSendFile:function(e){var i,n=this,t=e.size,a=5242880,s=1600,l=400;if(t>104857600)return void alert("Файл слишком большой!");var i,r={image:["png","jpg","gif","jpeg"],audio:["mp3"],video:["mp4"]},o=function(e){return r.image.indexOf(e)>-1},u=Object.getOwnPropertyNames(r).join("|"),d=new RegExp("("+u+").*/"),c=e.type,f=/\.[0-9a-z]+$/i,p=d.test(e.type)?e.type.match(d)[1]:null,m=f.test(e.name)?e.name.match(f)[0].substr(1):"";m=m.toLowerCase();var h=new FileReader;h.onload=function(u){i=e.name.replace(/[^a-zA-Zа-яА-Я-\._]+/g,"-");if(o(m)&&"gif"!==m){var f=new Image;f.onload=function(e){if(t<a){var r=[];f.width>s||f.height>s?r.push(_resize2.default.upload(_resize2.default.convert(c,f,s,!1),i,m,n.app)):r.push(_resize2.default.upload(f.src,i,m,n.app)),(f.width>l||f.height>l)&&r.push(_resize2.default.upload(_resize2.default.convert(c,f,l,!0,!0),i,m,n.app)),Promise.all(r).then(function(e){var i=!!e[1]&&{preview:e[1]};n.sendMedia(e[0],m,p,i)})}else _resize2.default.upload(h.result,i,m,n.app).then(function(e){n.sendFile(e,m,{name:i,size:t})})},f.src=h.result}else _resize2.default.upload(h.result,i,m).then(function(a){e.type.match(d)&&p&&_underscore2.default.indexOf(r[p],m)!==-1?n.sendMedia(a,m,p):n.sendFile(a,m,{name:i,size:t})})},h.readAsDataURL(e)},sendMedia:function(e,i,n,t){var a={model:{type:i,url:e},class:n,companyId:"sender",from:_options2.default.userId||"me"};t&&_underscore2.default.extend(a.model,t),_apiChannel2.default.request("addMessage",a)},sendFile:function(e,i,n){var t={model:{type:i,url:e},class:"file",companyId:"sender",from:_options2.default.userId||"me"};n&&_underscore2.default.extend(t.model,n),_apiChannel2.default.request("addMessage",t)},showSmilesView:function(e){if(this.removeSmileHandler("mouseup.smile"),!this.smilesView){var i=new _smilesView2.default;this.$elements.smiles.append(i.render()),this.smilesView=i}this.$elements.smiles.optShow(),_apiChannel2.default.request("containerView:addSmilesClass"),this.addSmileHandler("mouseup.smile"),_apiChannel2.default.request("smilesView:toggleList",e)},hideSmilesView:function(){this.smilesView&&(this.$elements.smiles.optHide(),_apiChannel2.default.request("containerView:removeSmilesClass"),this.removeSmileHandler())},insertEmojiChar:function(e){var i=this.$('[data-el="console"]'),n=i.val();i.val(n+"(:smile"+e.emojiId+":)")},replaceEmoji:function(e){var i=/\(\:smile(\d*)\:\)/g;return e=e.replace(i,function(e){var i=_config2.default.emojiCharsObject[e];if(i)return""+_twemoji2.default.convert.fromCodePoint(i)})},cleanTextarea:function(){this.$elements.console.val("")},addSmileHandler:function(e){var i=this,n=["sf_smile_icon","emoji","sf_sticker","sticker_img","nano-pane","nano-slider"];(0,_jquery2.default)(document).on(e,function(t){n.includes(t.target.className.split(" ")[0])||(i.hideSmilesView(),i.removeSmileHandler(e))})},removeSmileHandler:function(e){(0,_jquery2.default)(document).off(e)}});exports.default=ConsoleView,module.exports=exports.default;
},{"../api-channel":135,"../config":138,"../lib/options":150,"../lib/resize.js":152,"../lib/utils":155,"../models/sendbar":163,"../templates/console.hbs":169,"./base-view":186,"./sendbar/sendbar-view":206,"./smiles-view":207,"jquery":112,"twemoji":129,"underscore":130}],190:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_contactCard=require("../templates/contact-card.hbs"),_contactCard2=_interopRequireDefault(_contactCard),_formMessageView=require("./message/form-message-view"),_formMessageView2=_interopRequireDefault(_formMessageView),_fml=require("../lib/fml"),_fml2=_interopRequireDefault(_fml),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_membersCollection=require("../collections/members-collection"),_membersCollection2=_interopRequireDefault(_membersCollection),_config=require("../config"),_config2=_interopRequireDefault(_config),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),ContactCardView=_formMessageView2.default.extend({className:"widget-contact-card-container widget-hidden",_modelMixin:{},initialize:function(){var e=this;this.listenTo(this.model,"change:view",this.render),_apiChannel2.default.reply("addContactCard",function(t){t.from===_options2.default.companyId&&e.model.set("view",t.view)})},render:function(){return this._modelMixin={},this.$el.html((0,_contactCard2.default)()),this.insertJsonView(!0),this.linkifyElements(),this.addViewLinkElements(),this.$el},processMeta:function(e){var t,i=/\{\{\!meta.(?:!user|[a-f0-9\-]+).(name|photo|phone|desc)\}\}/g;return t=e.match(i),t&&t.forEach(function(t){var i,r="";if(i=t.replace("{{!","").replace("}}","").split(".")){if("!user"===i[1]){var n=_membersCollection2.default.getByUserId(_options2.default.companyId);n&&(r=n.get(i[2])||"","phone"===i[2]&&(r=n.getPhone()),"photo"===i[2]&&(r=n.get("photo")),"name"===i[2]&&(r=n.get("name")),"desc"===i[2]&&(r=n.get("description")))}e=e.replace(t,r.replace(/"/g,'\\"'))}}),e},handleButton:function(e){e.preventDefault(),e.stopPropagation()},sendForm:function(e){if(this.isActive()){var t=this.$("form").serializeArray(),i={};_underscore2.default.each(t,function(e){i[e.name]=e.value.replace(/\r\n/g,"\n")}),this.$('input[type="checkbox"]').each(function(){i[(0,_jquery2.default)(this).attr("name")]=!!(0,_jquery2.default)(this).is(":checked")}),Object.getOwnPropertyNames(this._modelMixin).length>0&&(i=_underscore2.default.extend(i,this._modelMixin)),_apiChannel2.default.request("output",e||this.model.getClass(),{model:i}),_apiChannel2.default.request("containerView:hideContactCard")}},preventSubmit:function(e){13==e.keyCode&&e.preventDefault()}});exports.default=ContactCardView,module.exports=exports.default;
},{"../api-channel":135,"../collections/members-collection":136,"../config":138,"../lib/fml":144,"../lib/options":150,"../templates/contact-card.hbs":170,"./message/form-message-view":195,"jquery":112,"underscore":130}],191:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_nanoscroller=require("nanoscroller"),_nanoscroller2=_interopRequireDefault(_nanoscroller),_utils=require("../lib/utils"),_utils2=_interopRequireDefault(_utils),_container=require("../templates/container.hbs"),_container2=_interopRequireDefault(_container),_baseView=require("./base-view"),_baseView2=_interopRequireDefault(_baseView),_membersCollection=require("../collections/members-collection"),_membersCollection2=_interopRequireDefault(_membersCollection),_form=require("../models/form"),_form2=_interopRequireDefault(_form),_message=require("../models/message"),_message2=_interopRequireDefault(_message),_messagesView=require("./messages-view"),_messagesView2=_interopRequireDefault(_messagesView),_consoleView=require("./console-view"),_consoleView2=_interopRequireDefault(_consoleView),_contactCardView=require("./contact-card-view"),_contactCardView2=_interopRequireDefault(_contactCardView),_restartDialogView=require("./restart-dialog-view"),_restartDialogView2=_interopRequireDefault(_restartDialogView),_offlineFormView=require("./offline-form-view"),_offlineFormView2=_interopRequireDefault(_offlineFormView),_closeDialogView=require("./close-dialog-view"),_closeDialogView2=_interopRequireDefault(_closeDialogView),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),ContainerView=_baseView2.default.extend({subviews:[],events:{'click [data-el="minimize"]':"onMinimizeClick",'click [data-el="close"]':"onCloseClick",'click [data-el="contactCard"]':"toggleContactCard"},isFirstCloseClick:!1,isSecondCloseClick:!1,closeDialogEmptyData:{rating:-1,mail:"",contact:"",comment:"",session:"",byeForm:!1},initialize:function(){this.setOptions(),this.render(),this.setCompanyId(),this.setPosition(),this.addChildViews(),this.renderContactCard(),this.initChannelHadlers()},setOptions:function(){this.options=_options2.default},initChannelHadlers:function(){var e=this;_apiChannel2.default.reply("containerView:hideContactCard",function(){e.hideContactCard()}),_apiChannel2.default.reply("containerView:showContactCard",function(){e.showContactCard()}),_apiChannel2.default.reply("containerView:showRestartDialogView",function(){e.showRestartDialogView()}),_apiChannel2.default.reply("containerView:showOfflineForm",function(t){e.showOfflineForm(t)}),_apiChannel2.default.reply("containerView:disposeOfflineForm",function(){e.disposeOfflineForm()}),_apiChannel2.default.reply("containerView:showCloseDialogView",function(){e.showCloseDialogView()}),_apiChannel2.default.reply("containerView:disposeCloseDialogView",function(){e.disposeCloseDialogView()}),_apiChannel2.default.reply("containerView:resetFirstClose",function(){e.isFirstCloseClick=!1}),_apiChannel2.default.reply("containerView:reinitScroll",function(t){e.initScroller(t)}),_apiChannel2.default.reply("containerView:addSmilesClass",function(){e.toggleSmilesClass("add")}),_apiChannel2.default.reply("containerView:removeSmilesClass",function(){e.toggleSmilesClass("remove")}),_apiChannel2.default.reply("containerView:offlineReceived",function(){e.offlineReceived=!0}),_apiChannel2.default.reply("containerView:triggerClose",function(){e.$('[data-el="close"]').trigger("click"),e.hideConsole()}),_apiChannel2.default.reply("containerView:showConsole",function(){e.checkEmbedMode()||e.showConsole()}),_apiChannel2.default.reply("containerView:hideConsole",function(){e.checkEmbedMode()||(e.hideConsole(),e.initScroller())}),_apiChannel2.default.reply("containerView:resetCloseClicks",function(){e.isFirstCloseClick=!1,e.isSecondCloseClick=!1})},initScroller:function(e){var t=this;!this.checkEmbedMode()&&this.$(".nano").is(":visible")&&setTimeout(function(){_utils2.default.checkIsVisible()&&(e?t.$(".nano").nanoScroller(e):t.$(".nano").nanoScroller())},0)},setCompanyId:function(){this.companyId=_options2.default.companyId},prepareTemplateData:function(e){var t=_membersCollection2.default.getByUserId(_options2.default.companyId),i={},o="./images/default-company.png",n="./images/company-logo.png";return _options2.default.ownButtonLogo?i.companyLogo=t&&t.get("photo")?t.get("photo"):o:i.companyLogo=n,i.ownLogo=_options2.default.ownButtonLogo,i.hideMinimize=_options2.default.hideMinimize||!!_options2.default.embedTo||!1,i.isEmbedMode=_options2.default.embedMode,i},setPosition:function(){var e={top:{left:"top-left",center:"top-center",right:"top-right"},bottom:{left:"bottom-left",center:"bottom-center",right:"bottom-right"},left:{top:"left-top",center:"left-center",bottom:"left-bottom"},right:{top:"right-top",center:"right-center",bottom:"right-bottom"}},t="bottom-right",i="Online help",o="Chat with us",n=void 0,s=void 0;_options2.default&&(_options2.default.side&&_options2.default.position&&(n=e[_options2.default.side][_options2.default.position]),_options2.default.side&&_options2.default.position||(n=t),s="trans"===_options2.default.text_layout?"trans":""),n||(n=t),_options2.default.setOptions({className:n});var l={title:"renderButton",header:i,className:n,showButton:_options2.default.showButton,color:_options2.default.color};_options2.default.title&&_options2.default.online?(l.header=_options2.default.title,this.setTitleToHeader(_options2.default.title)):_options2.default.title_offline&&!_options2.default.online?(l.header=_options2.default.title_offline,this.setTitleToHeader(_options2.default.title_offline)):_options2.default.title_offline||_options2.default.online||(l.header=o,this.setTitleToHeader(o)),l.charClass=s?s:"",_options2.default.ownButtonLogo&&(l.companyLogo=_options2.default.companyLogo),_options2.default&&_options2.default.hasOwnProperty("showButton")&&(l.showButton=_options2.default.showButton,_options2.default.showButton||_apiChannel2.default.request("sendPostMessage",{title:"resetState"})),_apiChannel2.default.request("sendPostMessage",l)},setTitleToHeader:function(e){this.$(".widget-header-head").text(e)},addChildViews:function(){var e=new _messagesView2.default({el:this.$elements.chat}),t=new _consoleView2.default({el:this.$(".widget-footer"),appOptions:_options2.default});this.subviews.push(e,t)},renderContactCard:function(){var e=new _form2.default;e.setCompanyId(_options2.default.companyId),e.fetchContactCard();var t=new _contactCardView2.default({model:e});t.render().insertBefore(this.$(".widget-chat-content"))},render:function(){this.$el.html((0,_container2.default)(this.prepareTemplateData(_options2.default))),this.setElements()},onMinimizeClick:function(){this.postToggleButtonMessage()},checkEmbedMode:function(){return _options2.default.embedMode},onCloseClick:function(e){return this.offlineReceived?(this.offlineReceived=!1,this.disposeOfflineForm(),void _apiChannel2.default.request("main:cleanHistoryAndToggle")):this.isFirstCloseClick?this.isSecondCloseClick?void 0:(this.isSecondCloseClick=!0,void _apiChannel2.default.request("main:callCloseAPI",this.closeDialogEmptyData)):(this.isFirstCloseClick=!0,this.showCloseDialogView(),void(_options2.default.byeFormExist&&this.requestByeForm()))},showRestartDialogView:function(){this.$elements.wrapper.append((new _restartDialogView2.default).render())},showOfflineForm:function(e){var t=new _message2.default(e);this.offlineFormView=new _offlineFormView2.default({model:t}),this.$elements.wrapper.append(this.offlineFormView.render())},disposeOfflineForm:function(){this.offlineFormView&&(this.offlineFormView.remove(),this.offlineFormView=null)},showCloseDialogView:function(){this.closeView||this.$(".widget-external-link-container").length||(this.closeView=new _closeDialogView2.default,this.$elements.wrapper.append(this.closeView.render()))},disposeCloseDialogView:function(){this.closeView&&(this.closeView.remove(),this.closeView=null)},toggleContactCard:function(){this.$(".widget-chat-content").optToggle(),this.$(".widget-contact-card-container").optToggle(),this.$elements.contactCard.toggleClass("sender-card-active")},hideContactCard:function(){this.$(".widget-contact-card-container").optHide(),this.$(".widget-chat-content").optShow(),this.$elements.contactCard.removeClass("sender-card-active"),_apiChannel2.default.request("messagesView:scrollToBottom")},showContactCard:function(){this.$(".widget-contact-card-container").optShow(),this.$(".widget-chat-content").optHide(),this.$elements.contactCard.addClass("sender-card-active")},postToggleButtonMessage:function(){_apiChannel2.default.request("sendPostMessage",{title:"toggleButton"})},toggleSmilesClass:function(e){this.$elements.chat.css("height","calc(100% - 36px - "+("add"===e?180:90)+"px)"),this.initScroller()},hideConsole:function(){this.$(".widget-footer").optHide(),this.$elements.chat.css("height","calc(100% - 36px)")},showConsole:function(){this.$(".widget-footer").optShow(),this.$elements.chat.css("height","calc((100% - 36px) - 90px)")},requestByeForm:function(){_apiChannel2.default.request("main:requestByeForm")}});exports.default=ContainerView,module.exports=exports.default;
},{"../api-channel":135,"../collections/members-collection":136,"../lib/options":150,"../lib/utils":155,"../models/form":160,"../models/message":162,"../templates/container.hbs":171,"./base-view":186,"./close-dialog-view":188,"./console-view":189,"./contact-card-view":190,"./messages-view":200,"./offline-form-view":201,"./restart-dialog-view":202,"jquery":112,"nanoscroller":125,"underscore":130}],192:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_apiChannel=require("../../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_membersCollection=require("../../collections/members-collection"),_membersCollection2=_interopRequireDefault(_membersCollection),_app=require("../../models/app"),_app2=_interopRequireDefault(_app),MessageBaseView=_exoskeleton2.default.View.extend({className:function(){var e=["sf_chat_msg","sf_chat_msg_first"];return this.model.isOwn()&&e.push("sf_chat_msg_my"),this.model.isSending()&&e.push("sf_chat_msg_sending"),e.join(" ")},attributes:function(){return{"data-id":this.model.get("id"),"data-from":this.model.get("from")||"me"}},initialize:function(){this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"change:status",this.onChangeStatus)},prepareTemplateData:function(){var e={};return e.date=moment(this.model.get("created")||+new Date).format("HH:mm"),e=_underscore2.default.extend(e,this.getUserInfo())},getUserInfo:function(){var e={};return e=this.model.isOwn()?this.getUserInfoById(this.model.get("from")):this.getUserInfoFromMessage()},getUserInfoById:function(e){return{photo:this.getUserPhoto(e),fromName:this.getUserName(e)}},getUserPhoto:function(e){var t=_membersCollection2.default.getByUserId(e),r="./images/default-user-new.png";return t&&(r=t.get("photo")||"./images/default-user-new.png"),r},getUserName:function(e){var t=_membersCollection2.default.getByUserId(e),r=this.model.isOwn()?"You":"Operator";return t&&(r=t.get("name")||(this.model.isOwn()?"You":"Operator")),r},getUserInfoFromMessage:function(){return{photo:this.model.get("fromPhoto")||this.getUserPhoto(this.model.get("from")),fromName:this.model.get("fromName")||this.getUserName(this.model.get("from"))}},getDate:function(e){var t=new Date(+e),r=new Date,a=this.prepareDateParam(t.getHours()),o=this.prepareDateParam(t.getMinutes()),s="";return r.getDay()!==t.getDay()&&(s+="en"===_app2.default.get("locale")?this.prepareDateParam(t.getMonth()+1)+"/"+this.prepareDateParam(t.getDate()):this.prepareDateParam(t.getDate())+"."+this.prepareDateParam(t.getMonth()+1)),s+=" "+a+":"+o},prepareDateParam:function(e){return e<10?"0"+e:e},attachImageLoad:function(){var e=this;this.$("img").on("load",function(){e.onImageLoad()})},onImageLoad:function(){_apiChannel2.default.request("messageView:scrollToBottom")},onChangeStatus:function(){this.model.isSending()?this.$el.addClass("sf_chat_msg_sending"):this.$el.removeClass("sf_chat_msg_sending")}});exports.default=MessageBaseView,module.exports=exports.default;
},{"../../api-channel":135,"../../collections/members-collection":136,"../../models/app":158,"exoskeleton":92,"underscore":130}],193:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _coordsMessage=require("../../templates/coords-message.hbs"),_coordsMessage2=_interopRequireDefault(_coordsMessage),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_baseMessageView=require("./base-message-view"),_baseMessageView2=_interopRequireDefault(_baseMessageView);exports.default=_baseMessageView2.default.extend({render:function(){return this.$el.html((0,_coordsMessage2.default)(this.prepareTemplateData())),this.$el.attr(_underscore2.default.extend({},_underscore2.default.result(this,"attributes"))),this.$el},prepareTemplateData:function(){var e={};return e.date=this.getDate(this.model.get("created")||+new Date),e.textMsg=this.model.get("textMsg"),e.lat=this.model.get("lat"),e.lon=this.model.get("lon"),e.isOwn=this.model.isOwn(),e=_underscore2.default.extend(e,this.getUserInfo())}}),module.exports=exports.default;
},{"../../templates/coords-message.hbs":172,"./base-message-view":192,"underscore":130}],194:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _fileMessage=require("../../templates/file-message.hbs"),_fileMessage2=_interopRequireDefault(_fileMessage),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_baseMessageView=require("./base-message-view"),_baseMessageView2=_interopRequireDefault(_baseMessageView),_xssFilters=require("xss-filters"),_xssFilters2=_interopRequireDefault(_xssFilters),FileView=_baseMessageView2.default.extend({render:function(){return this.$el.html((0,_fileMessage2.default)(this.prepareTemplateData())),this.$el.attr(_underscore2.default.extend({},_underscore2.default.result(this,"attributes"))),this.$el},prepareTemplateData:function(){var e={};return e.date=this.getDate(this.model.get("created")||+new Date),e.fileSource=_xssFilters2.default.uriInDoubleQuotedAttr(this.model.get("url")),e.fileName=this.model.get("url").split("/").pop(),e.isOwn=this.model.isOwn(),e=_underscore2.default.extend(e,this.getUserInfo())}});exports.default=FileView,module.exports=exports.default;
},{"../../templates/file-message.hbs":173,"./base-message-view":192,"underscore":130,"xss-filters":134}],195:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getFileIdFromToAndView(e,t){return _xssFilters2.default.inDoubleQuotedAttr("file_"+e+"_"+t)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_formMessage=require("../../templates/form-message.hbs"),_formMessage2=_interopRequireDefault(_formMessage),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_fml=require("../../lib/fml"),_fml2=_interopRequireDefault(_fml),_resize=require("../../lib/resize"),_resize2=_interopRequireDefault(_resize),_apiChannel=require("../../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_baseMessageView=require("./base-message-view"),_baseMessageView2=_interopRequireDefault(_baseMessageView),_config=require("../../config"),_config2=_interopRequireDefault(_config),_options=require("../../lib/options"),_options2=_interopRequireDefault(_options),_xssFilters=require("xss-filters"),_xssFilters2=_interopRequireDefault(_xssFilters),FormView=_baseMessageView2.default.extend({initialize:function(){var e=this;this.listenTo(this.model,"change",function(){e.render(),_apiChannel2.default.request("scrollHeightUpdated")}),this.showPreloader=_options2.default.showPreloader},className:"widget-message-content-form",_modelMixin:{},events:{"click button":"handleButton","mouseup .sender_form_has_action":"handleAction",keypress:"preventSubmit","change .input-file-hidden":"uploadFile"},actionsAllowedElements:["col","row","button","radio","select","img"],viewLinkAllowedElements:["col","row","img","button"],render:function(){return this._modelMixin={},this.hideSubmitClass(),this.$el.html((0,_formMessage2.default)(this.prepareTemplateData())),this.insertJsonView(),this.$el.attr(_underscore2.default.extend({},_underscore2.default.result(this,"attributes"))),this.attachImageLoad(),this.linkifyElements(),this.addViewLinkElements(),this.$el},insertJsonView:function(e){var t=void 0,i=void 0;if(this.model&&this.model.get("view")){this.$("form").empty(),i=this.model.toJSON().view,this.handleViewState(i);try{t=JSON.stringify(i),e&&(t=this.processMeta(t)),t=this.escapeXSS(t),t=this.cutUnsafeContent(t),i=JSON.parse(t)}catch(e){}_fml2.default.parseElement(i,{$el:this.$("form")})}},handleViewState:function(e){e.state&&"disable"==e.state?(this.$("form").addClass("sf_form_disabled"),this.undelegateEvents(),this.bindPreventFormSubmit()):(this.$("form").removeClass("sf_form_disabled"),this.delegateEvents())},linkifyElements:function(){this.$el.linkify({linkify:"_blank"})},prepareTemplateData:function(){var e={};return e.date=this.getDate(this.model.get("created")||+new Date),e.id=this.model.get("id"),e},handleButton:function(e){e.preventDefault(),e.stopPropagation();var t=(0,_jquery2.default)(e.currentTarget);t.hasClass("sender_form_has_action")||(t.attr("name")&&(this._modelMixin[t.attr("name")]=t.val()),this.sendForm())},handleAction:function(e){e.preventDefault(),e.stopPropagation();var t,i=(0,_jquery2.default)(e.currentTarget);if((i.data("action")||i.data("actions"))&&this.actionsAllowedElements.indexOf(i.data("type"))!==-1){try{t=i.data("action")?JSON.parse(i.data("action")):JSON.parse(i.data("actions"))}catch(e){}t&&(i.attr("name")&&(this._modelMixin[i.attr("name")]=i.val()),Array.isArray(t)?this.callActions(t):this.callActions([t]))}},preventViewLink:function(e){e.preventDefault()},sendForm:function(e,t,i){if(this.isActive()){var n=this.$el.find("form").serializeArray(),a={};_underscore2.default.each(n,function(e){a[e.name]=e.value.replace(/\r\n/g,"\n")}),this.$el.find('input[type="checkbox"]').each(function(){a[(0,_jquery2.default)(this).attr("name")]=!!(0,_jquery2.default)(this).is(":checked")}),Object.getOwnPropertyNames(this._modelMixin).length>0&&(a=_underscore2.default.extend(a,this._modelMixin)),this.disableForm();var r={model:a,chatId:t||this.model.get("chatId")};i||(r.procId=this.model.get("procId")),_apiChannel2.default.request("output",e||this.model.getClass(),r),this._modelMixin={}}},callActions:function(e){var t=this;e.forEach(function(e){switch(e.data&&_underscore2.default.isObject(e.data)&&_underscore2.default.extend(t._modelMixin,e.data),e.oper){case"callRobotInP2PChat":case"callRobot":t.sendForm(e.class,null,!0);break;case"chooseFile":t.openFileDialog(e.to,e.view)}})},disableForm:function(e){this.$el.find("input,textarea,button,select").each(function(){(0,_jquery2.default)(this).attr("disabled",!0)}),this.$("form").addClass("sf_form_disabled"),this.showPreloader&&this.$el.addClass("sf_form_submit")},isActive:function(e){return!this.$el.hasClass("sf_form_submit")&&!this.$("form").hasClass("sf_form_disabled")},preventSubmit:function(e){13==e.keyCode&&this.$("button").length>1&&"TEXTAREA"!==(0,_jquery2.default)(e.target).prop("tagName")&&e.preventDefault()},onFileChange:function(e,t,i){var n=i.currentTarget.files[0];n&&this.uploadFile(i,e,t)},openFileDialog:function(e,t){var i=getFileIdFromToAndView(e,t),n=this.$el.find("#"+i);n.length||(n=(0,_jquery2.default)('<input type="file" class="widget-hidden" id="'+i+'" />'),this.$("form").append(n),n.on("change",this.onFileChange.bind(this,e,t))),n.trigger("click")},uploadFile:function(e,t,i){var n=this,a=e.currentTarget.files[0],r=e.currentTarget.name,o=a.size;if(o>104857600)return void alert("File can not exceed 100 MB!");this.showSubmitClass();var s=/\.[0-9a-z]+$/i,l=/[^a-zA-Zа-яА-Я0-9-\._]+/g,u=s.test(a.name)?a.name.match(s)[0].substr(1).toLowerCase():"",d=new FileReader;d.onerror=function(){n.onFileUploadError(t,i)},d.onload=function(){var e=a.name.replace(l,"-");_resize2.default.upload(d.result,e,u).then(function(e){n.hideSubmitClass(),t?n.setElementValue(t,e):n._modelMixin[r]=e,i&&n.setElementView(i,e)}).catch(function(){n.onFileUploadError(t,i)})},d.readAsDataURL(a)},onFileUploadError:function(e,t){if(this.hideSubmitClass(),e&&t){var i="input#"+getFileIdFromToAndView(e,t);this.$el.find(i).replaceWith(this.$el.find(i).clone(!0))}alert("File upload error")},setElementValue:function(e,t){var i=this.$el.find('[name="'+e+'"]');i.length?this._modelMixin[e]=t:console.error("Warning: FML: Can't find or change value for element with name=`"+e+"`")},setElementView:function(e,t){var i=this.$el.find('[name="'+e+'"]');i.length?"IMG"!==i.get(0).tagName?console.error("Warning: FML: Param `view` in action `chooseFile` should be name of img element"):i.attr("src",t):console.error("Warning: FML: Can't find or change value for element with name=`"+e+"`")},bindPreventFormSubmit:function(){this.$("form").on("submit",function(e){e.preventDefault(),e.stopPropagation()})},hideSubmitClass:function(){this.$el.removeClass("sf_form_submit")},showSubmitClass:function(){this.$el.removeClass("sf_form_submit")},addViewLinkElements:function(){this.$(".sender_form_has_action").each(function(){var e=this,t=(0,_jquery2.default)(this).data("action"),i=(0,_jquery2.default)(this).data("actions"),n=(0,_jquery2.default)(this).data("type");if(t||i)try{var a=function(){var a=void 0,r=void 0;return t&&(a=JSON.parse(t)),i&&(r=JSON.parse(i)),a&&a.length||r&&r.length?void(a||r).forEach(function(o){if("viewLink"===o.oper&&o.link){var s=(0,_jquery2.default)(e).parent();if(s){s.css("position","relative");var l='<a target="_blank" class="fml-view-link sender_form_has_action"></a>',u=(0,_jquery2.default)(l);u.attr("href",_xssFilters2.default.uriInDoubleQuotedAttr(o.link)),a&&u.data("action",t),r&&u.data("actions",i),n&&u.data("type",n),s.append(u)}}}):{v:void 0}}();if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}catch(e){console.log(e)}})},escapeXSS:function(e){var t,i;return t={"<":"&lt",">":"&gt;"},i=Object.getOwnPropertyNames(t),e.replace(new RegExp("(?:"+i.join("|")+")","g"),function(e){return t[e]})},cutUnsafeContent:function(e){for(var t,i=/"(?:src|bg)":"([^"#]*)(?:")/g,n=e;t=i.exec(n);){var a=!0,r=t[1];r&&(_config2.default.fml.imageAllowedDomains.forEach(function(e){0===r.indexOf(e)&&(a=!1)}),a&&(e=e.replace(r,"https://import.sender.mobi/"+r.replace("http://",""))))}return e}});exports.default=FormView,module.exports=exports.default;
},{"../../api-channel":135,"../../config":138,"../../lib/fml":144,"../../lib/options":150,"../../lib/resize":152,"../../templates/form-message.hbs":174,"./base-message-view":192,"jquery":112,"underscore":130,"xss-filters":134}],196:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _imageMessage=require("../../templates/image-message.hbs"),_imageMessage2=_interopRequireDefault(_imageMessage),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_baseMessageView=require("./base-message-view"),_baseMessageView2=_interopRequireDefault(_baseMessageView),_xssFilters=require("xss-filters"),_xssFilters2=_interopRequireDefault(_xssFilters),ImageView=_baseMessageView2.default.extend({render:function(){return this.$el.html((0,_imageMessage2.default)(this.prepareTemplateData())),this.$el.attr(_underscore2.default.extend({},_underscore2.default.result(this,"attributes"))),this.attachImageLoad(),this.$el},prepareTemplateData:function(){var e={};return e.date=this.getDate(this.model.get("created")||+new Date),e.imageSource=_xssFilters2.default.uriInDoubleQuotedAttr(this.model.get("url")||""),e.fileName=this.model.get("url").split("/").pop(),e.isOwn=this.model.isOwn(),e=_underscore2.default.extend(e,this.getUserInfo())}});exports.default=ImageView,module.exports=exports.default;
},{"../../templates/image-message.hbs":175,"./base-message-view":192,"underscore":130,"xss-filters":134}],197:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_notifyMessage=require("../../templates/notify-message.hbs"),_notifyMessage2=_interopRequireDefault(_notifyMessage),_baseMessageView=require("./base-message-view"),_baseMessageView2=_interopRequireDefault(_baseMessageView),_membersCollection=require("../../collections/members-collection"),_membersCollection2=_interopRequireDefault(_membersCollection),NotifyView=_baseMessageView2.default.extend({className:"widget-message-notify",render:function(){return this.$el.html((0,_notifyMessage2.default)(this.prepareTemplateData())),this.$el},isDeleteNotification:function(){return"del"===this.model.get("type")},isAddNotification:function(){return"add"===this.model.get("type")},isLeaveNotification:function(){return"leave"===this.model.get("type")},prepareTemplateData:function(){var e=void 0;return this.isAddNotification()&&(e=this.prepareNotifyText()),{text:e}},prepareNotifyText:function(){var e=this.model.get("users"),t="Operator joined the chat";return e&&e.length?(t=e.map(function(e){return e.name}).join(", "),t+" joined to chat"):t}});exports.default=NotifyView,module.exports=exports.default;
},{"../../collections/members-collection":136,"../../templates/notify-message.hbs":177,"./base-message-view":192,"exoskeleton":92,"underscore":130}],198:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _stickerMessage=require("../../templates/sticker-message.hbs"),_stickerMessage2=_interopRequireDefault(_stickerMessage),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_config=require("../../config"),_config2=_interopRequireDefault(_config),_baseMessageView=require("./base-message-view"),_baseMessageView2=_interopRequireDefault(_baseMessageView);exports.default=_baseMessageView2.default.extend({render:function(){return this.$el.html((0,_stickerMessage2.default)(this.prepareTemplateData())),this.$el.attr(_underscore2.default.extend({},_underscore2.default.result(this,"attributes"))),this.$el},prepareTemplateData:function(){var e={};return e.date=this.getDate(this.model.get("created")||+new Date),e.stickerPath=""+_config2.default.stickersPath+this.model.get("modelId")+".png",e.stickerClass=this.setStickerClass(),e.isOwn=this.model.isOwn(),e=_underscore2.default.extend(e,this.getUserInfo())},setStickerClass:function(){var e=this,t=_underscore2.default.find(_config2.default.stickersList,function(t){return t.id===e.model.get("modelId")}),s="";return t&&(s=t.type),s}}),module.exports=exports.default;
},{"../../config":138,"../../templates/sticker-message.hbs":184,"./base-message-view":192,"underscore":130}],199:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _textMessage=require("../../templates/text-message.hbs"),_textMessage2=_interopRequireDefault(_textMessage),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_baseMessageView=require("./base-message-view"),_baseMessageView2=_interopRequireDefault(_baseMessageView),_twemoji=require("twemoji"),_twemoji2=_interopRequireDefault(_twemoji),_config=require("../../config"),_config2=_interopRequireDefault(_config),TextMessageView=_baseMessageView2.default.extend({attributes:function(){return{"data-id":this.model.get("id")}},render:function(){var e=(0,_textMessage2.default)(this.prepareTemplateData());return this.$el.html(_twemoji2.default.parse(e,_config2.default.twemoji)),this.$el.attr(_underscore2.default.extend({},_underscore2.default.result(this,"attributes"))),this.$el.linkify({linkify:"_blank"}),this.$el},prepareTemplateData:function(){var e={};return e.date=this.getDate(this.model.get("created")||+new Date),e.isOwn=this.model.isOwn(),this.model.get("text")?e.text=this.model.get("text"):e.text="This message has been deleted.",e=_underscore2.default.extend(e,this.getUserInfo())}});exports.default=TextMessageView,module.exports=exports.default;
},{"../../config":138,"../../templates/text-message.hbs":185,"./base-message-view":192,"twemoji":129,"underscore":130}],200:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_baseView=require("./base-view"),_baseView2=_interopRequireDefault(_baseView),_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_textMessageView=require("./message/text-message-view"),_textMessageView2=_interopRequireDefault(_textMessageView),_coordsMessageView=require("./message/coords-message-view"),_coordsMessageView2=_interopRequireDefault(_coordsMessageView),_formMessageView=require("./message/form-message-view"),_formMessageView2=_interopRequireDefault(_formMessageView),_imageMessageView=require("./message/image-message-view"),_imageMessageView2=_interopRequireDefault(_imageMessageView),_fileMessageView=require("./message/file-message-view"),_fileMessageView2=_interopRequireDefault(_fileMessageView),_notifyMessageView=require("./message/notify-message-view"),_notifyMessageView2=_interopRequireDefault(_notifyMessageView),_stickerMessageView=require("./message/sticker-message-view"),_stickerMessageView2=_interopRequireDefault(_stickerMessageView),_messages=require("../templates/messages.hbs"),_messages2=_interopRequireDefault(_messages),_messagesCollection=require("../collections/messages-collection"),_messagesCollection2=_interopRequireDefault(_messagesCollection),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),MessagesView=_baseView2.default.extend({subviews:[],events:{'click [data-el="history"]':"onHistoryClick"},initialize:function(){var e=this;this.collection=_messagesCollection2.default,this.listenTo(this.collection,"add",function(t,s,i){e.renderSingleMessage(t,s,i)}),this.listenTo(this.collection,"sort",function(t,s){s.rerender&&(_apiChannel2.default.request("messagesView:dispose"),t.models&&t.models.forEach(function(t){e.renderSingleMessage(t,[],{prepend:!0})}))}),this.initChannelHandlers(),this.render(),this.initWrapperResize(),this.initScrollHandler()},onHistoryClick:function(){this.setScrollValues(),_apiChannel2.default.request("messageCollection:getHistoryWithStartId")},initChannelHandlers:function(){var e=this;_apiChannel2.default.reply("messagesView:dispose",function(){e.subviews.forEach(function(e){e.remove()})}),_apiChannel2.default.reply("messagesView:scrollToBottom",function(){e.scrollToBottom()}),_apiChannel2.default.reply("messagesView:toggleHistoryButton",function(t){e.toggleHistoryButton(t)}),_apiChannel2.default.reply("messagesView:showPreloader",function(){e.showPreloader()}),_apiChannel2.default.reply("messagesView:hidePreloader",function(){e.hidePreloader()}),_apiChannel2.default.reply("showTyping",function(t){e.renderTyping()}),_apiChannel2.default.reply("messagesView:setScrollHeight",function(){e.updateScrollAfterHistory()}),_apiChannel2.default.reply("messageView:setScrollValues",function(){e.setScrollValues()})},initWrapperResize:function(){var e=this;_options2.default.autoHeight&&(this.$el.on("resize",function(){_apiChannel2.default.request("sendPostMessage",{title:"updateHeight",heightToSet:e.$(".widget-chat-content")[0].scrollHeight+20})}),setInterval(function(){e.$el.trigger("resize")},500))},initScrollHandler:function(){if(!_options2.default.embedMode){var e=this;this.$elements.content.on("scroll",function(){e.setScrollValues()})}},render:function(){this.$el.html((0,_messages2.default)()),this.setElements(),this.renderMessages()},renderMessages:function(){var e=this;this.collection.length&&this.collection.each(function(t){e.renderSingleMessage(t)})},renderSingleMessage:function(e,t,s){var i=void 0;e.isText()?i=new _textMessageView2.default({model:e}):e.isForm()?i=new _formMessageView2.default({model:e}):e.isImage()?i=new _imageMessageView2.default({model:e}):e.isFile()?i=new _fileMessageView2.default({model:e}):e.isNotify()?i=new _notifyMessageView2.default({model:e}):e.isCoords()?i=new _coordsMessageView2.default({model:e}):e.isSticker()&&(i=new _stickerMessageView2.default({model:e})),i&&(this.subviews.push(i),this.$elements.content.append(i.render()),this.toggleTypingMargin(e),s&&!s.prepend&&this.scrollToBottom())},scrollToBottom:function(){this.$(".widget-chat-content").is(":visible")&&(this.$(".widget-chat-content")[0].scrollTop=this.$(".widget-chat-content")[0].scrollHeight,_apiChannel2.default.request("containerView:reinitScroll"))},toggleTypingMargin:function(e){this.$elements.content.css("margin-bottom",(e.isOwn()?0:26)+"px")},renderTyping:function(){var e=this;this.$elements.typing.optShow(),this.$elements.content.addClass(".widget-chat-content-with-typing"),setTimeout(function(){e.$elements.content.removeClass(".widget-chat-content-with-typing"),e.$elements.typing.optHide()},2e3)},toggleHistoryButton:function(e){e?(this.$elements.history.optShow(),this.$elements.content.css({paddingTop:"30px"})):(this.$elements.history.optHide(),this.$elements.content.css({paddingTop:"10px"}))},updateScrollAfterHistory:function(){this.$elements.content[0].scrollTop=this.$elements.content[0].scrollHeight-this.prevScrollHeight+this.prevScrollTop},showPreloader:function(){this.$elements.preloader.optShow(),this.$elements.content.css({paddingTop:"55px"})},hidePreloader:function(){this.$elements.preloader.optHide()},setScrollValues:function(){this.prevScrollHeight=this.$elements.content[0].scrollHeight,this.prevScrollTop=this.$elements.content[0].scrollTop}});exports.default=MessagesView,module.exports=exports.default;
},{"../api-channel":135,"../collections/messages-collection":137,"../lib/options":150,"../templates/messages.hbs":176,"./base-view":186,"./message/coords-message-view":193,"./message/file-message-view":194,"./message/form-message-view":195,"./message/image-message-view":196,"./message/notify-message-view":197,"./message/sticker-message-view":198,"./message/text-message-view":199,"exoskeleton":92,"jquery":112,"underscore":130}],201:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_formMessageView=require("./message/form-message-view"),_formMessageView2=_interopRequireDefault(_formMessageView),_offlineForm=require("../templates/offline-form.hbs"),_offlineForm2=_interopRequireDefault(_offlineForm),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_fml=require("../lib/fml"),_fml2=_interopRequireDefault(_fml),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),OfflineFormView=_formMessageView2.default.extend({className:"widget-popup",initialize:function(){var e=this;this.listenTo(this.model,"change",function(){e.render(),_apiChannel2.default.request("containerView:reinitScroll")})},render:function(){return this._modelMixin={},this.hideSubmitClass(),this.$el.html((0,_offlineForm2.default)(this.prepareTemplateData())),this.insertJsonView(),this.$el.attr(_underscore2.default.extend({},_underscore2.default.result(this,"attributes"))),this.$el},sendForm:function(e,r,i){this.constructor.__super__.sendForm.apply(this,arguments),_apiChannel2.default.request("containerView:disposeOfflineForm"),_apiChannel2.default.request("main:cleanHistoryAndToggle")}});exports.default=OfflineFormView,module.exports=exports.default;
},{"../api-channel":135,"../lib/fml":144,"../lib/options":150,"../templates/offline-form.hbs":178,"./message/form-message-view":195,"jquery":112,"underscore":130}],202:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_restartDialog=require("../templates/restart-dialog.hbs"),_restartDialog2=_interopRequireDefault(_restartDialog),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),RestartDialogView=_exoskeleton2.default.View.extend({className:"widget-popup widget-restart-dialog",events:{"click .widget-modal-close-submit":"handleClick"},initialize:function(){this.render()},render:function(){return this.$el.html((0,_restartDialog2.default)()),this.updateOuterContainerHeight(),this.$el},updateOuterContainerHeight:function(){_options2.default.autoHeight&&_apiChannel2.default.request("sendPostMessage",{title:"updateHeight",heightToSet:320})},handleClick:function(){_apiChannel2.default.request("main:newDialog"),this.dispose()},dispose:function(){this.remove()}});module.exports=RestartDialogView;
},{"../api-channel":135,"../lib/options":150,"../templates/restart-dialog.hbs":179,"exoskeleton":92}],203:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_isRetina=require("../../lib/isRetina"),_isRetina2=_interopRequireDefault(_isRetina),_getImageRetinaSrc=require("../../lib/getImageRetinaSrc"),_getImageRetinaSrc2=_interopRequireDefault(_getImageRetinaSrc),_sendbarIcon=require("../../templates/sendbar-icon.hbs"),_sendbarIcon2=_interopRequireDefault(_sendbarIcon),_app=require("../../models/app"),_app2=_interopRequireDefault(_app),SendbarIconView=_exoskeleton2.default.View.extend({tagName:"li",className:function(){var e=["sf_chat_sendbar_icon"];return this.model.get("actions").forEach(function(t){e.push("sf_chat_sendbar_oper_"+t.oper)}),e.join(" ")},attributes:function(){return{"data-id":this.model.get("id")}},getTemplateData:function(){var e=Object.assign({},this.model.attributes),t=_app2.default.get("locale");return e.icon=(0,_isRetina2.default)()?(0,_getImageRetinaSrc2.default)(e.icon):e.icon,e.title=e.name&&e.name[t]||e.name&&e.name.ru||"",e},render:function(){return this.$el.html((0,_sendbarIcon2.default)(this.getTemplateData())),this.$el}});exports.default=SendbarIconView,module.exports=exports.default;
},{"../../lib/getImageRetinaSrc":145,"../../lib/isRetina":147,"../../models/app":158,"../../templates/sendbar-icon.hbs":180,"exoskeleton":92}],204:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_audio=require("../../lib/audio"),_audio2=_interopRequireDefault(_audio),_config=require("../../config"),_config2=_interopRequireDefault(_config),_sendbarIconView=require("./sendbar-icon-view"),_sendbarIconView2=_interopRequireDefault(_sendbarIconView),_soundControl=require("../../templates/sound-control.hbs"),_soundControl2=_interopRequireDefault(_soundControl),SendbarLevel0View=_exoskeleton2.default.View.extend({className:"sf_chat_sendbar_level0",tagName:"ul",initialize:function(e){var o=this;this.collection=e.collection,this.listenTo(this.collection,"reset",function(){o.render()})},render:function(){var e=this;return this.$el.html(""),this.collection.each(function(o){e.renderItem(o)}),this.addSoundControl(),this.$el},renderItem:function(e){var o=new _sendbarIconView2.default({model:e});o&&this.$el.append(o.render())},addSoundControl:function(){var e=_audio2.default.soundOn?_config2.default.audioControlPath.soundOnPath:_config2.default.audioControlPath.soundOffPath;this.$el.append((0,_soundControl2.default)({src:e}))}});exports.default=SendbarLevel0View,module.exports=exports.default;
},{"../../config":138,"../../lib/audio":140,"../../templates/sound-control.hbs":183,"./sendbar-icon-view":203,"exoskeleton":92}],205:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_sendbarIconView=require("./sendbar-icon-view"),_sendbarIconView2=_interopRequireDefault(_sendbarIconView),SendbarLevel1View=_exoskeleton2.default.View.extend({tagName:"ul",className:function(){var e=["sf_chat_sendbar_level1"];return this.collection.length||e.push("widget-hidden"),e.join(" ")},initialize:function(e){var t=this;this.collection=e.collection,this.listenTo(this.collection,"reset",function(){t.render()})},render:function(){var e=this;return this.$el.html(""),this.collection.each(function(t){e.renderItem(t)}),this.$el.toggleClass("widget-hidden",!this.collection.length),this.$el},renderItem:function(e){var t=new _sendbarIconView2.default({model:e});t&&this.$el.append(t.render())}});exports.default=SendbarLevel1View,module.exports=exports.default;
},{"./sendbar-icon-view":203,"exoskeleton":92}],206:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _exoskeleton=require("exoskeleton"),_exoskeleton2=_interopRequireDefault(_exoskeleton),_underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_audio=require("../../lib/audio"),_audio2=_interopRequireDefault(_audio),_config=require("../../config"),_config2=_interopRequireDefault(_config),_apiChannel=require("../../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_sendbarLevel0View=require("./sendbar-level0-view"),_sendbarLevel0View2=_interopRequireDefault(_sendbarLevel0View),_sendbarLevel1View=require("./sendbar-level1-view"),_sendbarLevel1View2=_interopRequireDefault(_sendbarLevel1View),_sendbar=require("../../templates/sendbar.hbs"),_sendbar2=_interopRequireDefault(_sendbar),SendbarView=_exoskeleton2.default.View.extend({className:"sf_chat_sendbar",events:{"click li.sf_chat_sendbar_oper_reload":"operReload","click li.sf_chat_sendbar_oper_callRobot":"operCallRobot","click li.sf_chat_sendbar_oper_sendMedia":"operSendMedia",'click [data-el="soundControl"]':"onAudioControlClick","dragstart img":"onImageDragStart"},ignoredByOper:[{oper:"sendMsg"},{oper:"switchCrypto"},{oper:"sendMedia",type:"voice"},{oper:"sendMedia",type:"vibro"},{oper:"sendMedia",type:"video"},{oper:"qrScan"},{oper:"addUser"},{oper:"callRobot",class:".sendMoney.sender"}],initialize:function(){this.getSendbarModel()},getSendbarModel:function(){this.contactModel=this.model,this.listenTo(this.contactModel,"change",this.updateBar)},prepareData:function(){var e=this;this.levelsState={0:[],1:[]};var t=this.contactModel,n=_underscore2.default.filter(t.get("items"),function(t){return e.ignoredByOper.reduce(function(e,n){return e&&!_underscore2.default.findWhere(t.actions,n)},!0)});this.collection=new _exoskeleton2.default.Collection(n),this.collectionLevel0=new _exoskeleton2.default.Collection([]),this.collectionLevel1=new _exoskeleton2.default.Collection([]),this.setInitLevels()},updateLevelCollection:function(e){var t=this,n=this.collection.filter(function(n){return t.filterByLevel(e,n)});this["collectionLevel"+e].reset(n)},setLevel0State:function(e){this.levelsState[0]=e,this.updateLevelCollection(0)},setLevel1State:function(e){this.levelsState[1]=e,this.updateLevelCollection(1)},setInitLevels:function(){this.setLevel0State(this.contactModel.get("init")._0),this.setLevel1State([])},filterByLevel:function(e,t){return this.findInState(e,t)!==-1},comparatorByLevel:function(e){return function(t){return this.findInState(e,t)}.bind(this)},findInState:function(e,t){return this.levelsState[e].indexOf(+t.get("id"))},render:function(){if(this.$el.html((0,_sendbar2.default)()),this.barExist()){this.prepareData();var e=new _sendbarLevel0View2.default({collection:this.collectionLevel0}),t=new _sendbarLevel1View2.default({collection:this.collectionLevel1});this.$(".sf_sendbar_chat_level0_wrap").append(e.render()),this.$(".sf_sendbar_chat_level1_wrap").append(t.render())}return this.$el},getActionByEvent:function(e){var t=(0,_jquery2.default)(e.currentTarget),n=this.collection.get(t.attr("data-id")),i=t.attr("class").split(" ").reduce(function(e,t){return t.indexOf("oper")>-1?t:e},!1).split("_"),r=i[i.length-1];return n.get("actions").filter(function(e){return e.oper===r})[0]},operReload:function(e){var t=this.getActionByEvent(e);t._0&&this.setLevel0State(t._0),this.setLevel1State(t._1||[])},operCallRobot:function(e){var t=this.getActionByEvent(e);_apiChannel2.default.request("apiRequest",t.class),this.setInitLevels()},operSendMedia:function(e){e.preventDefault();var t=this.getActionByEvent(e);_apiChannel2.default.request("sendMedia",t.type),this.setInitLevels()},onAudioControlClick:function(){var e=_audio2.default.soundOn?_config2.default.audioControlPath.soundOffPath:_config2.default.audioControlPath.soundOnPath;this.$('[data-el="soundControl"] img').attr("src",e),_audio2.default.soundOn=!_audio2.default.soundOn},updateBar:function(){this.isBarNotEmpty(this.contactModel.toJSON())||this.getSendbarModel(),this.render()},barExist:function(){return this.contactModel&&this.isBarNotEmpty(this.contactModel.get("items"))},isBarNotEmpty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.getOwnPropertyNames(e).length},onImageDragStart:function(e){return e.preventDefault(),!1}});exports.default=SendbarView,module.exports=exports.default;
},{"../../api-channel":135,"../../config":138,"../../lib/audio":140,"../../templates/sendbar.hbs":181,"./sendbar-level0-view":204,"./sendbar-level1-view":205,"exoskeleton":92,"jquery":112,"underscore":130}],207:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=require("underscore"),_underscore2=_interopRequireDefault(_underscore),_baseView=require("./base-view"),_baseView2=_interopRequireDefault(_baseView),_config=require("../config"),_config2=_interopRequireDefault(_config),_jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_apiChannel=require("../api-channel"),_apiChannel2=_interopRequireDefault(_apiChannel),_smiles=require("../templates/smiles.hbs"),_smiles2=_interopRequireDefault(_smiles),_options=require("../lib/options"),_options2=_interopRequireDefault(_options),SmilesView=_baseView2.default.extend({className:"widget-robot-search nano",events:{"mousedown .sf_chat_smiles_list_holder":"eventOnEmojiBoxMouseDown","mousedown .sf_smile_icon":"eventOnEmojiClick","click .sf_sticker":"eventOnStickerClick"},initialize:function(){this.initChannelHandlers()},initChannelHandlers:function(){var e=this;_apiChannel2.default.reply("smilesView:toggleList",function(i){e.toggleList(i)})},initScroll:function(){this.$el.nanoScroller()},render:function(){return this.$el.html((0,_smiles2.default)(this.prepareTemplateData())),this.setElements(),this.$el},prepareTemplateData:function(){return{stickers:_config2.default.stickersList,smiles:_config2.default.emojiChars,stickersPath:_config2.default.stickersPath}},toggleList:function(e){switch(e){case"sticker":this.showStickers();break;case"smile":this.showSmiles();break;default:this.showStickers()}},eventOnEmojiBoxMouseDown:function(){e.preventDefault()},eventOnEmojiClick:function(e){var i=(0,_jquery2.default)(e.currentTarget).attr("data-id");_apiChannel2.default.request("consoleView:insertEmoji",{emojiId:i})},eventOnStickerClick:function(e){var i=(0,_jquery2.default)(e.currentTarget).attr("data-id");if(i){var t={id:i,from:_options2.default.userId||"me"};_apiChannel2.default.request("addMessage",{model:t,class:"sticker"})}},showSmiles:function(){this.$elements.stickers.optHide(),this.$elements.people.optShow(),this.initScroll()},showStickers:function(){this.$elements.stickers.optShow(),this.$elements.people.optHide(),this.initScroll()}});exports.default=SmilesView,module.exports=exports.default;
},{"../api-channel":135,"../config":138,"../lib/options":150,"../templates/smiles.hbs":182,"./base-view":186,"jquery":112,"underscore":130}]},{},[157]);
